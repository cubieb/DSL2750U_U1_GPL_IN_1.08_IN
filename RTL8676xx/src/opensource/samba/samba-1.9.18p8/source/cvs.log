
****************************************
Date:	Saturday May 4, 1996 @ 20:32
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8106

Modified Files:
	includes.h 
Log Message:
added sequent fixes






****************************************
Date:	Saturday May 4, 1996 @ 20:43
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8316

Modified Files:
	ipc.c 
Log Message:
use the new issafe() macro instead of isalnum() and strchr()



****************************************
Date:	Saturday May 4, 1996 @ 20:44
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8360

Modified Files:
	mangle.c 
Log Message:
move the dot_pos calculation down a bit 




****************************************
Date:	Saturday May 4, 1996 @ 20:45
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8389

Modified Files:
	password.c 
Log Message:
fix a netgroup bug (innetgr() was being called with the args in the
wrong order!)





****************************************
Date:	Saturday May 4, 1996 @ 20:48
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8426

Modified Files:
	server.c 
Log Message:
- use issafe()

- map the archive bit in a more robust manner. We now set it when we
first write to the file after opening it.






****************************************
Date:	Saturday May 4, 1996 @ 20:49
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8458

Modified Files:
	util.c 
Log Message:
fix a dst bug, we had a sign wrong in the calculation :-(




****************************************
Date:	Saturday May 4, 1996 @ 20:51
Author:	tridge

Update of /data/cvs/samba/examples/misc
In directory arvidsjaur:/var/tmp/cvs-serv8546

Modified Files:
	wall.perl 
Log Message:
updates to wall.perl from michal@ellpspace.math.ualberta.ca



****************************************
Date:	Saturday May 4, 1996 @ 23:13
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv13363/samba

Modified Files:
	README 
Log Message:
Changed to reflect new ownership by Microsoft



****************************************
Date:	Saturday May 4, 1996 @ 23:16
Author:	tridge

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv13433

Modified Files:
	README 
Log Message:
removed obscene comment added by Dan



****************************************
Date:	Sunday May 5, 1996 @ 13:04
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv587

Modified Files:
	server.c 
Log Message:
- close the listening socket in the child process when running as a daemon
- exit with a non-zero exit code if open_sockets() fails



****************************************
Date:	Sunday May 5, 1996 @ 13:04
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv615

Modified Files:
	version.h 
Log Message:
change version number to 1.9.16p2




****************************************
Date:	Sunday May 5, 1996 @ 17:19
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	Support.txt 
Log Message:
added some more support entries from samba-bugs mail



****************************************
Date:	Sunday May 5, 1996 @ 18:02
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6791

Modified Files:
	nmbd.8 
Log Message:
removed old -S option from nmbd manpage





****************************************
Date:	Sunday May 5, 1996 @ 18:03
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6832

Modified Files:
	smbclient.1 
Log Message:
documented -W option






****************************************
Date:	Sunday May 5, 1996 @ 21:08
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10254

Added Files:
	.cvsignore 
Log Message:
ignore some files







****************************************
Date:	Sunday May 5, 1996 @ 21:10
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10352

Modified Files:
	Makefile 
Log Message:
- added NEWOS 6 support

- added quotas.o








****************************************
Date:	Sunday May 5, 1996 @ 21:12
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10423

Modified Files:
	client.c 
Log Message:
- handle CORE protocol better
- handle case where director exists when untarring









****************************************
Date:	Sunday May 5, 1996 @ 21:23
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10576

Modified Files:
	dir.c 
Log Message:
handle being passed a dptr of -1 to mean "close all open dir handles".
Looks like OS/2 does this. It caused a core dump.








****************************************
Date:	Sunday May 5, 1996 @ 21:24
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10602

Modified Files:
	local.h 
Log Message:
turn on KEEP_PASSWORD_SERVER_OPEN by default









****************************************
Date:	Sunday May 5, 1996 @ 21:24
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10629

Modified Files:
	password.c 
Log Message:
turn on KEEP_PASSWORD_SERVER_OPEN by default









****************************************
Date:	Sunday May 5, 1996 @ 21:25
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10657

Added Files:
	quotas.c 
Log Message:
move quotas support out of server.c








****************************************
Date:	Sunday May 5, 1996 @ 21:26
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10682

Modified Files:
	server.c 
Log Message:
- fix a bug hanlding very log filenames
- move quotas support to separate file
- send keepalives to password server









****************************************
Date:	Sunday May 5, 1996 @ 21:33
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10862

Modified Files:
	status.c 
Log Message:
- added hostname support to smbstatus
- fix a bug where -s would not be recognised







****************************************
Date:	Sunday May 5, 1996 @ 21:34
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10889

Modified Files:
	trans2.c 
Log Message:
made dptr_num signed to handle -1 from OS/2








****************************************
Date:	Sunday May 5, 1996 @ 21:35
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10930

Modified Files:
	version.h 
Log Message:
fixed version number (again!)









****************************************
Date:	Monday May 6, 1996 @ 10:36
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	MIRRORS 
Log Message:
added QNX entry to MIRRORS



****************************************
Date:	Monday May 6, 1996 @ 16:46
Author:	samba-bugs

Update of /data/cvs/samba/examples/misc
In directory arvidsjaur:/var/tmp/cvs-serv5225

Modified Files:
	extra_smbstatus 
Log Message:
Updated smbstat script with a better one, Paul.



****************************************
Date:	Monday May 6, 1996 @ 18:55
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv8483

Modified Files:
	BUGS.txt MIRRORS README.OS2 announce samba.7 
Log Message:
Updated references in doco to 'http://lake.can.....'
with 'http://samba.can.....' and added a mirror site to MIRROR



****************************************
Date:	Monday May 6, 1996 @ 19:16
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv8786

Modified Files:
	samba.faq 
Log Message:
Update the samba.faq file with what was current on the web site, there
were a number of additions.
Changed the faq version number to 1.9.15 to match current samba version.



****************************************
Date:	Friday May 17, 1996 @ 10:43
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv32671

Modified Files:
	README 
Log Message:

Made   chang
blody comso: can't see what i'm writing...
Made changes to reflect nimbus.anu.edu.au -> samba.anu.edu.au chage.
changed reference to /ub/samba/change-log o /ub/samba/alpha/change-log
Also added samba.faq.html to docs directory
Paul...




****************************************
Date:	Friday May 17, 1996 @ 10:43
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv32671/docs

Modified Files:
	samba.faq 
Log Message:

Made   chang
blody comso: can't see what i'm writing...
Made changes to reflect nimbus.anu.edu.au -> samba.anu.edu.au chage.
changed reference to /ub/samba/change-log o /ub/samba/alpha/change-log
Also added samba.faq.html to docs directory
Paul...




****************************************
Date:	Monday May 20, 1996 @ 18:11
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv27227

Modified Files:
	README 
Log Message:
Changed more references of 'nimbus.anu.edu.au/pub/tridge/samba' to
'samba.anu.edu.au/pub/samba'
The only reference I see now to 'nimbus' is in ENCRYPTION.txt regarding
libdes stuff.
Paul...



****************************************
Date:	Monday May 20, 1996 @ 18:11
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27227/docs

Modified Files:
	HINTS.txt MIRRORS announce samba.7 samba.lsm 
Log Message:
Changed more references of 'nimbus.anu.edu.au/pub/tridge/samba' to
'samba.anu.edu.au/pub/samba'
The only reference I see now to 'nimbus' is in ENCRYPTION.txt regarding
libdes stuff.
Paul...



****************************************
Date:	Friday May 24, 1996 @ 9:23
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv2665/samba/docs

Modified Files:
	DIAGNOSIS.txt 
Log Message:
Added check for something already binding to port 139 to TEST 3
   Dan



****************************************
Date:	Friday May 24, 1996 @ 9:45
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv2938/samba/docs

Modified Files:
	samba.faq 
Log Message:
Updated general section to include more about current capabilities. Added
references to samba-bugs, DIAGNOSIS.txt and the hypermail archives. Various
other small changes.
   Dan



****************************************
Date:	Friday May 24, 1996 @ 9:50
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv3028/samba/docs

Modified Files:
	BUGS.txt 
Log Message:
Added reference to DIAGNOSIS.txt. Deleted the claim that tridge reads all
postings to mailing list. Removed arvidsjaur, other small stuff.
   Dan



****************************************
Date:	Friday May 24, 1996 @ 9:54
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv3126/samba

Modified Files:
	README 
Log Message:
General updating.
   Dan



****************************************
Date:	Tuesday May 28, 1996 @ 23:39
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	MIRRORS 
Log Message:
added nimbus to list of mirrors



****************************************
Date:	Wednesday May 29, 1996 @ 13:11
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13319

Modified Files:
	util.c 
Log Message:
cleaned up the way the max log size stuff works and fixed a potential
problem with varargs usage in Debug()



****************************************
Date:	Wednesday May 29, 1996 @ 14:34
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	change-log 
Log Message:
preparing for release of 1.9.16alpha2


****************************************
Date:	Wednesday May 29, 1996 @ 14:35
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Added Files:
	cvs.log 
Log Message:
preparing for release of 1.9.16alpha2


****************************************
Date:	Wednesday May 29, 1996 @ 17:45
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv20738

Modified Files:
	UNIX-SMB.txt samba.faq 
Log Message:
added comments about trapdoor uids




****************************************
Date:	Wednesday May 29, 1996 @ 17:47
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv20784

Modified Files:
	password.c smbencrypt.c smbpass.c smbpasswd.c 
Log Message:
cleanups to make thinsg compile cleanly





****************************************
Date:	Wednesday May 29, 1996 @ 17:49
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv20901

Modified Files:
	trans2.c 
Log Message:
fixed a typo






****************************************
Date:	Wednesday May 29, 1996 @ 17:53
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21121

Modified Files:
	server.c util.c 
Log Message:
handle errors from receive_smb better, and print error string







****************************************
Date:	Wednesday May 29, 1996 @ 17:55
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	cvs.log version.h 
Log Message:
preparing for release of 1.9.16alpha3


****************************************
Date:	Wednesday May 29, 1996 @ 23:37
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Removed Files:
	cvs.log 
Log Message:
remove cvs.log from cvs, instead use the release script to copy it to
the right places



****************************************
Date:	Thursday May 30, 1996 @ 10:06
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Added Files:
	security_level.txt 
Log Message:
added this ages ago, but forgot to put it in cvs


****************************************
Date:	Thursday May 30, 1996 @ 13:07
Author:	tridge

Update of /data/cvs/samba/examples/thoralf
In directory arvidsjaur:/var/tmp/cvs-serv13278/thoralf

Log Message:
Directory /data/cvs/samba/examples/thoralf added to the repository



****************************************
Date:	Thursday May 30, 1996 @ 13:15
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv13461

Modified Files:
	samba.faq 
Log Message:
- added an entry on WinDD to samba.faq
- added a sample smb.conf from Thoralf.Freitag@remserv.rz.fhtw-berlin.de
- print the errno when you get a can't change directory error
- added installscripts.sh from James_K._Foote.PARC@xerox.com



****************************************
Date:	Thursday May 30, 1996 @ 13:15
Author:	tridge

Update of /data/cvs/samba/examples/thoralf
In directory arvidsjaur:/var/tmp/cvs-serv13485

Added Files:
	smb.conf 
Log Message:
- added an entry on WinDD to samba.faq
- added a sample smb.conf from Thoralf.Freitag@remserv.rz.fhtw-berlin.de
- print the errno when you get a can't change directory error
- added installscripts.sh from James_K._Foote.PARC@xerox.com



****************************************
Date:	Thursday May 30, 1996 @ 13:15
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13502

Modified Files:
	Makefile server.c 
Added Files:
	installscripts.sh 
Log Message:
- added an entry on WinDD to samba.faq
- added a sample smb.conf from Thoralf.Freitag@remserv.rz.fhtw-berlin.de
- print the errno when you get a can't change directory error
- added installscripts.sh from James_K._Foote.PARC@xerox.com



****************************************
Date:	Friday May 31, 1996 @ 16:09
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14715

Modified Files:
	reply.c 
Log Message:
comment out the code that tries to handle the NT bug where the 2nd
passlen is wrong. The fix is worse than the problem :-)



****************************************
Date:	Friday May 31, 1996 @ 16:10
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14774

Modified Files:
	.cvsignore 
Log Message:
add my private makefile to the ignore list




****************************************
Date:	Saturday June 1, 1996 @ 1:09
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27355

Modified Files:
	samba.faq smb.conf.5 smbclient.1 
Log Message:
Lots of changes!

- add faq info on NT printer handling
- add "delete readonly" option to help rcs users
- add stuff to man pages on new printer options
- add "proxy name resolution" option
- add "command string" -c option to smbclient (thanks Ken)
- split time functions into time.c
- rearrange the quotas stuff a bit and fix some bugs
- complete rehash of the time handling code thanks to Paul Eggert
- fix nmblookup output a bit
- add plp print queue parsing from Bertrand Wallrich






****************************************
Date:	Saturday June 1, 1996 @ 1:13
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27417

Modified Files:
	Makefile client.c clitar.c includes.h ipc.c loadparm.c 
	loadparm.h local.h nameserv.c nmblib.c password.c printing.c 
	quotas.c reply.c server.c smb.h smbpasswd.c status.c 
	testparm.c testprns.c util.c 
Added Files:
	time.c 
Log Message:
Lots of changes!

- add faq info on NT printer handling
- add "delete readonly" option to help rcs users
- add stuff to man pages on new printer options
- add "proxy name resolution" option
- add "command string" -c option to smbclient (thanks Ken)
- split time functions into time.c
- rearrange the quotas stuff a bit and fix some bugs
- complete rehash of the time handling code thanks to Paul Eggert
- fix nmblookup output a bit
- add plp print queue parsing from Bertrand Wallrich






****************************************
Date:	Saturday June 1, 1996 @ 1:16
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha4


****************************************
Date:	Sunday June 2, 1996 @ 1:25
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv20106

Modified Files:
	Makefile includes.h ipc.c loadparm.c loadparm.h server.c smb.h 
	smbrun.c util.c 
Added Files:
	uid.c 
Log Message:
- moved the uid handling to uid.c
- added setfsuid() support (for Linux)
- started adding some of Lukes changes, just the loadparm and ipc ones
so far





****************************************
Date:	Tuesday June 4, 1996 @ 16:41
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/data/tridge/samba/source

Modified Files:
	Makefile charcnv.c client.c clitar.c getsmbpass.c includes.h 
	kanji.c loadparm.c loadparm.h local.h md4.c nameserv.c 
	nameserv.h nmblib.c nmblookup.c nmbsync.c params.c params.h 
	password.c reply.c server.c smb.h smbencrypt.c smbpass.c 
	smbpasswd.c smbrun.c status.c testparm.c trans2.c ufc.c uid.c 
	util.c vt_mode.c 
Added Files:
	clientutil.c localnet.h mkproto.awk nameannounce.c namedb.c 
	nameelect.c namequery.c nameresp.c namework.c nmbd.c proto.h 
Removed Files:
	sockspy.c 
Log Message:
a huge pile of changes :-)

The biggest thing is the integration of Lukes new nmbd. Its still
largely untested, so we will really need some feedback

I've also added auto prototype generation and cleaned up a lot of
minor things as a result



****************************************
Date:	Tuesday June 4, 1996 @ 16:53
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/data/tridge/samba/source

Modified Files:
	mkproto.awk namework.c quotas.c 
Log Message:
add dummy quotas fn
fix typo in reply to backup lists



****************************************
Date:	Wednesday June 5, 1996 @ 1:12
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30528

Modified Files:
	smb.conf.5 
Log Message:
Did more integration of Lukes code ready for the first release.

I've now got WINS registration working, and refresh working. Its
looking pretty good so far, but needs lots of testing.




****************************************
Date:	Wednesday June 5, 1996 @ 1:14
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30555

Modified Files:
	client.c loadparm.c loadparm.h nameannounce.c namedb.c 
	nameelect.c nameresp.c nameserv.c nameserv.h namework.c nmbd.c 
	nmblib.c nmbsync.c util.c 
Log Message:
Did more integration of Lukes code ready for the first release.

I've now got WINS registration working, and refresh working. Its
looking pretty good so far, but needs lots of testing.




****************************************
Date:	Wednesday June 5, 1996 @ 1:19
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	Support.txt 
Log Message:
updated the entry for Phillip Hands



****************************************
Date:	Wednesday June 5, 1996 @ 1:19
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha5


****************************************
Date:	Thursday June 6, 1996 @ 1:00
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22460

Modified Files:
	Makefile 
Log Message:
removed some obsolete warnings



****************************************
Date:	Thursday June 6, 1996 @ 1:15
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22665

Modified Files:
	clientutil.c dir.c includes.h nameannounce.c namedb.c 
	nameresp.c nameserv.h namework.c nmbd.c nmblib.c nmbsync.c 
	proto.h trans2.c util.c 
Log Message:
- changed some debug levels in clientutil.c

- added dir_check_ftype() to clean up the file type checking a bit

- added check for libc version >= 5 for setfsuid() for Linux

- moved the AM_MASTER() and related macros to nameserv.h

- added proper defines for the various netbios announce types

- don't call the announce_backup() code, as I'm pretty sure its wrong
it sent ANN_GetBackupListReq packets as broadcasts, they are supposed
to be used only by clients to the master browser to find a list of
available backup servers to remote a netserverenum to, I don't think 
nmbd should ever send one.

- fixed a bug in the browse list writing

- minor debug cleanups

- put in the code to discard our own broadcasts (it won't work for
multi-homed hosts though)

- changed ELECTION_VERSION to 1 so we can be beaten by a NT 3.51 server by
lowering the os level.

- only do sync_browse_lists() if we are the master browser, otherwise
we'll cause network overload

- don't call tell_become_backup() as it appears to be badly broken, it
should only be used when the machine being told has its MAINTAIN_LIST
to to auto. Not calling it does no great harm anyway

- fix a nasty bug where becomebackup was confused with reset browser!

- make setbuffer() not get caught by the auto protototypes



****************************************
Date:	Thursday June 6, 1996 @ 1:44
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23506

Modified Files:
	nameelect.c nameserv.c server.c 
Log Message:
- remove some incorrect prototypes from server.c
- formatting cleanup in check_master_browser()
- removed unused code from nameserv.c



****************************************
Date:	Thursday June 6, 1996 @ 1:46
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha6


****************************************
Date:	Thursday June 6, 1996 @ 10:28
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/data/tridge/samba/source

Modified Files:
	.cvsignore 
Log Message:
add sunos private makefile to .ignore



****************************************
Date:	Thursday June 6, 1996 @ 10:29
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/data/tridge/samba/source

Modified Files:
	namedb.c proto.h 
Log Message:
fix a bug that meant alpha6 couldn't compile. 




****************************************
Date:	Thursday June 6, 1996 @ 10:30
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha7


****************************************
Date:	Thursday June 6, 1996 @ 21:24
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv25092

Modified Files:
	BROWSING.txt INSTALL.txt smb.conf.5 
Log Message:
added some notes on the new "interfaces" option



****************************************
Date:	Thursday June 6, 1996 @ 21:42
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25750

Modified Files:
	Makefile client.c includes.h ipc.c loadparm.c loadparm.h 
	localnet.h nameannounce.c namedb.c nameelect.c nameresp.c 
	nameserv.c namework.c nmbd.c nmblib.c nmblookup.c nmbsync.c 
	password.c proto.h server.c time.c util.c 
Added Files:
	interface.c 
Log Message:
- added interface.c and removed all the references to myip, bcast_ip
and Netmask, instead replacing them with calls to routines in
interface.c

- got rid of old MAXINT define

- added code to ensure we only return one entry for each name in the ipc
enum routines

- added new_only option to add_netbios_entry() to prevent overwriting
of important names

- minor time handling fixup



****************************************
Date:	Thursday June 6, 1996 @ 21:57
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha8


****************************************
Date:	Friday June 7, 1996 @ 13:34
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8181

Modified Files:
	Makefile interface.c loadparm.c loadparm.h namedb.c 
	nameelect.c nameserv.c namework.c nmbd.c nmbsync.c proto.h 
	util.c 
Added Files:
	predict.c 
Log Message:
- added predict.c, moving the routines from util.c

- added iface_count() and iface_n_ip() routines so its easy to loop
over the local interface list

- made readsize a normal loadparm global

- check for null w in add_domain_entry()

- set the deathtime to time()-1 for doamin entries with servertype==0
This allows servers that are shutting down to be removed

- add the 0x1c name at startup if we are a WINS server. Previously we
added it only if we were a master

- loop over interfaces in add_my_domains(), so people don't have to
have a lmhosts file to get lp_workgroup() on all interfaces

- set add to True for find_workgroupstruct() in nmbsync, and check for
null return

- remove some ugly "errno = EBADF" bits. they just confused things.





****************************************
Date:	Saturday June 8, 1996 @ 14:33
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv272

Modified Files:
	byteorder.h installscripts.sh interface.c nmblookup.c quotas.c 
Log Message:
- added comments to byteorder.h explaining how it works.
- fixed problem with installscripts if srcdir is not set
- fixed ptr init bug in interface.c
- changed default lookup type in nmblookup to match nbtstat under NT
- new quotas fixes for sunos and solaris



****************************************
Date:	Saturday June 8, 1996 @ 14:34
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv323

Modified Files:
	nameannounce.c 
Log Message:
patches fromk Luke putting in symbolic names for time constants



****************************************
Date:	Saturday June 8, 1996 @ 14:36
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv369

Modified Files:
	namedb.c 
Log Message:
moved MSBROWSE into nameserv.h




****************************************
Date:	Saturday June 8, 1996 @ 14:40
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv477

Modified Files:
	nameelect.c nameserv.h nmbd.c 
Log Message:
changes from Luke





****************************************
Date:	Saturday June 8, 1996 @ 14:41
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv514

Modified Files:
	namework.c 
Log Message:
changes from Luke





****************************************
Date:	Saturday June 8, 1996 @ 15:36
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1668

Modified Files:
	MIRRORS 
Log Message:
fixed the apana MIRRORS entry






****************************************
Date:	Saturday June 8, 1996 @ 15:37
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1757

Modified Files:
	nameresp.c nameserv.c nmbd.c proto.h 
Log Message:
more changes from Luke







****************************************
Date:	Saturday June 8, 1996 @ 15:38
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha9


****************************************
Date:	Monday June 10, 1996 @ 13:37
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1310

Modified Files:
	nameannounce.c namedb.c nameelect.c nameserv.h namework.c 
	nmbd.c nmbsync.c 
Log Message:
updates from Luke to rename "domains" more accurately to "subnets"



****************************************
Date:	Monday June 10, 1996 @ 13:39
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1374

Modified Files:
	Makefile locking.c proto.h util.c 
Added Files:
	replace.c 
Log Message:
moved some more locking routines to locking.c, and moved replacement
routines for broken OSes from util.c to replace.c.





****************************************
Date:	Monday June 10, 1996 @ 13:41
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1462

Modified Files:
	smb.conf.5 
Log Message:
documented the "max disk size" option.

I'm sure I've done this before, we must have lost some patches a while
ago?





****************************************
Date:	Monday June 10, 1996 @ 14:38
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1863

Modified Files:
	access.c chgpasswd.c client.c clitar.c dir.c interface.c ipc.c 
	loadparm.c locking.c mangle.c message.c mkproto.awk 
	nameannounce.c namedb.c nameelect.c nameresp.c nameserv.c 
	namework.c nmbd.c nmblib.c nmbsync.c params.c password.c 
	pcap.c predict.c printing.c proto.h quotas.c reply.c server.c 
	smb.h smbencrypt.c smbpass.c status.c testparm.c testprns.c 
	trans2.c ufc.c uid.c username.c util.c 
Removed Files:
	loadparm.h localnet.h params.h pcap.h reply.h smbpass.h 
Log Message:
got rid of a lot of redundent header files as we now globally generate
prototypes automatically using "make proto". This is much less prone
to error than the old method of manually adding prototypes






****************************************
Date:	Monday June 10, 1996 @ 15:16
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2785

Modified Files:
	ipc.c password.c reply.c server.c smb.h trans2.c util.c 
Log Message:
a cleanup of the receive_smb() usage, adding timeouts in some places

also added paranoid code in the main process() loop of smbd to detect
when smbd is looping uselessly. This should stop the "smbd is chewing
lots of cpu" reports







****************************************
Date:	Monday June 10, 1996 @ 15:20
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha10


****************************************
Date:	Monday June 10, 1996 @ 16:08
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6264

Modified Files:
	nameannounce.c namedb.c nameelect.c 
Log Message:
minor patch to allow host announcements to remote subnets



****************************************
Date:	Wednesday June 12, 1996 @ 11:46
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv19858

Modified Files:
	charset.c 
Log Message:
demo of cvs - ignore



****************************************
Date:	Friday June 14, 1996 @ 14:20
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11409/samba/source

Modified Files:
	Makefile 
Log Message:
Added option for specifying awk executable if not 'awk' initially for SunOSxx
Dan Shearer 14 June 96



****************************************
Date:	Tuesday June 18, 1996 @ 0:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9310/samba/source

Modified Files:
	Makefile mkproto.awk 
Log Message:
Added source filename to give crude index
Dan 17 June 1996



****************************************
Date:	Tuesday June 18, 1996 @ 1:36
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	Makefile 
Log Message:
Fixed stupid bug introduced minutes ago
Dan



****************************************
Date:	Wednesday June 19, 1996 @ 22:23
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29445

Modified Files:
	locking.c printing.c 
Log Message:
- change date as a demo for john
- modified plp printing parser to work on my system



****************************************
Date:	Wednesday June 19, 1996 @ 22:27
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29534

Modified Files:
	smbtar 
Log Message:
 - deleted reduntant blank line at end of file (JHT)



****************************************
Date:	Wednesday June 19, 1996 @ 23:23
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv30708/samba

Modified Files:
	README 
Log Message:
Basic doc changes to keep up to date.

Dan



****************************************
Date:	Wednesday June 19, 1996 @ 23:23
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30708/samba/docs

Modified Files:
	announce security_level.txt 
Log Message:
Basic doc changes to keep up to date.

Dan



****************************************
Date:	Wednesday June 19, 1996 @ 23:23
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30708/samba/source

Modified Files:
	change-log proto.h system.c 
Log Message:
Basic doc changes to keep up to date.

Dan



****************************************
Date:	Sunday June 30, 1996 @ 4:49
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13629

Modified Files:
	Makefile loadparm.c mkproto.awk nameannounce.c namedb.c 
	nameelect.c nameresp.c nameserv.c nameserv.h namework.c nmbd.c 
	nmblookup.c nmbsync.c proto.h smb.h 
Log Message:


luke's first attempt at using cvs

accidentally updated the Makefile

updated the name database structure (again!). this time, there is one
name database per local interface. there is also a pseudo-interface on
ip 255.255.255.255. its purpose is to store WINS name entries. all the
local interface name databases store SELF names only. the WINS name
database stores non-special browser names.

added wins.dat file: records WINS entries in ascii format. this is reloaded
when nmbd restarts.

added repeating code for response packets. timer is in seconds only at the
moment.

updated the response queue code to deal with samba registering with a
WINS server a bit better (added more cases when a response isn't received).
tidied up the response packet processing code and expire_response_queue()
code. added cross references between response received and await-response
expired code.

added over-zealous code that checks all machines that register with samba
as a WINS server (every 10 minutes i think): to see whether they are still
alive or not (see rfc1001.txt)

bug reported by terry@ren.pc.athabascau.ca: DNSFAILed names _stay_ as
DNSFAIL, even though the machine may come back up and REGISTER.

removed update_from_reg() function. it's not necessary, and it does too much.

added code that announces on each local interface samba's ttl as zero and
servertype as zero when nmbd is kill -TERMed

first attempt at putting the first functionality of samba browsing back in
(remote subnets should have samba appear in a workgroup specified through
the lmhosts file)

lots of other miscellaneous tidying up / chopping about.



****************************************
Date:	Sunday June 30, 1996 @ 5:26
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14098/samba/source

Modified Files:
	Makefile interface.c 
Log Message:


added local and remote interfaces (didn't get done in first attempt)



****************************************
Date:	Sunday June 30, 1996 @ 21:00
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9252

Modified Files:
	Makefile 
Log Message:




****************************************
Date:	Tuesday July 2, 1996 @ 4:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1723

Added Files:
	nameresp.doc nameserv.doc 
Log Message:


first draft of low-level design documents describing the operation of
nameserv.c and nameresp.c and their interaction with the rest of nmbd.



****************************************
Date:	Tuesday July 2, 1996 @ 4:29
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1885

Modified Files:
	nameresp.c nameserv.c proto.h 
Log Message:


updated the NetBIOS code due to some bugs found by writing the first draft
of the low level design docs.



****************************************
Date:	Tuesday July 2, 1996 @ 4:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2248

Modified Files:
	ipc.c 
Log Message:


patch to fix NetServerEnum with multiple workgroup lists kindly supplied.
it works for him. needs testing.



****************************************
Date:	Wednesday July 3, 1996 @ 1:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22758

Modified Files:
	nameresp.doc nameserv.doc 
Added Files:
	namework.doc 
Log Message:


updated low-level design documentation on nmbd. first draft of namework.doc
and updated the other two.

lkcl



****************************************
Date:	Wednesday July 3, 1996 @ 1:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22894

Modified Files:
	nameserv.c namedb.c Makefile namework.c nameserv.h 
	nameannounce.c nameelect.c nameresp.c 
Added Files:
	namebrowse.c namelogon.c 
Log Message:


as a result of the writing of namework.doc, namework.c has been tidied up,
some bugs fixed / documented and some discrepancies noted down (in
namework.c as well as namework.doc)

namebrowse.c and namelogon.c contain functions that were inappropriately
placed in namework.c. namebrowse.c contains browse sync queue management
functions that were inappropriately placed in namedb.c

the 'cmd_type' member of response_record has been renamed to 'state'
because that more accurately reflects it purpose (not entirely. sigh).

fixed a bug in nameserv.c that meant the previous version wouldn't
compile.

there's probably a bit more...

lkcl



****************************************
Date:	Wednesday July 3, 1996 @ 11:58
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29605

Modified Files:
	client.c reply.c 
Log Message:
- moved the protocol defs in the client to keep sill C compilers happy
- added change for cnum range in reply_tdis()



****************************************
Date:	Wednesday July 3, 1996 @ 12:39
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30677

Modified Files:
	Makefile proto.h 
Log Message:
fix Makefile - remove Lukes private stuff :-)
rerun proto generator



****************************************
Date:	Wednesday July 3, 1996 @ 12:58
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30965

Modified Files:
	nameannounce.c 
Log Message:
fixed conflict with global variable updatecount



****************************************
Date:	Wednesday July 3, 1996 @ 12:58
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31015

Modified Files:
	nameresp.c 
Log Message:
fixed conflict between two variables called d



****************************************
Date:	Wednesday July 3, 1996 @ 12:58
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31037

Modified Files:
	proto.h 
Log Message:
generated new proto.h



****************************************
Date:	Thursday July 4, 1996 @ 13:16
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22778/source

Modified Files:
	Makefile access.c change-log checkos.sh 
Log Message:
Started uninstall in Makefile
Updated some email addresses



****************************************
Date:	Thursday July 4, 1996 @ 13:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22827/source

Modified Files:
	Makefile 
Log Message:
Put "which awk?" section in Makefile again

Dan



****************************************
Date:	Friday July 5, 1996 @ 5:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6347

Modified Files:
	charset.c ipc.c namedb.c nameelect.c nameresp.c nameserv.c 
	nameserv.h nmbd.c nmbsync.c proto.h 
Log Message:

modified become_master() to a state-based system. becoming a master
is now performed in stages: wait for each NetBIOS name to be
successfully registered before proceeding to the next stage.

tied implicit name registration and release (broadcast method) to the
same piece of code as explicit method (via WINS server).

created special_browser_name() function that checks __MSBROWSE__
name: this name is ignored by WINS servers apparently.

fixed likely incompatibility between refresh_my_names() and add_my_names().
(netbios entries were unlikely to be refreshed).

NOTE: none of these changes have been tested. at all.

lkcl



****************************************
Date:	Friday July 5, 1996 @ 5:40
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6805

Modified Files:
	namebrowse.c proto.h 
Log Message:

namebrowse.c was using variable work uninitialised.
remkproto'd proto.h

lkcl



****************************************
Date:	Friday July 5, 1996 @ 11:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10304/source

Modified Files:
	Makefile 
Log Message:
Updated Makefile - removed loadparam.h and friends - not needed??



****************************************
Date:	Friday July 5, 1996 @ 13:51
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12406

Modified Files:
	Makefile installbin.sh installman.sh installscripts.sh 
Log Message:
Changed install scripts so they don't have hardcoded values

Dan



****************************************
Date:	Friday July 5, 1996 @ 13:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12511

Added Files:
	uninstallbin.sh uninstallman.sh uninstallscripts.sh 
Log Message:
Added uninstallation from Makefile, either in parts or total uninstall

Dan



****************************************
Date:	Saturday July 6, 1996 @ 7:28
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28271

Modified Files:
	Makefile 
Log Message:
Call checkos in "make proto" in case of OS with broken awk && forgetful user,
because it looks very much like an awk bug otherwise.

Dan



****************************************
Date:	Saturday July 6, 1996 @ 7:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28298

Modified Files:
	Makefile 
Log Message:
Change awk to ($AWK) yet again :-)

Dan



****************************************
Date:	Sunday July 7, 1996 @ 22:36
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28811

Modified Files:
	Makefile nameannounce.c namebrowse.c nameelect.c nameresp.c 
	nameresp.doc nameserv.c nameserv.doc nameserv.h namework.c 
	namework.doc 
Added Files:
	nameannounce.doc namebrowse.doc namedbname.doc namedbresp.doc 
	nameelect.doc namelogon.doc namepacket.doc namequery.doc 
	nameservreply.doc nameservresp.doc 
Log Message:


tidied up: code shuffling and documentation.
created namedb*.c nameservresp.c nameservreply.c and namepacket.c
added modules to Makefile, downloading dan's current version first :-)
shuffled docs to match source
created more docs

fixed bug in announce_backup() discovered when going nameannounce.doc:
backup list requests to the master browser should be used when samba is
not a master browser; backup list requests to the primary domain
controller should be used when samba is not a primary domain controller.

fixed bug in sync_server: it would never send MasterAnnounce packets.

removed the code that ignored special browser names: these should only
be ignored (except 0x1b names) when broadcasted name queries are sent,
not when directed registration or directed queries are sent samba as a
WINS server. (note: exactly what's going on is still uncertain).

renamed NAME_QUERY_MST_SRV_CHK  to NAME_QUERY_PDC_SRV_CHK  (more accurate).
renamed NAME_STATUS_MST_SRV_CHK to NAME_STATUS_PDC_SRV_CHK (more accurate).

added secured WINS name registration: a new 'state' NAME_REGISTER_CHALLENGE;
functions send_name_response(), response_name_query_register(); added
sending of WAIT ACKNOWLEDGEMENT packet; added a reply_to_ip field to
the response record structure so that after the name query challenge,
you know who to inform of the outcome of that challenge.

note: these are all currently untested modifications (yikes!)

lkcl



****************************************
Date:	Sunday July 7, 1996 @ 23:29
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29341

Modified Files:
	Makefile namedb.c proto.h 
Added Files:
	namedbname.c namedbresp.c namedbserver.c namedbsubnet.c 
	namedbwork.c namepacket.c nameservreply.c nameservresp.c 
Log Message:

added the recently shuffled and updated source files missed in the
previous commit (see previous log message for details)

fixed bug in nameservreply.c: wrong macro in use (RSSVAL not IVAL!).

did another make proto

lkcl



****************************************
Date:	Wednesday July 10, 1996 @ 4:01
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9536

Modified Files:
	nameannounce.c namedbname.c namedbresp.c namedbserver.c 
	namedbsubnet.c namedbwork.c nameelect.c namepacket.c 
	nameresp.c nameserv.c namework.c 
Log Message:

sorted out various timer delay bugs: nameannounce.c nameserv.c

namedbname.c:search_for_name() wasn't looking for 0x1b as well as
0x0 and 0x20 name types.

reduced number of retransmissions of packets from 4 to 3 times.

added code that ensures remote lmhosts entries don't get deleted when
a master browser cannot be found on a remote subnet. stopped forcing
an election on remote subnets if a master browser cannot be found.

stopped browse list and wins list from being written out too frequently.

only add samba's names to local interfaces.

add 0x1c name if we are a domain logon machine (needs more exploration).

why bother reloading services when receiving a SIGTERM?

sort out add_my_name_entry() and remove_name_entry() to deal with
broadcast, samba as a WINS and samba using a WINS. properly.

added extra debug information to help with expected response queue code.
updated debug comments in become_master().

altered dump_names() DEBUG format. it looks prettier.
altered wins.dat format to match DEBUG format.

lkcl



****************************************
Date:	Wednesday July 10, 1996 @ 4:11
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9831

Modified Files:
	nmbd.c proto.h 
Log Message:

missed nmbd.c in previous update.
did a make proto

lkcl



****************************************
Date:	Thursday July 11, 1996 @ 4:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29974

Modified Files:
	ipc.c namedbresp.doc namedbsubnet.c nameelect.c nameelect.doc 
	nameresp.c nameserv.c nameserv.doc nameservreply.c 
	nameservreply.doc nameservresp.c nameservresp.doc proto.h 
Removed Files:
	namedb.c 
Log Message:

updated docs to match code mods from last two or three updates. done
some more commenting of code to match docs.

sorted some bugs.

ipc BOOL domains was uninitialised.

lkcl



****************************************
Date:	Thursday July 11, 1996 @ 23:55
Author:	samba-bugs

Update of /data/cvs/samba/examples/simple
In directory arvidsjaur:/var/tmp/cvs-serv7090

Modified Files:
	smb.conf 
Log Message:
Modified demo smb.conf to not have /tmp writeable by everyone by default.
According to server-linux some people seem to be uncommenting the example 
[tmp] without thinking what it does  :-)

Dan



****************************************
Date:	Thursday July 18, 1996 @ 4:33
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28303

Modified Files:
	client.c ipc.c nameannounce.c namedbname.c namedbserver.c 
	nameelect.c namepacket.c namequery.c nameresp.c nameresp.doc 
	nameserv.c nameserv.h nameservreply.c nameservresp.c 
	namework.c nmbd.c nmblookup.c proto.h version.h 
Log Message:

lots of changes to nmbd

lkcl



****************************************
Date:	Thursday July 18, 1996 @ 20:08
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11425

Modified Files:
	client.c 
Log Message:
removed some debug stuff from luke



****************************************
Date:	Thursday July 18, 1996 @ 20:20
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11854

Modified Files:
	Makefile includes.h namework.c proto.h smb.h smbpass.c 
Log Message:
minor cleanups ready for another release




****************************************
Date:	Thursday July 18, 1996 @ 20:53
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha11


****************************************
Date:	Friday July 19, 1996 @ 3:09
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv17698

Modified Files:
	includes.h namedbname.c 
Log Message:

NeXT needs #define pid_t int in includes.h

namedbname.c:find_name_search() needed search capability on both local
subnet records and WINS records. it used to return NULL if the name
was not found in the local subnet records even if you asked it to search
the WINS name records as well.



****************************************
Date:	Friday July 19, 1996 @ 19:34
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha12


****************************************
Date:	Friday July 19, 1996 @ 22:23
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1514/source

Modified Files:
	Makefile 
Log Message:
JHT - Just a teeny Makefile update ==> 19/07/96
	Removed smbpass.h and reply.h 'cause no longer needed.



****************************************
Date:	Monday July 22, 1996 @ 12:35
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv14382

Modified Files:
	BROWSING.txt 
Log Message:

CVS:



****************************************
Date:	Monday July 22, 1996 @ 12:41
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv14517

Modified Files:
	BROWSING.txt 
Log Message:

Sorry for last empty message.  Updated file to say that domain logons
and scripts are now possible and to see DOMAIN.txt for more info.
<pkelly@ets.net>



****************************************
Date:	Monday July 22, 1996 @ 22:00
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24960

Modified Files:
	client.c 
Log Message:
fix up problems with "smbclient -L". It now uses a generic
NetServerEnum with no workgroup attached if the workgroup is
"WORKGROUP" (the default in the Makefile) and uses the specific
NetServerEnum (with workgroup attached) otherwise.




****************************************
Date:	Monday July 22, 1996 @ 22:04
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25152

Modified Files:
	namedbsubnet.c 
Log Message:
minor debug output fix



****************************************
Date:	Monday July 22, 1996 @ 22:06
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25203

Modified Files:
	namework.doc 
Log Message:
added a bunch of comments to Lukes docs.




****************************************
Date:	Tuesday July 23, 1996 @ 0:30
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28012

Modified Files:
	nameannounce.doc namebrowse.doc namedbresp.doc nameelect.doc 
Log Message:
added lots of comments to the docs that Luke wrote on the internals of
nmbd. I haven't been through all of them yet, but I'm getting there
:-)




****************************************
Date:	Tuesday July 23, 1996 @ 0:32
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28119

Modified Files:
	interface.c loadparm.c nameannounce.c namedbserver.c 
	namedbsubnet.c namedbwork.c nameelect.c nameserv.c nameserv.h 
	namework.c nmbsync.c proto.h 
Log Message:
removed the remote interfaces stuff.





****************************************
Date:	Tuesday July 23, 1996 @ 13:17
Author:	samba-bugs

Update of /data/cvs/samba/examples/printer-accounting
In directory arvidsjaur:/var/tmp/cvs-serv5503/printer-accounting

Log Message:
Directory /data/cvs/samba/examples/printer-accounting added to the repository



****************************************
Date:	Tuesday July 23, 1996 @ 13:30
Author:	samba-bugs

Update of /data/cvs/samba/examples/printer-accounting
In directory arvidsjaur:/var/tmp/cvs-serv5673

Added Files:
	README acct-all acct-sum hp5-redir lp-acct printcap 
Log Message:

Some examples for printer accounting that I use with samba.  lp-acct is
an example for a local printer off a samba server, hp5-redir is for a
remote printer.  acct-sum, does the stats from acct-all.  There is an
example printcap entry for the redirection of the printer.  Lots more
to come!

<pkelly@ets.net>



****************************************
Date:	Wednesday July 24, 1996 @ 16:14
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23619

Modified Files:
	client.c 
Log Message:
the client now loads the smb.conf config file so it can get the
interfaces info, and the workgroup right.




****************************************
Date:	Wednesday July 24, 1996 @ 16:14
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23691

Modified Files:
	params.c proto.h smbpass.c 
Log Message:
minor cleanups





****************************************
Date:	Sunday July 28, 1996 @ 0:18
Author:	samba-bu

Update of /data/cvs/samba
In directory arvidsjaur:/samba/samba-bugs/samba

Modified Files:
	README 
Log Message:
Lots of updating.

Dan



****************************************
Date:	Wednesday July 31, 1996 @ 1:47
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv759

Modified Files:
	chgpasswd.c client.c proto.h reply.c server.c smb.h util.c 
Log Message:
fix a bug that we've had for a long time where we don't handle EOF
properly from clients, and end up looping like mad.

At least I _hope_ this is fixed.




****************************************
Date:	Wednesday July 31, 1996 @ 1:48
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha13


****************************************
Date:	Friday August 2, 1996 @ 3:49
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14837

Modified Files:
	nameannounce.c namebrowse.c namedbname.c namedbresp.c 
	namedbsubnet.c namedbwork.c nameelect.c namequery.c nameresp.c 
	nameserv.c nameservreply.c nameservresp.c namework.c nmbd.c 
	nmblookup.c nmbsync.c nameserv.h proto.h 
Log Message:

local_only NetServerEnum syncs can now be issued.

bug spotted in nameservresp.c - arguments to test subnet the response
is received on (same_net()) were the wrong way round (ccm@shentel.net)

samba was adding WORKGROUP(1e) as a unique not a group name: fixed this

bug in reply_name_status() and reply_name_query(): WINS entries weren't
being looked up.

name status reply adds local SELF entries to WINS SELF entries: some
SELF entries are only added locally, while others are only added via
WINS. name status needs to have both, combined.

a sync will only occur when an ANN_LocalMasterAnnouncement is received, NOT
an ANN_HostAnnouncement or an ANN_DomainAnnouncement.

when samba is a member of a workgroup, it looks for (using a wins server)
and announces to its domain master. NAME_QUERY_ANNOUNCE_HOST - yet another
'state' - has been created to do this: do the name query on the wins server
and send the announce host to the answer to this query.

jeremy @ vantive wrote the original code to do this, which used the
name_query() function.  i'm trying to avoid name_query: it times out and
generally messes things up, but using queue_netbios_packet() and
queue_netbios_pkt_wins() is... not intuitive?

lkcl with help from jra



****************************************
Date:	Friday August 2, 1996 @ 5:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16439

Modified Files:
	nameannounce.doc namebrowse.doc namedbname.doc namedbresp.doc 
	nameelect.doc namelogon.doc namepacket.doc namequery.doc 
	nameresp.doc nameserv.doc nameservreply.doc nameservresp.doc 
	namework.doc 
Log Message:

updated doc files to include a GPL header, with revision history in it.
added created and tridge comments on first revision first kick-off in
revision history.

lkcl



****************************************
Date:	Saturday August 3, 1996 @ 10:24
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha15


****************************************
Date:	Sunday August 4, 1996 @ 0:56
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv21300

Modified Files:
	INSTALL.txt 
Log Message:
Tiny bug in doco reported to samba-bugs

dan



****************************************
Date:	Tuesday August 6, 1996 @ 3:45
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21829

Modified Files:
	nameannounce.c 
Log Message:

jht spotted error in Domain announcements: the comment was being displayed
as the NetBIOS name of the master browser for samba's workgroup, instead
of samba's NetBIOS name.



****************************************
Date:	Tuesday August 6, 1996 @ 4:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22189

Modified Files:
	nameannounce.doc namebrowse.doc namedbname.doc nameelect.doc 
	nameservreply.doc nameservresp.doc namework.doc 
Log Message:

updating documentation to reflect code a little bit.

lkcl



****************************************
Date:	Tuesday August 6, 1996 @ 4:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22199

Modified Files:
	nameannounce.c 
Log Message:

updated comments in announce_server() to indicate that future work needs
to be done on this function when doing an announce host to a remote
domain master browser when samba is a WINS server.

lkcl



****************************************
Date:	Tuesday August 6, 1996 @ 4:22
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha14


****************************************
Date:	Tuesday August 6, 1996 @ 19:52
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha16


****************************************
Date:	Saturday August 10, 1996 @ 4:05
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11825

Modified Files:
	interface.c ipc.c nameelect.c namelogon.c nmbd.c server.c 
Log Message:

applying login updates from jim@oxfordcc.co.uk, sent in by
lewis2@server.uwindsor.ca. rest of this patch to follow.

bug in interface.c - uninitialised pointer.
nmbd has 0x20 as well as 0x0 NetBIOS name when lmhosts entry is added.

lkcl



****************************************
Date:	Monday August 12, 1996 @ 22:14
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24317

Modified Files:
	util.c 
Log Message:
minor fix to write_data() for EOF handling



****************************************
Date:	Tuesday August 13, 1996 @ 18:40
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv4765

Modified Files:
	README.jis 
Log Message:
new docs for japanses extensions from Fujita



****************************************
Date:	Tuesday August 13, 1996 @ 18:41
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv4879

Modified Files:
	smb.conf.5 
Log Message:
- added docs on new "printer driver" option

- cleaned up a couple of minor things




****************************************
Date:	Tuesday August 13, 1996 @ 18:57
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5833

Modified Files:
	Makefile client.c includes.h ipc.c loadparm.c local.h mangle.c 
	namepacket.c namequery.c nmblib.c printing.c proto.h server.c 
	system.c util.c 
Added Files:
	internals.doc 
Log Message:
- sequent-ptx support from bressler@iftccu.ca.boeing.com (Rick
Bressler)
- machten support from Trevor Strohman (trev@figment.tenon.com)

- added qinfo command to client as part of drag-and-drop printer
support for win95 from David Chappell <chappell@mouse.cc.trincoll.edu>
He also added the "printer driver" option

- use sigblock() on more systems and use sigsetmask(0) instead of
sigunblock() as its more portable. This beats a problem with zombies
on heavilily loaded systems.

- added internals.doc written by David Chappell into the source tree

- get rid of PRINT_COMMAND options from local.h as they are no longer
relevent

- new kanji code from Fujita

- don't set the recursion_available flag on queries in nmbd

- fix a potential bug with pointer subtraction in printing.c

- got rid of error_count code as the real fix (the EOF problem) is now
in





****************************************
Date:	Tuesday August 13, 1996 @ 18:59
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6051

Modified Files:
	printing.c 
Log Message:
don't allow newlines in printer status messages



****************************************
Date:	Tuesday August 13, 1996 @ 21:12
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8948

Modified Files:
	nameserv.c 
Log Message:
- add the 0x1c name for all interfaces if we are a logon server



****************************************
Date:	Tuesday August 13, 1996 @ 22:26
Author:	tridge

Update of /data/cvs/samba/examples/validchars
In directory arvidsjaur:/var/tmp/cvs-serv10302/validchars

Log Message:
Directory /data/cvs/samba/examples/validchars added to the repository



****************************************
Date:	Tuesday August 13, 1996 @ 22:32
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv10615

Modified Files:
	INSTALL.txt nmbd.8 samba.7 smb.conf.5 
Log Message:
doc updates



****************************************
Date:	Tuesday August 13, 1996 @ 22:33
Author:	tridge

Update of /data/cvs/samba/examples/validchars
In directory arvidsjaur:/var/tmp/cvs-serv10675

Added Files:
	msdos70.out nwdos70.out readme validchr.c validchr.com 
Log Message:
added the validchars package written by tino@augsburg.net. This
package automates the building of a "valid chars =" line for any
client DOS based client. This makes setting things up right for
european languages much easier.




****************************************
Date:	Tuesday August 13, 1996 @ 22:35
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10811

Modified Files:
	nameannounce.c smbrun.c 
Log Message:
minor cleanups




****************************************
Date:	Tuesday August 13, 1996 @ 22:36
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	Support.txt 
Log Message:
preparing for release of 1.9.16alpha17


****************************************
Date:	Tuesday August 13, 1996 @ 22:36
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha17


****************************************
Date:	Thursday August 15, 1996 @ 0:59
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31816

Modified Files:
	includes.h 
Log Message:
disabled SETFS (which was only enabled for Linux) until we resolve a
couple of bug reports that may be caused by it.

Andrew



****************************************
Date:	Thursday August 15, 1996 @ 1:00
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31930

Modified Files:
	ipc.c 
Log Message:
fixed an obvious bug that meant that DosPrintQEnum could never
work. Now we'll see if it works after this fix ...



****************************************
Date:	Thursday August 15, 1996 @ 1:02
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32048

Modified Files:
	access.c interface.c locking.c namedbname.c nameserv.c proto.h 
	util.c 
Log Message:
changed "unsigned long" to "uint32" in several places (for IP
addresses) to keep 64 bit machines happy.




****************************************
Date:	Friday August 16, 1996 @ 1:09
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv20124

Modified Files:
	INSTALL.txt Speed.txt 
Log Message:
added notes on the new FAST_SHARE_MODES code



****************************************
Date:	Friday August 16, 1996 @ 1:09
Author:	tridge

Update of /data/cvs/samba/examples/svr4-startup
In directory arvidsjaur:/var/tmp/cvs-serv20151/svr4-startup

Log Message:
Directory /data/cvs/samba/examples/svr4-startup added to the repository



****************************************
Date:	Friday August 16, 1996 @ 1:11
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv20321

Modified Files:
	Makefile includes.h ipc.c locking.c mkproto.awk namelogon.c 
	nmbd.c proto.h reply.c server.c smb.h status.c util.c 
Added Files:
	pipes.c shmem.c 
Log Message:
- added FAST_SHARE_MODES code
- added some named pipe code from Jim





****************************************
Date:	Friday August 16, 1996 @ 1:11
Author:	tridge

Update of /data/cvs/samba/examples
In directory arvidsjaur:/var/tmp/cvs-serv20453

Modified Files:
	README 
Log Message:
change email address





****************************************
Date:	Friday August 16, 1996 @ 13:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31340/source

Modified Files:
	Makefile 
Log Message:
JHT ==> Added entries into Makefile to allow for smbd and nmbd to be
	installed into an sbin directory. Default is unchanged.



****************************************
Date:	Friday August 16, 1996 @ 14:47
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv32361

Added Files:
	GOTCHAS.txt 
Log Message:
JHT ==> Added a GOTCHAS.txt file	16/8/96
	Re: RedHat Rembrandt Beta 2 Installation Hint.



****************************************
Date:	Friday August 16, 1996 @ 17:37
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv4214

Modified Files:
	DIAGNOSIS.txt 
Added Files:
	Printing.txt Tracing.txt 
Log Message:
added Printing.txt and Tracing.txt



****************************************
Date:	Friday August 16, 1996 @ 17:38
Author:	tridge

Update of /data/cvs/samba/examples/svr4-startup
In directory arvidsjaur:/var/tmp/cvs-serv4275

Added Files:
	README samba.server 
Log Message:
SVR4 startup scripts from Timo Knuutila (knuutila@cs.utu.fi)




****************************************
Date:	Friday August 16, 1996 @ 17:39
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4325

Modified Files:
	Makefile 
Log Message:
added support for the Bull Operating System (BOS)






****************************************
Date:	Friday August 16, 1996 @ 17:39
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4348

Modified Files:
	includes.h 
Log Message:
added support for the Bull Operating System (BOS)






****************************************
Date:	Friday August 16, 1996 @ 22:49
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv11007

Modified Files:
	nmbd.8 samba.7 smb.conf.5 
Log Message:
- document the "remote announce" option
- cleanup nmbd.8 quite a bit



****************************************
Date:	Friday August 16, 1996 @ 22:52
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv11201

Modified Files:
	nmbd.8 
Log Message:
documented the new syntax of lmhosts 



****************************************
Date:	Friday August 16, 1996 @ 23:03
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11629

Modified Files:
	loadparm.c nameannounce.c nameserv.h nmbd.c proto.h util.c 
Log Message:
- added the "remote announce" option 
- made the lp_string() code able to handle any length string
- got rid of the obsolete lmhosts code, instead users should use
"interfaces" and "remote announce". lmhosts now is just used as a IP
to netbios name map
- cleanup the inet_address() code




****************************************
Date:	Friday August 16, 1996 @ 23:09
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11888

Modified Files:
	installscripts.sh 
Log Message:
fixed installscripts.sh so it no longer creates ] and [ directories
every time its run!




****************************************
Date:	Friday August 16, 1996 @ 23:15
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	MIRRORS Support.txt 
Log Message:
preparing for release of 1.9.16alpha18


****************************************
Date:	Friday August 16, 1996 @ 23:15
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha18


****************************************
Date:	Saturday August 17, 1996 @ 2:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv15591/source

Modified Files:
	Makefile 
Log Message:
JHT ==> Having another go at getting the modified Makefile to go home!
	Added support for installation of smbd and nmbd into an "sbin"
	directory.
	NOTE: Default action remains same as previous Makefile.



****************************************
Date:	Saturday August 17, 1996 @ 21:37
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2457

Modified Files:
	Makefile access.c dir.c ipc.c loadparm.c namedbname.c 
	nameserv.c nmbd.c proto.h reply.c server.c smbtar util.c 
Log Message:
- added support for Amiga-unix (based on BSD I think)

- changed the order of PROGS and SPROGS in Makefile (SPROGS first)

- another 64 bit cleanup (for INADDR_NONE)

- added paranoia code in DirCacheAdd() to detect looping

- fixed important DirCache flush bug

- rewrote the NetServerEnum code after I found it could return servers
from multiple workgroups at once, and this could cause browsing
havoc. Now a null workgroup query is equivalent to a query for the
servers primary workgroup

- got rid of my_workgroup() 

- got rid of "workgroup = *" comment in Makefile. We no longer support
a workgroup of *, users must set the workgroup explicitly

- the wins.dat file was being stored in a different format to what it
was being loaded in - this could cause havoc. fixed.

- uppercase our netbios name and the workgroup name at startup

- if accept fails in main loop when running as a daemon then continue,
don't just exit!

- don't use ./ on smbclient in smbtar

- better code to detect if a process exists





****************************************
Date:	Saturday August 17, 1996 @ 23:05
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	Support.txt 
Log Message:
changed the text a bit in Support.txt so that its clear that these
people expect payment for their help.

Apparently users were ringing some of them and assuming they would get
free phone support. Thats not what this list is for :-)

Andrew



****************************************
Date:	Saturday August 17, 1996 @ 23:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4552

Modified Files:
	Makefile namedbname.c nameserv.c nameserv.h nameservreply.c 
	proto.h 
Log Message:

- started on support for 'Internet Group names' - type 0x1c NetBIOS names

- 0x1d name query to a WINS server should always return FAIL (see WINS
  server help on nt/as)




****************************************
Date:	Saturday August 17, 1996 @ 23:26
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4691

Modified Files:
	namedbname.c 
Log Message:

- updated load_netbios_names() to cope with new wins.dat format
  it doesn't support loading of Internet Group names yet, but then again,
  you can't create Internet Group names yet, so it's not a problem!




****************************************
Date:	Saturday August 17, 1996 @ 23:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4965

Modified Files:
	nameserv.c 
Log Message:

- removed reference to my_workgroup() accidentally put back in nameserv.c



****************************************
Date:	Sunday August 18, 1996 @ 0:21
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv5678

Modified Files:
	samba.faq 
Log Message:
added a note about the homes share and WinDD



****************************************
Date:	Sunday August 18, 1996 @ 0:26
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5919

Modified Files:
	Makefile client.c includes.h locking.c namedbname.c proto.h 
	server.c shmem.c status.c 
Log Message:
- made FAST_SHARE_MODES standard for Linux

- you can now press enter after a password prompt with "smbclient -L
hostname" and it will use a blank username and password, the same as
if you used -U%

- changed the wins.dat store code to not go via a string variable
(just use fprintf instead)

- removed a "unsigned long" that luke put back in, changing it to
uint32 to keep 64 bit machines happy. Naughtly luke!

- allow guest non-connnected print queue listings so ms client 3 can
work





****************************************
Date:	Sunday August 18, 1996 @ 1:14
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6621

Modified Files:
	namedbname.c nameserv.h nmbd.c 
Log Message:

- fixed wins.dat reloading (it wasn't happening!)

- made nb_flags an unsigned 16 bit int in nameserv.h

- nmbd was calling add_my_subnets() with an uninitialised parameter group.
  removed it.

lkcl



****************************************
Date:	Sunday August 18, 1996 @ 1:18
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha19


****************************************
Date:	Sunday August 18, 1996 @ 1:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7230

Modified Files:
	namedbname.c 
Log Message:

i wondered why there was a cvs clash on namedbname.c

- redid tridge's fprintf for storing wins.dat, and yet again removed the
unsigned long changing it to a unint32.

lkcl



****************************************
Date:	Monday August 19, 1996 @ 20:53
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv7503

Modified Files:
	nmbd.8 samba.7 smb.conf.5 smbclient.1 smbd.8 smbrun.1 
	smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
a bunch of man page cleanups from a kind contributor



****************************************
Date:	Monday August 19, 1996 @ 21:17
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8590

Modified Files:
	client.c clientutil.c includes.h loadparm.c locking.c 
	nameannounce.c nameannounce.doc nameelect.c namepacket.c 
	namework.c nmbd.c nmblookup.c pipes.c printing.c proto.h 
	reply.c server.c smb.h system.c util.c 
Log Message:
- added "netbios name" option in smb.conf to make controlling the name
that samba uses possible

- added "socket address" option to allow virtual SMB servers (on
systems with IP aliasing line Linux)

- disabled FAST_SHARE_MODES by default in Linux as older Linux boxes
can't do shared writeable mappings. We really need autoconf ...

- added new option types in loadparm so a string type can be specified
ot be uppercase only, this is used for the workgroup and netbios name
options

- auto-create the lock directory if it doesn't exist in shared mem
startup

- get rid of announce_backup()

- change a few comments in nmbd code

- rewrote the chaining code completely. Hopefully it will handle any
depth chains now.

- added LPRng support









****************************************
Date:	Monday August 19, 1996 @ 21:27
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory arvidsjaur:/samba/samba-bugs/samba/docs

Modified Files:
	Printing.txt 
Log Message:
preparing for release of 1.9.16alpha20


****************************************
Date:	Monday August 19, 1996 @ 21:27
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha20


****************************************
Date:	Monday August 19, 1996 @ 23:54
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1820

Modified Files:
	server.c 
Log Message:
fix a bug in the new chaining code


****************************************
Date:	Monday August 19, 1996 @ 23:56
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha21


****************************************
Date:	Wednesday August 21, 1996 @ 1:40
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv29655

Modified Files:
	samba.faq 
Log Message:
add a bit more about the "trapdoor uid" messsage 



****************************************
Date:	Wednesday August 21, 1996 @ 1:44
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29935

Modified Files:
	includes.h ipc.c namedbname.c nameelect.c namelogon.c 
	namepacket.c namework.c proto.h reply.c server.c 
Log Message:
- fix a bug in NetServerEnum where counted and total were not counted
correctly if there were multiple instances of a name. This led to the
infamous "not enough memory" error when browsing (but this isn't the
only cause of that message)

- fix a triple-chaining bug which affected OpenX following a TconX

- fix a serious nmbd bug that meant nmdb would answer packets that it
wasn't supposed to, causing havoc with browse lists.

- never time out SELF packets. This is an interim fix until I find out
why nmbd thought they should be timed out.



****************************************
Date:	Wednesday August 21, 1996 @ 1:58
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30268

Modified Files:
	namepacket.c 
Log Message:
- add NMB_REG_REFRESH capability to initiate_netbios_packet(). I think
this is why SELF names were getting expired. 



****************************************
Date:	Wednesday August 21, 1996 @ 2:09
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30579

Modified Files:
	nameannounce.c namedbsubnet.c nameelect.c nameserv.c 
	namework.c nmbd.c proto.h 
Log Message:
- removed ServerComment and instead set the comment string in nmbd
using the "server string" option. This replaces the -C option to nmbd



****************************************
Date:	Wednesday August 21, 1996 @ 2:12
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30728

Modified Files:
	smb.conf.5 
Log Message:
update "server string" docs



****************************************
Date:	Wednesday August 21, 1996 @ 2:13
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha22


****************************************
Date:	Wednesday August 21, 1996 @ 2:42
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31630

Modified Files:
	nameserv.c 
Log Message:
give names more time when refreshing


****************************************
Date:	Wednesday August 21, 1996 @ 2:43
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha23


****************************************
Date:	Wednesday August 21, 1996 @ 15:47
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv8077

Added Files:
	Faxing.txt 
Log Message:
- new faxing doc from Gerhard Zuber <zuber@berlin.snafu.de




****************************************
Date:	Wednesday August 21, 1996 @ 16:08
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8484

Modified Files:
	ipc.c nameannounce.c namedbwork.c nameelect.c namepacket.c 
	nameserv.c nameserv.h namework.c smb.h util.c 
Log Message:
- new handling of ST_TYPE bits, they are now consolidated much more in
DFLT_SERVER_TYPE in nameserv.h

- got rid of a lot of spurious domain controller stuff. Samba is not a
domain controller yet, but it can be a domain master. We were claiming
to be a domain controller in some packets which may have caused
problems

- don't do preferred master startups on the WINS pseudo-net

- don't do election requests on the WINS pseudo-net

- fix a nasty bug in become_non_master() which wiped out the bits in
remove_type before using them. The result was that samba didn't like
losing its master status.

- changed the logic in the election packet handling to enable us to
become a non-master whenever we receive a winning election frame, even
if we aren't expecting it

- get another packet from the socket in nmbd when we reject one of our
own packets, this stops us from going into the packet reading code too
often and makes nmbd much snappier

- always remove a name immediately when we try to release it, don't
wait for the lack of response from the network, otherwise we will end
up replying to name that we don't really own. We still send the dereg
packets, we just don't wait for them to time out.







****************************************
Date:	Wednesday August 21, 1996 @ 16:10
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha24


****************************************
Date:	Wednesday August 21, 1996 @ 18:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12492/source

Modified Files:
	ipc.c 
Log Message:
JHT ==> Upgraded Samba to Windows NT Server version 4.1
	Just to keep ahead of the pack.
	Note: Really only done to differntiate our version ID from
	existing SMB Servers.



****************************************
Date:	Wednesday August 21, 1996 @ 18:27
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv12970

Modified Files:
	nmbd.8 samba.7 smb.conf.5 smbclient.1 smbd.8 smbrun.1 
	smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
- remove the date markers from the man pages. I never keep them uptodate
anyway :-)




****************************************
Date:	Wednesday August 21, 1996 @ 18:30
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13123

Modified Files:
	namedbname.c nameserv.c nameservreply.c 
Log Message:
- bit a bit manipulation bug in find_name_search()

- add the * and __SAMBA__ names to all subnets

- sort the name status reply list and remove duplicate entries. 





****************************************
Date:	Wednesday August 21, 1996 @ 18:33
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13278

Modified Files:
	printing.c 
Log Message:
fix compiler warning


****************************************
Date:	Wednesday August 21, 1996 @ 18:53
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha25


****************************************
Date:	Wednesday August 21, 1996 @ 22:35
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18035

Modified Files:
	server.c 
Log Message:
handle sigpipe better for server security


****************************************
Date:	Wednesday August 21, 1996 @ 22:36
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv18058

Modified Files:
	BROWSING.txt BUGS.txt DIAGNOSIS.txt DOMAIN.txt INSTALL.txt 
	PROJECTS Speed.txt announce nmbd.8 samba.7 samba.lsm 
	smb.conf.5 smbclient.1 smbd.8 smbrun.1 smbtar.1 testparm.1 
	testprns.1 
Log Message:
update the docs ready for a new release


****************************************
Date:	Thursday August 22, 1996 @ 0:14
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv20275

Modified Files:
	ipc.c smb.h trans2.c 
Log Message:
- fix a bug handling readraw packets that caused the timeout to be 30
milliseconds instead of 30 seconds as was intended. Thanks to Paul
Nelson for finding this bug.



****************************************
Date:	Thursday August 22, 1996 @ 0:16
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16alpha26


****************************************
Date:	Thursday August 22, 1996 @ 13:42
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv736/docs

Modified Files:
	Support.txt 
Log Message:
Updated Aquasoft Entry.



****************************************
Date:	Thursday August 22, 1996 @ 13:44
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv787

Added Files:
	DOMAIN_CONTROL.txt 
Log Message:
Added descriptions of Windows NT Domain Control.
JHT



****************************************
Date:	Thursday August 22, 1996 @ 13:47
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv830

Modified Files:
	samba.7 
Log Message:
Updated attribution list.
JHT



****************************************
Date:	Thursday August 22, 1996 @ 16:30
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv3170

Modified Files:
	DOMAIN_CONTROL.txt 
Log Message:
minor fixes to docs



****************************************
Date:	Thursday August 22, 1996 @ 16:31
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3224

Modified Files:
	client.c clientutil.c local.h nmbd.c password.c proto.h util.c 
Log Message:
- add timeouts to connect() for password server connections. This
makes multiple password servers practical.





****************************************
Date:	Thursday August 22, 1996 @ 16:35
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16


****************************************
Date:	Friday August 23, 1996 @ 2:08
Author:	tridge

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv21885

Modified Files:
	README 
Log Message:
minor doc fix



****************************************
Date:	Friday August 23, 1996 @ 2:09
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21924

Modified Files:
	client.c util.c 
Log Message:
- fix client for pathworks 4 access
- fix "connection already connected" bug in open_socket_out()




****************************************
Date:	Friday August 23, 1996 @ 2:10
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p1


****************************************
Date:	Friday August 23, 1996 @ 20:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4641

Modified Files:
	Makefile ipc.c loadparm.c nameannounce.c namebrowse.c 
	namedbname.c namedbresp.c namedbserver.c namedbsubnet.c 
	namedbwork.c nameelect.c namepacket.c nameresp.c nameserv.c 
	nameserv.h nameservreply.c nameservresp.c namework.c nmbd.c 
	nmbsync.c proto.h server.c util.c 
Added Files:
	nameconf.c 
Log Message:

- fixed bugs in nmb response packet checking.

- added multiple workgroup code - samba can register under different
  (unique) NetBIOS aliases, one per workgroup it joins.

lkcl



****************************************
Date:	Saturday August 24, 1996 @ 1:20
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv12199/docs

Modified Files:
	DOMAIN_CONTROL.txt Support.txt samba.faq 
Log Message:
Doc updates

Dan



****************************************
Date:	Saturday August 24, 1996 @ 11:32
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	dir.c 
Log Message:
fixed dircahe bug


****************************************
Date:	Saturday August 24, 1996 @ 11:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	Makefile ipc.c loadparm.c nameannounce.c namebrowse.c 
	namedbname.c namedbresp.c namedbserver.c namedbsubnet.c 
	namedbwork.c nameelect.c namepacket.c nameresp.c nameserv.c 
	nameserv.h nameservreply.c nameservresp.c namework.c nmbd.c 
	nmbsync.c proto.h server.c util.c version.h 
Log Message:
removed all of lukes recent changes. I need to do a p2 release but
can't test the multi group changes.

I also found that some of lukes changes wiped out some recent bug
fixes. Is your CVS tree ok luke?




****************************************
Date:	Saturday August 24, 1996 @ 11:46
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv19822

Modified Files:
	dir.c 
Log Message:
added debug info



****************************************
Date:	Friday September 6, 1996 @ 14:52
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv20630

Modified Files:
	ENCRYPTION.txt 
Log Message:
Updated to add the Windows NT password mechanism explaination.
Jeremy (jra@cygnus.com)



****************************************
Date:	Sunday September 29, 1996 @ 2:23
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26862

Revision/Branch: samba-2

Modified Files:
	nameannounce.c nameelect.c namework.c 
Log Message:

workgroup announcements appearing as servers (use of DFLT_SERVER_TYPE
in too many places)

lkcl



****************************************
Date:	Sunday September 29, 1996 @ 23:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8090

Revision/Branch: samba-2

Modified Files:
	Makefile loadparm.c proto.h 
Log Message:

added nameconf.c to Makefile. added mission lp_local_master() parameter.

lkcl



****************************************
Date:	Monday September 30, 1996 @ 0:00
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11345

Revision/Branch: samba-2

Added Files:
	winsd.c winsproxy.c winsresp.c winsserv.c winsservreply.c 
	winsservresp.c 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 0:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11756

Revision/Branch: samba-2

Modified Files:
	nmbd.c nmblib.c nmblookup.c nmbsync.c 
Added Files:
	nmbpacket.c 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 0:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12208

Revision/Branch: samba-2

Modified Files:
	namedbname.c namedbresp.c namedbserver.c namedbsubnet.c 
	namedbwork.c 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 0:12
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12314

Revision/Branch: samba-2

Modified Files:
	nameserv.c nameservreply.c nameservresp.c 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 0:56
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13795

Revision/Branch: samba-2

Modified Files:
	namework.c nameannounce.c namelogon.c 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 1:05
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14116

Revision/Branch: samba-2

Modified Files:
	namebrowse.c nameelect.c namepacket.c namequery.c nameresp.c 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 1:32
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv15261

Revision/Branch: samba-2

Modified Files:
	Makefile local.h nameserv.h proto.h smb.h trans2.h 
Log Message:

some _serious_ messing about.

- splitting nmbd down into winsd/nmbd

- adding port 137 proxying to sort out a) nmblookup (FINALLY working
  with name status replies to port 137! must have winsd running for
  it to work, though...) b) communication between winsd and nmbd -
  unicast replies to broadcast requests by nmbd go to winsd, and
  need to be forwarded back to nmbd.

- wierd configuration options for multi workgroup code. this is not
  satisfactorary, and needs further work. lots of horrible design
  issues to resolve.

- samba looking like several domain logon servers / domain master
  browsers. good stuff.

- lots of bugs sorted in name registration. most of them were 
  spotted by the introduction of winsd, as a nmb packet with
  recursion_desired must be dealt with by winsd, and !recursion_desired
  goes to nmbd. then there's the reply side of packets generated
  by nmbd to sort out, too.

- introduction of netbios scopes as a per-domain/workgroup
  configuration option. this issue is not completely resolved, but
  the idea will be that samba could be a multiple domain master
  browser (etc...) for _different_ scopes. same workgroup name.
  i know: it's wierd. there are issues to be resolved on the
  client side, too: i don't think windows clients bother to pass
  over the scope in the compressed 'called' name of a SMB session
  setup. which is a _total_ pain in the neck.

there's probably lots more that i can't even _begin_ to remember
about!

lkcl




****************************************
Date:	Monday September 30, 1996 @ 2:04
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16878

Revision/Branch: samba-2

Modified Files:
	loadparm.c 
Log Message:

i got fed up with adding such a long log message.
lkcl



****************************************
Date:	Monday September 30, 1996 @ 2:30
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv17811

Revision/Branch: samba-2

Modified Files:
	server.c 
Log Message:

fed up with long boring log message
lkcl



****************************************
Date:	Monday September 30, 1996 @ 2:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18239

Revision/Branch: samba-2

Modified Files:
	reply.c 
Log Message:

fed up with the boring long log message.
lkcl




****************************************
Date:	Monday September 30, 1996 @ 2:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18381

Revision/Branch: samba-2

Modified Files:
	util.c 
Log Message:

fed up with the boring long log message.
lkcl




****************************************
Date:	Monday September 30, 1996 @ 2:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18428

Revision/Branch: samba-2

Modified Files:
	message.c pipes.c password.c interface.c 
Log Message:

fed up with the boring long log message.
lkcl




****************************************
Date:	Monday September 30, 1996 @ 2:50
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18486

Revision/Branch: samba-2

Modified Files:
	ipc.c 
Log Message:

fed up with the boring long log message.
lkcl




****************************************
Date:	Monday September 30, 1996 @ 2:54
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18547

Revision/Branch: samba-2

Modified Files:
	access.c checkos.sh client.c clientutil.c installbin.sh 
	installman.sh installscripts.sh 
Log Message:

fed up with the boring long log message.
lkcl




****************************************
Date:	Monday September 30, 1996 @ 3:20
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv19005

Revision/Branch: samba-2

Modified Files:
	mkproto.awk system.c 
Log Message:

fed up with the boring long log message.
lkcl



****************************************
Date:	Monday September 30, 1996 @ 3:34
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv19211

Revision/Branch: samba-2

Modified Files:
	nameservresp.c 
Log Message:

uninitialised variable in use

lkcl



****************************************
Date:	Monday September 30, 1996 @ 3:36
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv19214

Revision/Branch: samba-2

Modified Files:
	client.c 
Log Message:

line 846 - unsigned int tested for < 0.

lkcl



****************************************
Date:	Wednesday October 2, 1996 @ 12:57
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv21513

Modified Files:
	PROJECTS nmbd.8 samba.faq smbclient.1 smbd.8 smbrun.1 
	testparm.1 testprns.1 
Log Message:
Edited doc directory to remove anything that pointed to Karl Auer, since he
is still getting lots of email. Also updated some of the PROJECTS file. Luke,
you should do a quick paragraph or two there.



****************************************
Date:	Wednesday October 2, 1996 @ 13:12
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv21700

Modified Files:
	smbrun.1 
Log Message:
Tyop.

Dan



****************************************
Date:	Wednesday October 2, 1996 @ 14:03
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv22128

Modified Files:
	INSTALL.txt THANKS 
Log Message:
Dan



****************************************
Date:	Thursday October 3, 1996 @ 0:06
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1660

Modified Files:
	password.c 
Log Message:
- accept either NT or lanman passwords in tconX



****************************************
Date:	Thursday October 3, 1996 @ 0:09
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1697

Modified Files:
	Makefile client.c clitar.c ipc.c loadparm.c nameannounce.c 
	namebrowse.c nameconf.c namedbname.c namedbresp.c 
	namedbserver.c namedbsubnet.c namedbwork.c nameelect.c 
	namelogon.c namepacket.c nameresp.c nameserv.c nameserv.h 
	nameservreply.c nameservresp.c namework.c nmbd.c nmblib.c 
	nmblookup.c nmbsync.c pipes.c proto.h reply.c server.c smb.h 
	system.c util.c 
Log Message:
- a huge pile of changes from Luke which implement the browse.conf
stuff and also fix a pile of nmbd bugs. Unfortunately I found it very
hard to disentangle the new features from the bug fixes so I am
putting in the new code. I hope this is the last big pile of changes
to the 1.9.16 series!




****************************************
Date:	Thursday October 3, 1996 @ 1:41
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3879

Modified Files:
	Makefile client.c ipc.c loadparm.c nameannounce.c namebrowse.c 
	nameconf.c namedbname.c namedbresp.c namedbserver.c 
	namedbsubnet.c namedbwork.c nameelect.c namelogon.c 
	namepacket.c nameresp.c nameserv.c nameserv.h nameservreply.c 
	nameservresp.c namework.c nmbd.c nmblib.c nmbsync.c pipes.c 
	proto.h reply.c server.c smb.h system.c 
Log Message:
backout all the changes to nmbd.

The 1.9.16 tree is now back to 1.9.16p2 as far as nmbd is concerned
apart from a small change that fixes the announce type in two places.



****************************************
Date:	Thursday October 3, 1996 @ 2:15
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4731

Modified Files:
	reply.c util.c 
Log Message:
- fix the EALREADY bug so connections to slow hosts with smbclient get
through

- add workarounds to handle the win95 and WinNT bugs in handling
password lengths in sessionsetup



****************************************
Date:	Thursday October 3, 1996 @ 4:36
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6629

Revision/Branch: samba-2

Modified Files:
	winsd.c winsresp.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:36
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6637

Revision/Branch: samba-2

Modified Files:
	winsservreply.c winsservresp.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:38
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6691

Revision/Branch: samba-2

Modified Files:
	namedbname.c namedbresp.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6732

Revision/Branch: samba-2

Modified Files:
	nameannounce.c nameelect.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6759

Revision/Branch: samba-2

Modified Files:
	nmbd.c nmbpacket.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:43
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6824

Revision/Branch: samba-2

Modified Files:
	.cvsignore 
Log Message:

added winsd to ignore files
lkcl



****************************************
Date:	Thursday October 3, 1996 @ 4:45
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6701

Revision/Branch: samba-2

Modified Files:
	nameservreply.c nameservresp.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:45
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6747

Revision/Branch: samba-2

Modified Files:
	util.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:45
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6881

Revision/Branch: samba-2

Modified Files:
	namedbsubnet.c namedbwork.c 
Log Message:
msg


****************************************
Date:	Thursday October 3, 1996 @ 4:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6956

Revision/Branch: samba-2

Modified Files:
	nameserv.h 
Log Message:
lkcl


****************************************
Date:	Thursday October 3, 1996 @ 4:49
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6970

Revision/Branch: samba-2

Modified Files:
	nameserv.c 
Log Message:
lkcl


****************************************
Date:	Thursday October 3, 1996 @ 5:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7128

Revision/Branch: samba-2

Modified Files:
	proto.h 
Removed Files:
	nameconf.c 
Log Message:

the usual overkill changes involved in debugging nmbd / winsd when it's
going through the wringer.

this version passes nmb_names around (instead of char *name, int type)
particularly in send_mailslot_reply() and other such functions, in
the hope that one day, it will be possible to support multiple scopes
properly. note: this is not fully integrated.

fixed a (possible?) bug in util.c where the comparison of two null-length
(not the same as null pointers) strings returned FALSE. i copied StrnCaseCmp,
took out the 'n' and made a new version of StrCaseCmp.

lkcl. i hope to hell that this goes into cvs samba2 not the old tree :-)

p.s all the previous commits that had 'msg' as a log message, well, they
    should have had this one.



****************************************
Date:	Thursday October 3, 1996 @ 13:40
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv10406

Modified Files:
	samba.faq 
Log Message:
Added a version of tridge's comments on numbering to the faq.

Dan



****************************************
Date:	Friday October 4, 1996 @ 3:43
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25773

Revision/Branch: samba-2

Modified Files:
	nameannounce.c namebrowse.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl



****************************************
Date:	Friday October 4, 1996 @ 3:44
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25806

Revision/Branch: samba-2

Modified Files:
	nameelect.c nameresp.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25777

Revision/Branch: samba-2

Modified Files:
	namedbresp.c namedbwork.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25882

Revision/Branch: samba-2

Modified Files:
	winsserv.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25831

Revision/Branch: samba-2

Modified Files:
	nameserv.h nameserv.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25844

Revision/Branch: samba-2

Modified Files:
	nmbpacket.c proto.h 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25855

Revision/Branch: samba-2

Modified Files:
	winsresp.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25954

Revision/Branch: samba-2

Modified Files:
	winsservreply.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 3:49
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25993

Revision/Branch: samba-2

Modified Files:
	winsservresp.c 
Log Message:

created netbios_name_query(), netbios_name_status(), netbios_name_register()
and netbios_name_release() functions, to keep marty happy. these functions
call queue_netbios_packet() which is now a static function. 

these four netbios_name_xxx() functions are now only called with
_necessary_ parameters instead of the old queue_netbios_packet() 
function being called with an onion of all parameters.

next stage: add a call-back function, and remove the states stuff.
then update the documentation :-)

lkcl




****************************************
Date:	Friday October 4, 1996 @ 19:30
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5126

Modified Files:
	charset.c client.c local.h message.c printing.c proto.h 
	server.c shmem.c smbpass.c testprns.c uid.c util.c 
Log Message:
- changed the umask handling. We now set the umask to 0 and explicitly
set the mode on all created files. I think this is a better policy.

- change the debug levels on some items

- fix a charset handling bug which affected foreign and extended
charset users

- no longer switch back to the original directory when idle, instead
switch to / as the original directory may not be readable by ordinary
users.

- fix some bugs where the create mode of files was not being
explicitly set (it was relying on the umask and using fopen). Not a
big bug as it only affected obscure commands like the messaging ops.

- got rid of the lock code in the lpq cache as its no longer needed

- rewrote smbrun to be faster and to remove the security hole. We now
don't actually need a external smbrun binary, its all done by smbd.

- add a more explicit warning about uids and gids of -1 or 65535




****************************************
Date:	Saturday October 5, 1996 @ 12:46
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv18612

Modified Files:
	Support.txt THANKS 
Log Message:
- added a new support entry
- added THANKS entry for NEC




****************************************
Date:	Saturday October 5, 1996 @ 12:54
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18848

Modified Files:
	client.c clitar.c includes.h nmblib.c proto.h reply.c server.c 
	system.c uid.c 
Log Message:
- use workgroup from smb.conf in smbclient

- change debug level on clitar stuff

- define MAP_FILE if not defined

- ensure we never set authoritative on queries in nmbd

- fake a positive response to SMBioctl, apparently this is needed for
some WfWg printer drivers
 
- deny file access for non-fcbopen queries when (access_allowed == AREAD && flags == O_RDWR)

- add sys_waitpid()




****************************************
Date:	Saturday October 5, 1996 @ 20:26
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27983

Modified Files:
	Speed.txt smb.conf.5 
Log Message:
- added docs on the new "fake oplocks" option.



****************************************
Date:	Saturday October 5, 1996 @ 20:40
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28555

Modified Files:
	access.c loadparm.c namedbname.c nameservreply.c password.c 
	proto.h reply.c server.c smb.h testparm.c trans2.c util.c 
Log Message:
I have fixed quite a few important bugs in this commit. 

Luke, can you take special note of the bug fixes to nmbd so you can
propogate them to your new code.

- rewrote the code that used to use fromhost(). We now call
gethostbyaddr() only if necessary and a maximum of once per
connection. Calling gethostbyaddr() causes problems on some systems so
avoiding it if possible is a good thing :-)

- added the "fake oplocks" option. See the docs in smb.conf(5) and
Speed.txt

- fixed a serious bug in nmbd where it would try a DNS lookup on
FIND_SELF queries. This caused a lot of unnecessary (and incorrect)
DNS lookups to happen. FIND_SELF queries should only go to the
internal name tables.

- don't set FIND_SELF for name queries if we are a wins proxy, as we
are supposed to be answering queries for other hosts.

- fixed a bug in nmbd which had "if (search | FIND_LOCAL)" instead of
"if (search & FIND_LOCAL)". Luke, this was in nameservreply.c

- the above 3 bugs together meant that DNS queries were being cached,
but the cache wasn't being used, so every query was going to DNS, no
wonder nmbd has been chewing so much CPU time! Another side effect was
that queries on names in lmhosts weren't being answered for bcast
queries with "wins proxy" set.

- ignore the maxxmit for seconday session setups (see CIFS spec)

- close user opened files in a uLogoffX for user level security (see
CIFS spec)

- added uid into the files struct to support the above change




****************************************
Date:	Saturday October 5, 1996 @ 23:09
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv31426

Modified Files:
	MIRRORS Support.txt 
Log Message:
- added a mirror entry and added a new Support.txt entry 



****************************************
Date:	Saturday October 5, 1996 @ 23:13
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31623

Modified Files:
	access.c mangle.c namedbname.c namework.c reply.c server.c 
Log Message:
- replace the base36 function with one that works on more systems
(compiler bugs were the problem)

- minor password cleanups (catch WfWG bug where it sets the password
to a space instead of a NULL)

- fix printing problem for kanji users

- minor cleanups





****************************************
Date:	Saturday October 5, 1996 @ 23:38
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32161

Modified Files:
	includes.h system.c 
Log Message:
- use waitpid for ultrix
- don't use wait4




****************************************
Date:	Saturday October 5, 1996 @ 23:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32081

Revision/Branch: samba-2

Modified Files:
	Makefile client.c nameannounce.c namebrowse.c namedbname.c 
	namedbresp.c namedbsubnet.c namedbwork.c nameelect.c 
	namepacket.c nameserv.c nameserv.h nameservresp.c namework.c 
	nmbd.c nmblib.c nmbpacket.c proto.h winsd.c winsserv.c 
	winsservreply.c winsservresp.c 
Removed Files:
	nameresp.c winsresp.c 
Log Message:

created netbios_name_query/status/register/release().

got rid of enum state_type - using higher order functions instead.
as a result, winsservresp.c, nameservresp.c, nameresp.c and winsresp.c
are somewhat redundant: the new higher order functions are static
and have been moved to the appropriate module which called the
netbios_name_xxxx() function.

these functions (e.g response_name_announce()) deal with positive
_and_ negative responses (including implicit negative responses
when broadcasting).

it should now be more obvious how to add extra functionality based
on the new netbios_name_xxxx() functions.

lkcl



****************************************
Date:	Sunday October 6, 1996 @ 0:26
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv210

Modified Files:
	replace.c 
Log Message:
add DEBUGLEVEL to replace.c


****************************************
Date:	Sunday October 6, 1996 @ 0:28
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p3


****************************************
Date:	Monday October 7, 1996 @ 2:57
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22817

Revision/Branch: samba-2

Modified Files:
	Makefile namedbname.c namedbresp.c namedbserver.c 
	namedbsubnet.c nameelect.c namequery.c nameserv.c nameserv.h 
	nameservreply.c nmbd.c nmblib.c nmbpacket.c proto.h winsd.c 
	winsserv.c winsservreply.c winsservresp.c 
Log Message:

general messy debugging.

added a new netbios name state: EXPIRED. he he. winsd now doesn't delete
names (except when someone registers a unique name under a new ip address
and the old owner doesn't respond) - it marks them as expired. then,
when someone queries a name that has EXPIRED, winsd will send the
querier a WAIT FOR ACKNOWLEDGE packet, do a name query on the EXPIRED
name, and replies depending on the answer to that query.

if this is considered nasty practice, maybe a better thing to do would
be to simply reply negative to EXPIRED names, but still maintain them
in the database until someone re-registers that EXPIRED name.

fixed the winsd name checking code - winsd will now cycle through all
of its names sending out queries to make sure they are all valid.

lkcl



****************************************
Date:	Monday October 7, 1996 @ 11:53
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27381

Modified Files:
	MIRRORS smb.conf.5 
Log Message:
- added an entry to the MIRRORS list
- minor fixes in man page



****************************************
Date:	Monday October 7, 1996 @ 11:56
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27577

Modified Files:
	local.h nameannounce.c namebrowse.c namedbsubnet.c nameelect.c 
	nameresp.c nameserv.c nmbd.c proto.h 
Log Message:
- changed the default nmbd loop timout to 10 seconds (2 seconds was much
too short)

- got rid of many unnecessary calls to time(NULL) in nmbd. They were
causing it to chew too much CPU time when idle. Now we pass a time
value in from the top level.



****************************************
Date:	Monday October 7, 1996 @ 21:06
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4780

Modified Files:
	client.c namepacket.c nmblookup.c reply.c 
Log Message:
- continue when failing to load config file in nmblookup and smbclient

- fix important bug in nmbd where it set the return code for a
negative name response to 0 (which means success!)




****************************************
Date:	Monday October 7, 1996 @ 21:14
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p4


****************************************
Date:	Tuesday October 8, 1996 @ 1:04
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12184

Modified Files:
	local.h reply.c server.c uid.c 
Log Message:
- revert to old idle dir code (marty pointed out a problem with the
new code)

- handle server level security in the new "detect NT password length
stuffups" code



****************************************
Date:	Tuesday October 8, 1996 @ 1:06
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p5


****************************************
Date:	Thursday October 10, 1996 @ 1:06
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv12363

Modified Files:
	ENCRYPTION.txt MIRRORS 
Log Message:
- updated the ENCRYPTION.txt stuff to point to the newer des
libraries.

- updated the MIRRORS list



****************************************
Date:	Thursday October 10, 1996 @ 1:08
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12480

Modified Files:
	reply.c 
Log Message:
- correctly handle non-encrypted share mode session-setup. We were
losing the username due to the recent "handle broken password lengths"
patch.




****************************************
Date:	Thursday October 10, 1996 @ 1:10
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p6


****************************************
Date:	Thursday October 10, 1996 @ 4:13
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18870

Revision/Branch: samba-2

Modified Files:
	Makefile loadparm.c nameelect.c nameserv.c nameserv.h 
	nameservreply.c proto.h 
Added Files:
	winslib.c winsquery.c winsreg.c winsrel.c winsstat.c 
Removed Files:
	winsservreply.c winsservresp.c 
Log Message:

split winsservreply.c and winsservresp.c into winsreg,rel,stat,query.

bug in Makefile - log.wins was going into the new nmb directory not
var directory.

added capability to do a 'hierarchical' recursive WINS server arrangement.
a top-level WINS server gets registrations from down-level WINS servers
on _behalf_ of the clients. this _doesn't_ reduce the amount of name
registrations / refreshes going on, but it should localise name queries.
this is going to be important for sites with a PPP link or dialup in
between.  i wonder what effect it would have on the WINS databases if
you _didn't_ always pass name registrations across, but only did name
queries, instead? hm.

in the recursive arrangement so far, registration and release are passed
to the top-level WINS server for approval (which could _also_ recurse).
for name queries, if the name is not in the local WINS database, it is
recursed to the top-level WINS server.

name releases are NOT passed back to down-level WINS servers from the
top-level WINS server. the down-level WINS servers must either rely
on name refreshing (which i will update to deal with this, later) or
on name expiry.

names that expire now remain in the wins.dat database, with EXPIRED
against their status. names that have expired will not get refreshed,
but the WINS server _will_ attempt to query such names itself, _before_
issuing a reply.

it's all very complicated, and going to be interesting to watch on a
packet sniffer!

lkcl



****************************************
Date:	Friday October 11, 1996 @ 15:49
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32457

Modified Files:
	loadparm.c namequery.c nameservresp.c 
Log Message:
- set default printer driver string to "NULL"

- fixed debug levels for name status parsing





****************************************
Date:	Saturday October 12, 1996 @ 3:54
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	namepacket.c 
Log Message:

netbios registration and release response packets were being junked. a
BAD idea.

lkcl



****************************************
Date:	Saturday October 12, 1996 @ 3:56
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p7


****************************************
Date:	Saturday October 12, 1996 @ 22:47
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba2/samba/source

Revision/Branch: samba-2

Modified Files:
	Makefile namedbname.c nameelect.c namequery.c nameserv.c 
	nmbd.c nmblib.c nmbpacket.c proto.h winsd.c winslib.c 
	winsquery.c winsreg.c winsrel.c winsserv.c 
Log Message:
debugging nmbd / winsd
lkcl



****************************************
Date:	Sunday October 13, 1996 @ 23:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23010

Modified Files:
	nameresp.c 
Log Message:

the response packets are being received (fix to process_nmb() worked)
however dead_netbios_entry() is still thinking that no response has
been received when the response_record times out for the registration
with the WINS server. only print a debug message when no registration
response is _really_ received from the WINS server.

lkcl



****************************************
Date:	Monday October 14, 1996 @ 0:28
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba2/samba/source

Revision/Branch: samba-2

Added Files:
	namelib.c namereg.c namerel.c namestat.c 
Removed Files:
	nameservreply.c nameservresp.c 
Log Message:

split nameservreply and nameservresp.c into namelib.c, namereg.c,
namerel.c, namestat.c and namequery.c - old namequery.c has moved
to.. namelib.c, i think.

lkcl



****************************************
Date:	Monday October 14, 1996 @ 1:09
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2486

Revision/Branch: samba-2

Modified Files:
	nameannounce.c namebrowse.c namedbname.c namedbresp.c 
	namedbserver.c nameelect.c namelib.c namerel.c nameserv.c 
	nameserv.h namework.c nmbd.c nmbpacket.c nmbsync.c proto.h 
	winsd.c winslib.c winsproxy.c winsquery.c winsreg.c winsrel.c 
	winsserv.c winsstat.c 
Log Message:

horrendous update just to eliminate unnecessary calls to time(NULL).
this has had the beneficial side-effect of dealing with response
packets having the correct timestamp marked on them.

maybe it would have been better to have a global time_t time_now,
but the timestamps on response packets probably wouldn't have been
sorted.

in both nmbd and winsd, there should now only be one call to
time(NULL) at the top level in process(), as necessary.

lkcl



****************************************
Date:	Monday October 14, 1996 @ 1:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5662

Revision/Branch: samba-2

Modified Files:
	namedbresp.c nmblib.c nmbpacket.c proto.h winsproxy.c 
Log Message:

i forgot to trawl through nmblib.c to get rid of calls to time(NULL).

lkcl



****************************************
Date:	Saturday October 19, 1996 @ 0:50
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1613

Modified Files:
	samba.faq 
Log Message:
Did some editing, got frustrated, started converting to linuxdoc-sgml



****************************************
Date:	Sunday October 20, 1996 @ 0:11
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23525

Revision/Branch: samba-2

Modified Files:
	loadparm.c nameannounce.c namebrowse.c namedbname.c 
	namedbresp.c namedbserver.c namedbsubnet.c namedbwork.c 
	nameelect.c namelib.c namepacket.c namequery.c namereg.c 
	namerel.c nameserv.c nameserv.h namestat.c namework.c nmbd.c 
	nmblib.c nmbpacket.c nmbsync.c proto.h winsd.c winslib.c 
	winsproxy.c winsquery.c winsreg.c winsrel.c winsserv.c 
Log Message:

debugging winsd / nmbd. i had the arguments for source ip and dest ip
the wrong way round for send_mailslot_reply() for example...

lkcl




****************************************
Date:	Thursday October 24, 1996 @ 4:28
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4557

Modified Files:
	namedbname.c 
Log Message:

code was added to stop samba from replying to queries for its own names (?! :-)
lkcl



****************************************
Date:	Thursday October 24, 1996 @ 4:37
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4663

Modified Files:
	nameservresp.c 
Log Message:

wrong answer response resource record type expected, so the response packet
was being abandoned. oops.

lkcl



****************************************
Date:	Thursday October 24, 1996 @ 4:44
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p8


****************************************
Date:	Thursday October 24, 1996 @ 5:12
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5505

Modified Files:
	server.c 
Log Message:
Jeremy <jra@cygnus.com>
Removed AS_USER requirement for SMBulogoff. A valid TID (cnum) is not
given for this call, which become_user needs if it is not to return
an error. This fixes a specific case with NT4.0 which stops users
attaching to a Samba server using a different account to the one they
are logged in under.




****************************************
Date:	Thursday October 24, 1996 @ 9:49
Author:	tridge

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv7966

Modified Files:
	samba.faq 
Log Message:
- fixed listproc mail address in faq
- added printer driver section to faq




****************************************
Date:	Thursday October 24, 1996 @ 10:08
Author:	tridge

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8419

Modified Files:
	client.c fault.c loadparm.c local.h message.c namedbname.c 
	nameservresp.c printing.c proto.h server.c smbencrypt.c util.c 
Log Message:
- added support for TMPDIR env variable
- fixed fault.c for linux 2.1
- put back in the FIND_SELF failing code
- cleaned up casts in encryption



****************************************
Date:	Thursday October 24, 1996 @ 10:10
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.16p9


****************************************
Date:	Friday October 25, 1996 @ 3:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10926

Modified Files:
	namedbname.c nameservreply.c proto.h 
Log Message:

dealing with name queries and dns lookups etc.
lkcl



****************************************
Date:	Friday October 25, 1996 @ 12:44
Author:	samba-bu

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/samba/samba-bugs/samba/docs/faq

Log Message:
Directory /data/cvs/samba/docs/faq added to the repository



****************************************
Date:	Friday October 25, 1996 @ 12:55
Author:	samba-bu

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/samba/samba-bugs/samba/docs/faq

Added Files:
	sambafaq-1.html sambafaq-2.html sambafaq-3.html 
	sambafaq-4.html sambafaq-5.html sambafaq.html sambafaq.sgml 
	sambafaq.txt 
Log Message:
Added faq directory under docs. Translated the whole of the current
FAQ into linuxdoc-sgml format. From now on we can change the file
sambafaq.sgml and then run sgml2txt and sgml2html to generate the
other files. (Home page for linuxdoc-sgml is
http://sunsite.unc.edu/mdw/Linuxdoc-SGML.html. Does cross references
and section management.)

Dan

****************************************
Date:	Saturday October 26, 1996 @ 2:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32109

Modified Files:
	namedbname.c nameservreply.c 
Log Message:

debugged dns lookup / netbios name query code from yesterday.
lkcl



****************************************
Date:	Saturday October 26, 1996 @ 5:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1438

Modified Files:
	namedbname.c nameservreply.c proto.h 
Log Message:

debugging the dns lookup changes
lkcl



****************************************
Date:	Saturday October 26, 1996 @ 5:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1444

Revision/Branch: samba-2

Modified Files:
	winsquery.c winsreg.c winsrel.c 
Log Message:

adding dns lookup back in
lkcl



****************************************
Date:	Saturday October 26, 1996 @ 6:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1776

Modified Files:
	ipc.c 
Log Message:
Changed definitions of prototypes to take uint16 vuid's not
int uid's. Part of the change for Samba to return an index+offset
into the registered users table rather than a raw unix uid.
Added casts to required prototypes for function pointers in
tables.
jra@cygnus.com




****************************************
Date:	Saturday October 26, 1996 @ 6:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1868

Modified Files:
	password.c 
Log Message:
Core of the changes for returning smb_uid's. smb_uid's are now
returned as an index plus offset into the valudated_users table.
The offset (100) is added so that an smb_uid of zero becomes
an invalid value. All access into the validated_users table are
done by removing the offset and indexing into the table. Out of
ranges return NULL. Causes accesses into the validated_users table
to be more consistant and controlled.

This change made due to the fact that the uid field is only 16
bits in the smb header and we need for this not to be a unix
user id (which can ge 32 bits).

jra@cygnus.com




****************************************
Date:	Saturday October 26, 1996 @ 6:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1927

Modified Files:
	proto.h 
Log Message:
Changed prototypes for accesses into validated_users structure.
Ensured all smb_uid accesses are uint16's.
jra@cygnus.com




****************************************
Date:	Saturday October 26, 1996 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2049

Modified Files:
	reply.c 
Log Message:
Modified all references to uid to vuid.
jra@cygnus.com



****************************************
Date:	Saturday October 26, 1996 @ 6:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2117

Modified Files:
	server.c 
Log Message:
Modified all references to smb_uid to be vuid's.
jra@cygnus.com



****************************************
Date:	Saturday October 26, 1996 @ 6:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2439

Modified Files:
	smb.h 
Log Message:
Added definitions for vuid offset and invalid user smb_uid.
Added vuid to connections struct.
jra@cygnus.com



****************************************
Date:	Saturday October 26, 1996 @ 6:50
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2481

Modified Files:
	uid.c 
Log Message:
Changed become_user to take a vuid as second arg.
Consistent with other changes to make smb_uid an index+offset
into the validated_users table.
jra@cygnus.com




****************************************
Date:	Monday October 28, 1996 @ 1:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32144

Modified Files:
	namedbname.c namedbsubnet.c namepacket.c nameresp.c 
	nameservreply.c nameservresp.c namework.c 
Log Message:

severe debugging session for nmbd. in fact, i'm surprised that browsing
in 1.9.16 works at all!

question and resource record types for queries and response netbios
packets sorted out properly (see rfc1002.txt 4.2.1.3).

receipt of browser announcement packets were playing up 

lkcl



****************************************
Date:	Monday October 28, 1996 @ 2:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv144

Revision/Branch: samba-2

Modified Files:
	nameannounce.c nameelect.c namepacket.c namequery.c nameserv.h 
	namestat.c namework.c nmbpacket.c winslib.c winsquery.c 
	winsreg.c 
Log Message:

more sorting out nmbd / winsd. this comes from debugging two nmbds and one
winsd.

when packets come in from ourselves on our own interface, they get discarded.
unfortunately, the code said 'goto try_again', which meant that if two packets
came in simultaneously on different ports, the first of which was discarded,
then the second packet would not be picked up and dealt with until another
packet came in. as nmbd (revision 'samba-2') listens for NMB packets on two
ports, a broadcast name query for WORKGROUP(1d) was sufficient to stuff
things. the query came in back on port 137, but the genuine reply from the
owner of WORKGROUP(1d) came in on the user port (port 1071 or whatever).
obscure!

sorted out question and resource record types in queries and responses. see
rfc1002.txt 4.2.1.3

other stuff - i forget what's been done very quickly. sorry!

lkcl



****************************************
Date:	Monday October 28, 1996 @ 2:23
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv651

Modified Files:
	namedbname.c 
Log Message:

removed getdomainname() stuff and appending a '.' to the name in
dns_name_search().

lkcl




****************************************
Date:	Monday October 28, 1996 @ 2:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv648

Revision/Branch: samba-2

Modified Files:
	winsquery.c 
Log Message:

removed getdomainname() stuff and appending a '.' to the name in
dns_name_search().

lkcl



****************************************
Date:	Monday October 28, 1996 @ 4:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1530

Revision/Branch: samba-2

Modified Files:
	nameannounce.c namepacket.c namereg.c winsreg.c 
Log Message:

more nmbd / winsd obscure debugging

host announcements being sent to workgroup(0x1b) instead of workgroup(0x1d).

nmbd was receiving broadcast registration packets which it was thinking
were from someone other than itself, therefore it was denying registration
of its own names! (dur).

lkcl



****************************************
Date:	Monday November 4, 1996 @ 4:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32201

Modified Files:
	nameservresp.c 
Log Message:

allowed packets coming in from 'unexpected' subnets.

lkcl



****************************************
Date:	Thursday November 7, 1996 @ 7:14
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28297

Modified Files:
	nmblookup.c 
Log Message:

nmblookup was looking for 0x1b (domain master browser) not 0x1d (local
master browser) names with the -M switch.

lkcl



****************************************
Date:	Thursday November 7, 1996 @ 7:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28320

Modified Files:
	namedbname.c 
Log Message:

queries for 0x1b names were resulting in dns lookups. not good.

lkcl



****************************************
Date:	Thursday November 7, 1996 @ 7:27
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29312

Modified Files:
	namedbname.c 
Log Message:

increased debug levels for name dump to same as that for workgroup dump
in log files. really verbose listings ought only to be shown at debug
log level 5 and above.

lkcl



****************************************
Date:	Saturday November 9, 1996 @ 12:56
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14415

Modified Files:
	password.c 
Log Message:
Set num_validated_users to zero if Realloc fails.




****************************************
Date:	Wednesday November 20, 1996 @ 6:16
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv175

Modified Files:
	Support.txt 
Log Message:

updated tectronic's entry to include the new contact name, and info about
them setting up the uk samba user group. contact: sam@tectronic.demon.co.uk

lkcl



****************************************
Date:	Wednesday December 4, 1996 @ 6:05
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9357

Modified Files:
	trans2.c 
Log Message:
Added Volkers fix for bundary condition. Needed as word
alignment wasn't being taken into account in space 
calculations.




****************************************
Date:	Wednesday December 11, 1996 @ 4:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26540

Modified Files:
	dir.c 
Log Message:
Added in veto files parameter create by Whistle.
jra@cygnus.com



****************************************
Date:	Wednesday December 11, 1996 @ 4:50
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26579

Modified Files:
	includes.h 
Log Message:
Added in changes for FreeBsd.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 4:51
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26622

Modified Files:
	loadparm.c 
Log Message:
Added in veto files parameter created by Whistle.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 4:52
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26674

Modified Files:
	locking.c 
Log Message:
Moved fcntl locking code into util.c to allow it to be
called from nmbd code.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 4:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26733

Modified Files:
	namedbname.c 
Log Message:
Added in missing return statement.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 4:55
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26771

Modified Files:
	nmbd.c 
Log Message:
Added -f option for lock file.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 4:56
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26811

Modified Files:
	proto.h 
Log Message:
Added veto calls.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 4:57
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26855

Modified Files:
	quotas.c 
Log Message:
Fixed quota support for FreeBsd.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 5:00
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26906

Modified Files:
	server.c 
Log Message:
Added -f lockfile support.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 5:01
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26975

Modified Files:
	smbencrypt.c 
Log Message:
Fixed for FreeBsd.
jra@cygnus.com




****************************************
Date:	Wednesday December 11, 1996 @ 5:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27023

Modified Files:
	util.c 
Log Message:
Added Whistle veto file functions. Moved fcntl locking from
locking.c to util.c
jra@cygnus.com




****************************************
Date:	Sunday December 15, 1996 @ 7:12
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv23471

Modified Files:
	Support.txt 
Log Message:

updated an entry for canberra.

lkcl



****************************************
Date:	Sunday December 15, 1996 @ 7:25
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23604

Modified Files:
	Makefile 
Log Message:

Subject: Porting samba-1.9.15p8 to UXP/DS
Date:   Mon, 14 Oct 96 09:17:56 JST
Sender: nom@oai6.yk.fujitsu.co.jp

updated Makefile entry for UXP/DS.

lkcl



****************************************
Date:	Sunday December 15, 1996 @ 7:35
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv23694

Modified Files:
	Support.txt 
Log Message:

added Adital corp to Support.txt

lkcl



****************************************
Date:	Monday December 16, 1996 @ 5:37
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7368

Revision/Branch: samba-2

Modified Files:
	util.c 
Log Message:

bug in StrCaseCmp where it terminates with return 0 if a string compares
successfully up to the point where one of the strings terminates.  it
should return non-zero if the strings are different lengths, but indentical
up to the point where one of the strings terminates.

lkcl



****************************************
Date:	Monday December 16, 1996 @ 5:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7505

Revision/Branch: samba-2

Modified Files:
	nameserv.c 
Log Message:

having looked at nt's capabilities to add workgroups that a tcp/ip browser
should propagate (NOT participate in) added functionality to add
multiple WORKGROUP<00> names to nmbd's lists. this is _different_ from
adding multiple WORKGROUp<1e> names.

lkcl



****************************************
Date:	Thursday January 2, 1997 @ 15:04
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32554/source

Modified Files:
	password.c 
Log Message:
JHT ==> Added extensions for PAM (Pluggable Authentication Module) support
	for Linux and other little beasties that use PAM.
	Source: ftp.redhat.com/pub/Incoming/samba-1.9.16p9.src.rpm
	Originally from RedHat modifications to samba-1.9.15p8



****************************************
Date:	Thursday January 2, 1997 @ 15:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32667

Revision/Branch: samba-2

Modified Files:
	password.c 
Log Message:
JHT =>	Added modification for PAM (Pluggable Authentication Module) support
	from RedHat Linux RPM samba-1.9.16p9.src.rpm
	Helps those who use Samba under any PAM using platform.



****************************************
Date:	Thursday January 2, 1997 @ 15:50
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv967/source

Modified Files:
	Makefile includes.h 
Log Message:
JHT =>	Modified for RedHat Linux for DEC Alpha platform includes.



****************************************
Date:	Thursday January 2, 1997 @ 20:30
Author:	samba-bugs

Update of /data/cvs/samba/test
In directory arvidsjaur:/var/tmp/cvs-serv7196/test

Log Message:
Directory /data/cvs/samba/test added to the repository



****************************************
Date:	Friday January 3, 1997 @ 10:25
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv15124/redhat

Log Message:
Directory /data/cvs/samba/examples/redhat added to the repository



****************************************
Date:	Friday January 3, 1997 @ 10:27
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv15155

Added Files:
	samba-1.9.16p9.spec samba-make.patch smb.conf smb.init 
Log Message:
spec files needed for redhat rpm building



****************************************
Date:	Friday January 3, 1997 @ 23:16
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28855

Modified Files:
	.cvsignore 
Added Files:
	Makefile.RPM 
Log Message:
JHT ==>	Added just for RedHat support so I have a working copy of the RPM
	aware makefile to generate the RPM source and binary distributions.



****************************************
Date:	Thursday January 9, 1997 @ 9:42
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv14591/docs

Modified Files:
	Support.txt 
Log Message:
Added new entry.




****************************************
Date:	Thursday January 9, 1997 @ 9:49
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv14676/docs

Modified Files:
	smb.conf.5 smbclient.1 smbd.8 smbtar.1 
Log Message:
Added patches from Paul Eggert.



****************************************
Date:	Thursday January 9, 1997 @ 21:24
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv25240

Modified Files:
	DOMAIN_CONTROL.txt 
Added Files:
	Application_Serving.txt 
Log Message:
JHT ==> Fixed typo in DOMAIN_CONTROL.txt, added Application_Serving.txt
	to help those wishing to run MS Office Application Servers.



****************************************
Date:	Thursday January 9, 1997 @ 21:37
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv25366

Added Files:
	samba-1.9.16p10.spec 
Removed Files:
	samba-1.9.16p9.spec 
Log Message:
JHT ==> Updated files in preparation for release of Samba-1.9.16p10



****************************************
Date:	Thursday January 9, 1997 @ 21:39
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv25389

Modified Files:
	samba-make.patch 
Log Message:
JHT ==> Ditto



****************************************
Date:	Friday January 10, 1997 @ 5:01
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29354

Modified Files:
	Makefile charcnv.c charset.c charset.h clitar.c includes.h 
	interface.c kanji.h locking.c pipes.c proto.h reply.c server.c 
	smb.h status.c system.c trans2.c util.c version.h 
Log Message:
Makefile: Changes to split Solaris into Solaris2.3 and previous, and 2.4 and after from Paul Eggert.    
Makefile: Added AMIGA changes from Rask Ingemann Lambertsen <rask@k4315.kampsax.dtu.dk>. 
charset.c: Patch for Western European Languages from Josef Hinteregger <joehtg@joehtg.co.at> 
charset.h: Patch for Western European Languages from Josef Hinteregger <joehtg@joehtg.co.at>
clitar.c: Patch to re-sync after read fail from (lost contributor name, sorry).
includes.h: Patch for AMIGA from Rask Ingemann Lambertsen <rask@k4315.kampsax.dtu.dk>
includes.h: Patch for SunOS atexit by Jeremy (jra@cygnus.com)
interface.c: Patch for AMIGA from Rask Ingemann Lambertsen <rask@k4315.kampsax.dtu.dk>
kanji.h: Patch for Western European Languages from Josef Hinteregger <joehtg@joehtg.co.at>
locking.c: Patch to fix file locking from Jeremy (jra@cygnus.com)
locking.c: Patch to add granularity of lock files to usec by Jeremy (jra@cygnus.com)
pipes.c: Patch to fix file locking from Jeremy (jra@cygnus.com)
proto.h: Patch to fix file locking from Jeremy (jra@cygnus.com)
reply.c: Patch to fix file locking from Jeremy (jra@cygnus.com)
server.c: Patch to fix file locking from Jeremy (jra@cygnus.com)
server.c: Patch for FAST_SHARE_MODE fix from (lost contributor name, sorry).
smb.h: Patch to fix file locking from Jeremy (jra@cygnus.com)
smb.h: Patch to add granularity of lock files to usec by Jeremy (jra@cygnus.com)
status.c: Patch to fix file locking from Jeremy (jra@cygnus.com)
statuc.c: Patch to add granularity of lock files to usec by Jeremy (jra@cygnus.com)
system.c: Patch for Western European Languages from Josef Hinteregger <joehtg@joehtg.co.at>
trans2.c: Patch to fix file locking from Jeremy (jra@cygnus.com)
trans2.c: Patch to fix volume name reported to Win95 from Jeremy (jra@cygnus.com)
util.c: Patch for Western European Languages from Josef Hinteregger <joehtg@joehtg.co.at>
util.c: Patch to fix client_name from continuously returning UNKNOWN (from various contributors).
version.h: Update to 1.9.16p10.




****************************************
Date:	Friday January 10, 1997 @ 9:25
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv32725

Added Files:
	Instructions 
Log Message:
JHT ==> Added for those who like to roll their own!



****************************************
Date:	Tuesday January 14, 1997 @ 6:40
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2151

Modified Files:
	pipes.c proto.h reply.c server.c trans2.c 
Log Message:
Added an extra parameter for unix_convert. If present this is the
last component of the modified pathname before modification. This
is needed due to an exceptional condition in reply_mv when the
filesystem is case preserving, but not case sensitive and the
user wants to change the case of a filename. Code for this is
also added to reply.c
Jeremy (jra@cygnus.com).



****************************************
Date:	Wednesday January 15, 1997 @ 12:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1990

Modified Files:
	locking.c proto.h quotas.c shmem.c smb.h status.c 
Log Message:
locking.c proto.h shmem.c smb.h status.c :
Changed shm_ prefixes to smb_shm_ prefixes as shm_ is a POSIX.4
prefix. Updated fd code in FAST_SHARE_MODE code
to work with new fd indirection.
quotas.c: Fixed #ifdef not on position zero.
Jeremy. (jra@cygnus.com).



****************************************
Date:	Friday January 24, 1997 @ 6:39
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7563

Modified Files:
	server.c 
Log Message:
Added fix for file descriptor re-use failing when
file_exists is false.
Jeremy (jra@cygnus.com).



****************************************
Date:	Thursday January 30, 1997 @ 0:41
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv14610

Modified Files:
	smb.conf 
Log Message:
JHT ==> Updated and commented RedHat Linux smb.conf file.



****************************************
Date:	Thursday January 30, 1997 @ 8:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21328

Modified Files:
	proto.h 
Log Message:
Fixed proto problem with lp_veto_files().
Jeremy




****************************************
Date:	Thursday January 30, 1997 @ 9:27
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23825

Modified Files:
	username.c 
Log Message:
Fixed issue with null ypdomainname being used.
Jermy.




****************************************
Date:	Saturday February 1, 1997 @ 2:17
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv2158

Modified Files:
	samba-1.9.16p10.spec samba-make.patch smb.conf 
Added Files:
	samba-axp.patch 
Log Message:
JHT ===> Prepared now for release of Samba-1.9.16p10 RedHat RPMS



****************************************
Date:	Saturday February 1, 1997 @ 2:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2190

Modified Files:
	Makefile Makefile.RPM 
Log Message:
JHT ===> Prepared now for release of samba-1.9.16p10 RedHat RPMS



****************************************
Date:	Saturday February 1, 1997 @ 2:39
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv2515

Modified Files:
	GOTCHAS.txt 
Log Message:
JHT ===> Guys, please check this out before release of 1.9.16p10
	I added it to answer the one-two-many time this matter has been
	raised to me. If you are not comfortable with the added info
	please zap it from the final release.



****************************************
Date:	Monday February 3, 1997 @ 3:03
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	server.c 
Log Message:


line 1960 - call to atexit - address of higher order function killkids
not needed (address already specified).

lkcl


****************************************
Date:	Monday February 3, 1997 @ 5:12
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv15308

Modified Files:
	ipc.c loadparm.c proto.h util.c 
Log Message:


util.c: StrCaseCmp and StrnCaseCmp terminated incorrectly, giving false
answers when a string was partially identical.  this issue is still
outstanding, and needs to be investigated further.

loadparm.c: added lp_logon_path() parameter.
ipc.c: in NetUserGetInfo, lp_logon_path() can be returned instead of always
specifying \\SAMBA_SERVER\HOMES (which may not necessarily exist).
it is now possible to specify lp_logon_path() as \\ARBITRARY_SERVER\%U,
just like NT server can.  the default is \\SAMBA_SERVER\HOMES, just like
it used to be.

lkcl



****************************************
Date:	Tuesday February 4, 1997 @ 6:40
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10923

Modified Files:
	trans2.c 
Log Message:
Fixed bug with NT and large directories.
jra@cygnus.com



****************************************
Date:	Tuesday February 4, 1997 @ 6:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10958

Modified Files:
	proto.h util.c 
Log Message:
Fixed const definitions for StrCaseXXX calls.
jra@cygnus.com




****************************************
Date:	Tuesday February 4, 1997 @ 6:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11022

Modified Files:
	server.c 
Log Message:
Fixed up problems with CDROM filesystems (return EROFS) and
also compile issue with USE_MMAP code.
jra@cygnus.com




****************************************
Date:	Tuesday February 4, 1997 @ 12:21
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv19401

Modified Files:
	server.c 
Log Message:
Fixed my stupid typo in earlier fix.
jra@cygnus.com



****************************************
Date:	Tuesday February 4, 1997 @ 21:35
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8909

Modified Files:
	Makefile password.c 
Log Message:
JHT ===> Fixed potential PAM Security hole and second chance syndrome
	spurious warning message "Warning - no crypt available"



****************************************
Date:	Tuesday February 4, 1997 @ 22:04
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv9431

Modified Files:
	samba-1.9.16p10.spec samba-make.patch 
Log Message:
JHT ===> Beggining of fixes to RedHat config stuff - more to come!!



****************************************
Date:	Tuesday February 4, 1997 @ 22:21
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9923

Modified Files:
	version.h 
Log Message:
JHT ===> **** WARNING **** Only updated version to 1.9.16p11
	so I can test RedHat RPM builds.



****************************************
Date:	Tuesday February 4, 1997 @ 23:05
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv10732

Added Files:
	samba-1.9.16p11.spec samba.log 
Removed Files:
	samba-1.9.16p10.spec 
Log Message:
JHT ===> Getting ready for relase of 1.9.16p11 RedHat RPMS



****************************************
Date:	Tuesday February 4, 1997 @ 23:16
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv10962

Modified Files:
	samba-axp.patch samba-make.patch 
Log Message:
JHT ===> Oops. Forgot about that renaming.



****************************************
Date:	Tuesday February 4, 1997 @ 23:49
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv11503

Modified Files:
	smb.conf 
Log Message:
JHT ===> Oops again. Too quick - try again.



****************************************
Date:	Tuesday February 4, 1997 @ 23:58
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv11651

Modified Files:
	smb.conf 
Log Message:
JHT ===> Added os level and activated max log size in standard smb.conf file.



****************************************
Date:	Friday February 7, 1997 @ 4:32
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4419

Modified Files:
	printing.c 
Log Message:
Fixed incorrect offset into array.
jra@cygnus.com




****************************************
Date:	Sunday February 9, 1997 @ 7:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14149

Revision/Branch: samba-2

Modified Files:
	Makefile access.c charcnv.c charset.c charset.h checkos.sh 
	client.c clitar.c dir.c fault.c includes.h installbin.sh 
	installman.sh installscripts.sh interface.c ipc.c kanji.h 
	loadparm.c local.h locking.c mangle.c message.c mkproto.awk 
	namedbsubnet.c password.c pipes.c printing.c proto.h quotas.c 
	replace.c reply.c server.c shmem.c smb.h smbencrypt.c 
	smbpass.c status.c system.c testparm.c testprns.c trans2.c 
	trans2.h uid.c username.c util.c 
Log Message:

tee hee.

update smbd in samba-2, from samba-1 source tree.  smbd in samba-2 compiles
and links, but hasn't been run, yet.  this is in preparation for the
possibility of using the samba-2 for 1.9.17, if absolutely necessary.

lkcl



****************************************
Date:	Monday February 10, 1997 @ 1:32
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30915

Modified Files:
	smb.conf.5 
Log Message:

updated preferred master parameter and added domain master parameter.
entries kindly written by John Barker (johnb@tigerlabs.com).

lkcl



****************************************
Date:	Monday February 10, 1997 @ 1:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30984

Revision/Branch: samba-2

Modified Files:
	client.c proto.h util.c 
Log Message:

debugging the updates from the samba-1 smbd merge into samba-2

lkcl



****************************************
Date:	Monday February 10, 1997 @ 2:35
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv31480

Modified Files:
	BROWSING.txt 
Log Message:

updated this document.  now, when we get browsing questions, we can say,
'ha!  RTSBSFSSM'!

lkcl



****************************************
Date:	Monday February 10, 1997 @ 3:45
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv32205

Added Files:
	NetBIOS.txt 
Log Message:

first draft of NetBIOS.txt - WINS server and Broadcast NetBIOS name
resolution / registration: what they are etc.

lkcl



****************************************
Date:	Tuesday February 11, 1997 @ 0:54
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21320

Modified Files:
	mangle.c server.c 
Log Message:

JHT ===> William Yost patches integrated to fix leading path on 8.3
	filename problem.
	Problem conditions:
		case sensitive = no
		default case = lower
		mangle case = yes
		preserve case = yes
		short preserve case = yes
	Problem: Win95 still writes upper case file names.
	Patches supplied have been incorporated into mangle.c and server.c
	but needs YOSTW to be defined for it to take effect.

	Action:
	=======
	If we are happy with the patch, delete old code in mangle.c, then
	remove all YOSTW #ifdefs.



****************************************
Date:	Tuesday February 11, 1997 @ 6:27
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25872

Modified Files:
	server.c 
Log Message:
Removed YOST code. Removal of leading ./ chars should
be done in unix_clean_name in util.c
jra@cygnus.com




****************************************
Date:	Tuesday February 11, 1997 @ 7:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26584

Modified Files:
	util.c 
Log Message:
Added trim_string(s, "./", 0) to unix_clean_name to remove
leading ./ characters.
jra@cygnus.com



****************************************
Date:	Tuesday February 11, 1997 @ 7:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27085

Revision/Branch: samba-2

Modified Files:
	util.c 
Log Message:
Added trim_string to remove leading ./ characters in unix_clean_name().
jra@cygnus.com




****************************************
Date:	Wednesday February 12, 1997 @ 9:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22432

Modified Files:
	mangle.c proto.h reply.c server.c trans2.c 
Log Message:
Replaced YOST code with more functionally equivalent code that
changes a bit less. Also added fix to tricky reply_mv case.
jra@cygnus.com



****************************************
Date:	Wednesday February 12, 1997 @ 23:38
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8444

Modified Files:
	Makefile.RPM 
Log Message:
JHT ===> Updated RedHat RPM Makefile - not really used except to generate
	the RedHat Makefile diffs.



****************************************
Date:	Thursday February 13, 1997 @ 5:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv12943

Revision/Branch: samba-2

Modified Files:
	mangle.c proto.h reply.c server.c trans2.c 
Log Message:
Syncing up Samba-2 tree with Samba. Addind in YOST compatible
fixes and short case fix.
jra@cygnus.com




****************************************
Date:	Thursday February 13, 1997 @ 6:09
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13588

Revision/Branch: samba-2

Modified Files:
	namedbname.c nameelect.c namepacket.c namequery.c namereg.c 
	namerel.c nameserv.c nameserv.h namestat.c winsserv.c 
Log Message:

removed SELF references.  i don't know if this is a bad idea or not, as
it means that there's no convenient way to cache NetBIOS names in nmbd.
given that we don't _do_ any NetBIOS name cacheing, it doesn't make much
difference, at the moment!

NOTE: winsd doesn't _use_ SELF references, so is completely unaffected.

lkcl



****************************************
Date:	Friday February 14, 1997 @ 7:36
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10309

Modified Files:
	util.c 
Log Message:
Fixed bugs in my YOST replacement code. Doing a trim_string 
in unix_clean_name caused directory names to go from ./ to "".
This is now checked for, unix_clean name returns ./ in these
cases.
jra@cygnus.com



****************************************
Date:	Friday February 14, 1997 @ 7:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10785

Modified Files:
	includes.h Makefile Makefile.RPM 
Log Message:
Fixed inclusion of crypt.h bug when libdes is being used on Solaris
only.
jra@cygnus.com



****************************************
Date:	Saturday February 15, 1997 @ 9:11
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8932

Revision/Branch: samba-2

Modified Files:
	util.c 
Log Message:
Added trim_string fix to allow long directory listings
jra@cygnus.com




****************************************
Date:	Saturday February 15, 1997 @ 9:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9045

Revision/Branch: samba-2

Modified Files:
	Makefile includes.h 
Log Message:
Added changes for people using LIBDES to not include crypt.h
on Solaris.
jra@cygnus.com




****************************************
Date:	Saturday February 15, 1997 @ 19:37
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv17075

Modified Files:
	samba-1.9.16p11.spec 
Added Files:
	makerpms.sh 
Log Message:
JHT ===> Trying to enable RPM build from non-root area.
	makerpms.sh is just type and go attempt.



****************************************
Date:	Sunday February 16, 1997 @ 16:30
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv1932

Modified Files:
	samba-1.9.16p11.spec 
Added Files:
	samba-1.9.16p11.spec.full 
Log Message:
JHT ===> Hack, Hack, Hack. I just wanna get this spec file stuff right
	so I can build RPMs on a DEC Alpha on which I do NOT have root
	permissions. Argh!!!!!



****************************************
Date:	Tuesday February 18, 1997 @ 13:55
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv4010

Modified Files:
	makerpms.sh samba-1.9.16p11.spec 
Added Files:
	makeldirs.sh 
Log Message:
JHT ===> Still mucking around with RPM building for RedHat Linux



****************************************
Date:	Wednesday February 19, 1997 @ 4:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14707

Modified Files:
	reply.c 
Log Message:
Fixed problem with renaming folder on top level share.
jra@cygnus.com




****************************************
Date:	Wednesday February 19, 1997 @ 13:15
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28278

Revision/Branch: samba-2

Modified Files:
	reply.c 
Log Message:
Added fix for renaming top level share file/folders.
jra@cygnus.com




****************************************
Date:	Sunday February 23, 1997 @ 2:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31604/source

Modified Files:
	nameserv.h smb.h 
Log Message:
JHT ===> Updated SV_TYPE defines in smb.h (added WIN95 entry)
	nameserv.h returned to original state.



****************************************
Date:	Sunday February 23, 1997 @ 14:21
Author:	samba-bugs

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv2334

Modified Files:
	smb.conf 
Log Message:
JHT ===> Updated default RedHat smb.conf file



****************************************
Date:	Sunday February 23, 1997 @ 16:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv4915

Modified Files:
	Makefile chgpasswd.c loadparm.c proto.h server.c system.c 
	trans2.c trans2.h util.c 
Log Message:
Makefile: Added cleandir target.
chgpasswd.c: Added patch from Roland Haag <haag@think.de> to allow
             password changes to be done more than once.
loadparm.c: Added entries for the "directory mode/directory mask parameters". 
            Changed default file mode to 644.
proto.h: Added sys_gethostbyname.
server.c: Added directory mode changes.
system.c: Added sys_gethostbyname.
trans2.c: Added NT_FILE_ATTRIBUTE_NORMAL patch from Roger Orr 
          <rorr@csfp.csfb.com>
trans2.h: Defined NT_FILE_ATTRIBUTE_NORMAL for above patch.
util.c: Changes calls to gethostbyname to sys_gethostbyname.
jra@cygnus.com



****************************************
Date:	Sunday February 23, 1997 @ 16:19
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv5145/docs

Modified Files:
	smb.conf.5 
Log Message:
Added documentation for directory mode/directory mask parameter.
jra@cyngus.com



****************************************
Date:	Sunday February 23, 1997 @ 16:26
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5214/source

Revision/Branch: samba-2

Modified Files:
	Makefile chgpasswd.c loadparm.c proto.h server.c system.c 
	trans2.c trans2.h util.c 
Log Message:
Makefile: Added cleandirs target.
chgpasswd.c: Added patch from Roland Haag <haag@think.de> to allow passwords
             to be changed more than once.
loadparm.c: Added code for directory mask/directory mode parameter.
proto.h: Added sys_gethostbyname.
server.c: Added code for directory mask/directory mode parameter.
system.c: Added sys_gethostbyname.
trans2.c: Added NT_FILE_ATTRIBUTE_NORMAL  patch from 
          "Roger Orr" <RORR@CSFP.CSFB.COM>.
trans2.h: Added definition of NT_FILE_ATTRIBUTE_NORMAL.
util.c: Changed calls from gethostbyname to sys_gethostbyname.
jra@cygnus.com



****************************************
Date:	Sunday February 23, 1997 @ 16:29
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv5445

Revision/Branch: samba-2

Modified Files:
	smb.conf.5 
Log Message:
Updated doc in line with 1.9.16p12 source.
jra@cygnus.com



****************************************
Date:	Sunday February 23, 1997 @ 18:00
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7067

Modified Files:
	version.h 
Log Message:
JHT ===> Set to 1.9.16p12alpha until someone thinks it's Beta prime time.
	To be set to 1.9.16p12 just before release.



****************************************
Date:	Saturday March 1, 1997 @ 7:39
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23739

Modified Files:
	ipc.c pipes.c reply.c server.c trans2.c 
Log Message:
Split maxxmit parameter into two : max_send (auto configured by the
connecting client, as per CIFS4) and max_recv, which can be configured
as the old maxxmit was. Fixes problems with NT directory listings when
maxxmit is set very small.
jra@cygnus.com



****************************************
Date:	Saturday March 1, 1997 @ 9:16
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24619

Revision/Branch: samba-2

Modified Files:
	ipc.c pipes.c reply.c server.c trans2.c 
Log Message:
Split maxxmit into max_recv (set by us, same as previous maxxmit)
and max_send, configured from client in smbsessionsetupandX.
Fixes bugs in NT long directory listings with small maxxmit value.
jra@cygnus.com



****************************************
Date:	Saturday March 1, 1997 @ 13:40
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26513

Modified Files:
	Makefile 
Log Message:
JHT ===> Updated for UnixWare support - patch by Richard ????



****************************************
Date:	Monday March 3, 1997 @ 1:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6768

Modified Files:
	namepacket.c 
Log Message:

added debug_nmb_packet() call.

lkcl



****************************************
Date:	Monday March 3, 1997 @ 5:03
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv9928

Modified Files:
	DOMAIN.txt 
Log Message:

added reference on CONFIG.POL being loaded from the root of the [netlogon]
share, because i've been trawling through NT server help files again.

lkcl



****************************************
Date:	Monday March 3, 1997 @ 5:54
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv10343

Modified Files:
	DOMAIN.txt 
Log Message:

added warning to admin people about [nelogon] share must be read-only,
so people don't create their own batch files to stuff other users.

lkcl



****************************************
Date:	Monday March 3, 1997 @ 6:49
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv10949

Modified Files:
	smb.conf.5 
Log Message:

added logon script and logon path parameters.

lkcl



****************************************
Date:	Monday March 3, 1997 @ 6:54
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv11067

Revision/Branch: samba-2

Modified Files:
	smb.conf.5 DOMAIN.txt 
Log Message:

added logon script and logon path to smb.conf.5
added warning about [netlogon] should be read-only.

lkcl



****************************************
Date:	Saturday March 8, 1997 @ 4:18
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv24277/docs

Modified Files:
	smb.conf.5 
Log Message:
Fixed typos.
jra@cygnus.com




****************************************
Date:	Saturday March 8, 1997 @ 4:20
Author:	samba-bugs

Update of /data/cvs/samba/examples/printing
In directory arvidsjaur:/var/tmp/cvs-serv24302/examples/printing

Modified Files:
	smbprint 
Log Message:
Added fix (lost contributor, sorry) for more than 10 parameters.
jra@cygnus.com



****************************************
Date:	Saturday March 8, 1997 @ 4:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24345

Modified Files:
	time.c 
Log Message:
Fix fro signed/unsigned problem with TIME_T_MIN from Anatoly V. Grabar
<agra@sice.ru>
jra@cygnus.com



****************************************
Date:	Saturday March 8, 1997 @ 4:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24391

Modified Files:
	ufc.c quotas.c 
Log Message:
quotas.c: Fixed typo in #ifdef'ed compile.
ufc.c: Added pre-declaration of _ufc_doit().
jra@cygnus.com



****************************************
Date:	Saturday March 8, 1997 @ 4:28
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24454

Modified Files:
	nmblib.c 
Log Message:
Added better debug for what kind of netbios packet we got.
jra@cygnus.com



****************************************
Date:	Saturday March 8, 1997 @ 4:52
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv24733/docs

Revision/Branch: samba-2

Modified Files:
	smb.conf.5 
Log Message:
smb.conf.5: Fixed typo's.
smbprint: Added patch (forgot contributor) to handle more than 10 parameters.
jra@cygnus.com



****************************************
Date:	Saturday March 8, 1997 @ 4:52
Author:	samba-bugs

Update of /data/cvs/samba/examples/printing
In directory arvidsjaur:/var/tmp/cvs-serv24733/examples/printing

Revision/Branch: samba-2

Modified Files:
	smbprint 
Log Message:
smb.conf.5: Fixed typo's.
smbprint: Added patch (forgot contributor) to handle more than 10 parameters.
jra@cygnus.com



****************************************
Date:	Sunday March 9, 1997 @ 5:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10522

Modified Files:
	nameelect.c 
Log Message:

preferred master option will force an election every 5 minutes if the
server isn't a preferred master, and DEBUG(0,(...)) this.

reason: if the os level etc parameters aren't working properly, then
a domain master browser samba server that _ought_ to be the local master
browser as well might not.

i'll modify smb.conf.5 man page etc to reflect this change.

lkcl



****************************************
Date:	Monday March 10, 1997 @ 1:58
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24174

Modified Files:
	ipc.c nameannounce.c namedbwork.c nameelect.c namelogon.c 
	namepacket.c nameserv.c nameserv.h namework.c nmbd.c proto.h 
	server.c smb.h 
Log Message:

1) updated ipc.c NetUserGetInfo - load \\%L\%U instead of \\%L\HOMES
   because the share must be browseable by a w95 client

2) send_mailslot_reply - unique or group datagram argument added.

3) netlogon.c - rewrote response packet to do the right thing for w95.

4) server.c reply_nt1() - added OEMDomainstring to the end.

5) (deep breath) reworked the nmbd-browsing code a little bit.
   i discovered two months ago that becoming a primary domain controller
   (and domain master browser) is done independently of becoming a
   backup domain controller (logon server) is done independently of
   becoming a local master browser.

   therefore, three sets of state-machines (instead of just one) are in
   place - each of which is responsible for taking samba through the
   required stages to become:  a logon server; a domain master browser;
   and a local master browser.

   each of these three things can occur independently on each interface,
   _including_ the wins pseudo-interface.  the only slight caveat is that
   the wins pseudo-interface, by virtue of _not_ being a broadcast
   interface, does _not_ register as a local master browser with the wins
   server, as this doesn't make sense.

lkcl



****************************************
Date:	Monday March 10, 1997 @ 3:26
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv24981

Modified Files:
	BROWSING.txt DOMAIN.txt smb.conf.5 
Log Message:

updating documentation on:

profiles; domain master browsing; netlogons; preferred master.

lkcl



****************************************
Date:	Monday March 10, 1997 @ 5:16
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv25377

Modified Files:
	sambafaq.txt 
Log Message:

added reference to thursby under section 3.1

lkcl



****************************************
Date:	Monday March 10, 1997 @ 5:21
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv25402

Modified Files:
	DOMAIN.txt smb.conf.5 
Log Message:

missed some bits.  added some more on profiles - e.g windows 95 description
of what needs to be done.

lkcl



****************************************
Date:	Thursday March 13, 1997 @ 7:20
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1934

Modified Files:
	nameresp.c nameserv.c nameserv.h 
Log Message:

added code that checks whether the DOMAIN<1b> name is claimed on the
local subnet _before_ going and registering it.  the reason for this
is that i don't want to cause chaos by registering the name twice.

it's ok to register DOMAIN<1b> with the WINS server, because the WINS
server's job is to check a) _if_ there's a current owner of the name
b) if the current owner exists c) if the current owner still wants the
name.  if they don't, the WINS server responds by saying, 'yes, you can
have it'.

lkcl



****************************************
Date:	Friday March 14, 1997 @ 6:05
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29790

Modified Files:
	namepacket.c 
Log Message:

added jeremy's patch to return Node Status info type in a Node Status
response, instead of always Name Query.

oops.

lkcl



****************************************
Date:	Friday March 14, 1997 @ 6:18
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv30080

Modified Files:
	sambafaq.txt 
Log Message:

updated the entry on the MAC, because thursby do DAVE.

lkcl



****************************************
Date:	Sunday March 16, 1997 @ 1:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5991

Modified Files:
	ipc.c nameannounce.c smb.h 
Log Message:
JHT ===> Moved MAJOR_VERSION and MINOR_VERSION defines to smb.h
	Made version info consistent in ipc.c and nameannounce.c
	Added define for BROWSER_ELECTION_VALUE and BROWSER_CONSTANT
	(see do_announce_host() in nameannounce.c).

	Sniffing with the latest bloodhound I found that the byte range
	occupied by the BROWSER_ELECTION_VALUE is interpreted depending
	on the type of announcement being made.

	In a Local_Master_Announcement it is BROWSER_ELECTION_VALUE
	but in both Workgroup_Announcement and Host_Announcement
	this is seen as Comment_String_Pointer. What does this mean?
	We need to know?



****************************************
Date:	Sunday March 16, 1997 @ 1:58
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6112

Modified Files:
	smb.h 
Log Message:
JHT ===> Blasted typos. BROWSER_ELECT_VERSION in smb.h should have been
	BROWSER_ELECTION_VERSION.



****************************************
Date:	Sunday March 16, 1997 @ 4:59
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7798

Modified Files:
	nameresp.c 
Log Message:

bug: when checking whether there is a PDC already on the current local
subnet, on finding that there was no response, the (broadcast) ip address
queried was accidentally being compared to the (unicast) interface ip
address.  this would stop non-WINS-client nmbds from ever becoming a PDC.

lkcl



****************************************
Date:	Sunday March 16, 1997 @ 5:38
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8177

Modified Files:
	nameelect.c 
Log Message:

become_domain_master(), become_local_master() and become_logon_server()
weren't being called properly from name_register_work().

lkcl



****************************************
Date:	Sunday March 16, 1997 @ 5:40
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8220

Modified Files:
	nameelect.c 
Log Message:

compile errors. oops.

lkcl



****************************************
Date:	Sunday March 16, 1997 @ 6:08
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8373

Modified Files:
	nameelect.c 
Log Message:

finally!  doing a strequal() == 0 instead of just strequal().  too used to
strcmp.  oops.

lkcl



****************************************
Date:	Friday March 21, 1997 @ 13:40
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1691

Modified Files:
	Support.txt 
Log Message:
Removed 'Richard Bullington' from support doc at his request... he loves the product, but can't afford the time.
Paul.



****************************************
Date:	Friday March 21, 1997 @ 14:03
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv2120

Modified Files:
	sambafaq.txt 
Log Message:
Removed old info on Mac support and Samba, left lukes addition, added more info on Netatalk and CAP

This hasn't been added to the sgml and html faq originals, Dan, if linux-doc isn't on samba.anu could you remind me where it is.

Paul.



****************************************
Date:	Monday March 24, 1997 @ 6:10
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1136

Revision/Branch: samba-2

Modified Files:
	Makefile chgpasswd.c includes.h interface.c ipc.c loadparm.c 
	nameannounce.c namebrowse.c namedbname.c namedbresp.c 
	namedbserver.c namedbsubnet.c namedbwork.c nameelect.c 
	namelib.c namelogon.c namepacket.c namequery.c namereg.c 
	namerel.c nameserv.c nameserv.h namestat.c namework.c nmbd.c 
	nmblib.c nmbpacket.c nmbsync.c pipes.c proto.h reply.c 
	server.c smb.h system.c trans2.c trans2.h util.c winsd.c 
	winslib.c winsquery.c 
Log Message:

radical.  none of this is debugged, yet, but i was getting worried about
losing these changes.

1) split nmbd into browsed and nmbd.  nmbd now binds to port 137.  browsed
   and nmbd now bind to high port numbers on 127.0.0.1, and talk to nmbd.
   nmbd is now _purely_ a port 137 proxy daemon.

   it should technically be possible to run multiple nmbd daemons.  it
   should _definitely_ be possible to run nmblookup as a non-root process.

2) truck-loads of changes making browsed easier to move to a
   transport-independent system.  i still haven't looked at novell's
   stuff, but richard should be happier because it should be relatively
   easy to use smblib.

lots of debugging to do: about another week's work required.

lkcl



****************************************
Date:	Monday March 24, 1997 @ 6:29
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1551

Revision/Branch: samba-2

Modified Files:
	util.c 
Log Message:

client_name() returning const char* was confusing proto.awk.  return char*

lkcl



****************************************
Date:	Monday March 24, 1997 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1569

Revision/Branch: samba-2

Modified Files:
	nmbd.c 
Log Message:

lkcl



****************************************
Date:	Monday March 24, 1997 @ 6:37
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1623

Revision/Branch: samba-2

Modified Files:
	proto.h 
Log Message:

lkcl



****************************************
Date:	Monday March 24, 1997 @ 6:49
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2132

Revision/Branch: samba-2

Modified Files:
	proto.h winsd.c 
Removed Files:
	winsproxy.c 
Log Message:

winsproxy.c not needed - it used to do proxy forwarding.

lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 5:57
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27410

Revision/Branch: samba-2

Modified Files:
	interface.c smb.h winsd.c winsquery.c 
Log Message:

ok.  not enough planning done on this, for winsd.  doesn't compile at the
moment - i made no provision for direct netbios_name_query() to an ip
address; only to a 'transport-independent' handle.  oops.  have to do
something about this, somehow.

lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 6:01
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27566

Revision/Branch: samba-2

Added Files:
	nmbproxy.c 
Log Message:

nmbd is now a port 137 proxy daemon.  this module handles the records
required to actually carry out the proxying between nmbd (on port 137)
and user-space processes (on high port numbers).

lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 6:05
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27666

Revision/Branch: samba-2

Modified Files:
	Makefile 
Log Message:

Makefile with wrong timestamp - cvs playing up as a result. nmbproxy.o added

lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 6:08
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27730

Revision/Branch: samba-2

Added Files:
	browsed.c 
Log Message:

oops! forgot browsed.c for the user-spaceable 'browsing' daemon.  this is
the bit that was part of nmbd.  it's a WINS client, by the way, which is
_one_ of the reasons it's split out of nmbd.

lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 6:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27948

Revision/Branch: samba-2

Modified Files:
	Makefile browsed.c 
Log Message:

created a separate BRSELOGFILE log.brse.
lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 6:45
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28563

Revision/Branch: samba-2

Modified Files:
	Makefile nameserv.c nmbd.c nmblib.c 
Log Message:

debugging.  jeremy _hates_ log.brse, and wants log.browse which makes
lots of sense :)

lkcl



****************************************
Date:	Wednesday March 26, 1997 @ 8:25
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30522

Revision/Branch: samba-2

Modified Files:
	nmbd.c nmblib.c nmbproxy.c 
Log Message:

debugging - the proxy stuff is giving me gip.  not surprising - first time
it's been run :-)

lkcl



****************************************
Date:	Friday April 4, 1997 @ 2:56
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv529

Modified Files:
	client.c 
Log Message:

name_type for name_query with smbclient -M name should be used.  that way,
you get messages to the proper location.

lkcl



****************************************
Date:	Wednesday April 9, 1997 @ 11:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv736

Modified Files:
	access.c includes.h interface.c loadparm.c nameannounce.c 
	namebrowse.c namedbname.c namedbresp.c namedbsubnet.c 
	namedbwork.c nameelect.c namelogon.c namepacket.c nameresp.c 
	nameserv.c nameserv.h nameservreply.c nameservresp.c 
	namework.c nmbd.c nmbsync.c proto.h util.c 
Log Message:
Large changes from jra@cygnus.com. Mainly browser updates.

access.c: Fixed crash if yp domain unavailable.
includes.h: Moved ifdefs for minor platform.
interface.c: Changed name of ipgrp to wins_ip to make it clearer.
loadparm.c: Changed default of wins support to 'no'.
nameannounce.c: Many changes to fix cross subnet browsing.
namebrowse.c: Many changes to fix cross subnet browsing.
namedbname.c: Many changes to fix cross subnet browsing.
namedbresp.c: Many changes to fix cross subnet browsing.
namedbsubnet.c: Many changes to fix cross subnet browsing.
namedbwork.c: Many changes to fix cross subnet browsing.
nameelect.c: Many changes to fix cross subnet browsing.
namelogon.c: Many changes to fix cross subnet browsing.
namepacket.c: Many changes to fix cross subnet browsing.
nameresp.c: Many changes to fix cross subnet browsing.
nameserv.c: Many changes to fix cross subnet browsing.
nameserv.h: Many changes to fix cross subnet browsing.
nameservreply.c: Many changes to fix cross subnet browsing.
nameservresp.c: Many changes to fix cross subnet browsing.
namework.c: Many changes to fix cross subnet browsing.
nmbd.c: Change to search wins subnet.
nmbsync.c: Change to check if we are any master before proceeding.
proto.h: Added find_subnet_all() and check_work_servertype().
util.c: Moved 'done' settings on name resolution.




****************************************
Date:	Wednesday April 9, 1997 @ 11:20
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1779

Modified Files:
	nameserv.h 
Log Message:
jra@cygnus.com: Changed CHECK_TIME_MST_ANNOUNCE back to 15 from 1 (from test).



****************************************
Date:	Thursday April 10, 1997 @ 2:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30892

Revision/Branch: samba-2

Modified Files:
	client.c 
Log Message:

when using name_query() (#ifdef USENMB) you want to query name_type not
just a name<00>.

lkcl



****************************************
Date:	Saturday April 12, 1997 @ 9:26
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24285

Modified Files:
	namelogon.c 
Log Message:

removed reference to subnet_record and work_record, as neither are needed.

lkcl



****************************************
Date:	Thursday April 17, 1997 @ 14:39
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28725

Modified Files:
	nameannounce.c nameelect.c 
Log Message:

two bugs jeremy and i found while at sgi.
find_workgroupstruct call in nameannounce.c should have False not True
check_master_browser should _only_ force an election for its own
workgroup, not other workgroups!

lkcl



****************************************
Date:	Thursday April 17, 1997 @ 14:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28809

Modified Files:
	namebrowse.c 
Log Message:

expiry of browser entries wasn't happening once the entry had synced.

lkcl



****************************************
Date:	Sunday May 4, 1997 @ 2:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3009

Modified Files:
	nameelect.c 
Log Message:

name_unregister_work() using strequal incorrectly.

lkcl



****************************************
Date:	Thursday May 8, 1997 @ 3:56
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28477

Modified Files:
	smb.h password.c ipc.c loadparm.c proto.h Makefile 
Log Message:

added automount home directory support.  contributed by simeon@bangor.co.uk
and a mini bug-fix by rob.nacarrato@sheridanc.on.ca

reads in an entry from the auto.home file for the user when they log in,
and mounts their home directory as the default path for the [homes] service.

i might add this as to the %substitution system, so that you can
specify subdirectories for the user profiles, mainly.

lkcl



****************************************
Date:	Thursday May 8, 1997 @ 4:17
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30561

Modified Files:
	smb.conf.5 
Log Message:

added auto.home parameters - contributed by simeon@bangor.ac.uk.

lkcl



****************************************
Date:	Thursday May 8, 1997 @ 4:41
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv31614

Modified Files:
	smb.conf.5 
Log Message:

mod to directory mask doc

lkcl



****************************************
Date:	Thursday May 8, 1997 @ 11:14
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23111

Modified Files:
	charcnv.c charset.c client.c clientutil.c dir.c fault.c 
	interface.c ipc.c kanji.c loadparm.c locking.c mangle.c 
	message.c nameannounce.c namebrowse.c namedbname.c 
	namedbresp.c namedbserver.c namedbsubnet.c namedbwork.c 
	nameelect.c namelogon.c namepacket.c namequery.c nameresp.c 
	nameserv.c nameservreply.c nameservresp.c namework.c nmbd.c 
	nmblib.c nmblookup.c nmbsync.c params.c password.c pipes.c 
	predict.c printing.c quotas.c replace.c reply.c server.c 
	shmem.c smbencrypt.c smbpasswd.c smbrun.c status.c system.c 
	testparm.c testprns.c time.c trans2.c uid.c username.c util.c 
	byteorder.h charset.h includes.h kanji.h nameserv.h proto.h 
	smb.h trans2.h version.h 
Log Message:
'The mother of all checkins' :-). Jeremy Allison (jallison@whistle.com)
Wed May  7 1997: Update for 1.9.17alpha1 release - 'browsefix release'
designed to make browsing across subnets work.

byteorder.h:	Updated copyright to 1997.
charcnv.c:      Updated copyright to 1997.
charset.c 	Updated copyright to 1997.
charset.h	Updated copyright to 1997.
client.c	Updated copyright to 1997.
clientutil.c	Updated copyright to 1997.
dir.c		Updated copyright to 1997.
fault.c		Updated copyright to 1997.
includes.h	Updated copyright to 1997.
interface.c	Updated copyright to 1997.
ipc.c		Updated copyright to 1997.
kanji.c		Updated copyright to 1997.
kanji.h		Updated copyright to 1997.
loadparm.c	Updated copyright to 1997.
locking.c	Updated copyright to 1997.
mangle.c	Updated copyright to 1997.
message.c	Updated copyright to 1997.
nameannounce.c

	Made use of WINS subnet explicit.
Added reset_announce_timer() so announcement
can be made immediately when we become a master.
Expanded code to do sync with dmb.

namebrowse.c

	Removed redundent checks for AM_MASTER in
sync code. Made use of WINS subnet explicit.

namedbname.c	Made use of WINS subnet explicit.
namedbresp.c	Made use of WINS subnet explicit.
namedbserver.c	Made use of WINS subnet explicit.

namedbsubnet.c

	Explicitly add workgroup to WINS subnet
when we become a dmb. Made use of WINS subnet explicit.

namedbwork.c

	Made use of WINS subnet explicit. Removed 
redundent check_work_servertype() function.

nameelect.c
	
	Explicitly add workgroup to WINS subnet
when we become a master browser. Made use of WINS subnet explicit.

namelogon.c	Updated copyright to 1997.
namepacket.c	Updated copyright to 1997.
namequery.c	Updated copyright to 1997.

nameresp.c

	Made use of WINS subnet explicit. Made nmbd fail if
configured as master browser and one exists already.

nameserv.c

	Made use of WINS subnet explicit. Remove redundent
logon server and domain master code.

nameserv.h	Add emumerate subnet macros.
nameservreply.c	Made use of WINS subnet explicit.
nameservresp.c	Updated copyright to 1997.

namework.c

	Made use of WINS subnet explicit. Updated code to
add sync browser entries to add subnet parameter.

nmbd.c

	Added sanity check for misconfigured nmbd.

nmblib.c	Updated copyright to 1997.
nmblookup.c	Updated copyright to 1997.
nmbsync.c	

	Removed redundent AM_ANY_MASTER check.

params.c	Updated copyright to 1997.
password.c	Updated copyright to 1997.
pipes.c		Updated copyright to 1997.
predict.c	Updated copyright to 1997.
printing.c	Updated copyright to 1997.

proto.h

	Changed protos for new nmbd code.

quotas.c	Updated copyright to 1997.
replace.c	Updated copyright to 1997.
reply.c		Updated copyright to 1997.
server.c	Updated copyright to 1997.
shmem.c		Updated copyright to 1997.
smb.h		Updated copyright to 1997.
smbencrypt.c	Updated copyright to 1997.
smbpasswd.c	Updated copyright to 1997.
smbrun.c	Updated copyright to 1997.
status.c	Updated copyright to 1997.
system.c	Updated copyright to 1997.
testparm.c	Updated copyright to 1997.
testprns.c	Updated copyright to 1997.
time.c		Updated copyright to 1997.
trans2.c	Updated copyright to 1997.
trans2.h	Updated copyright to 1997.
uid.c		Updated copyright to 1997.
username.c	Updated copyright to 1997.
util.c		Updated copyright to 1997.
version.h

	Changed to 1.9.17alpha1.





****************************************
Date:	Friday May 9, 1997 @ 6:04
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv5891

Modified Files:
	nmbd.8 
Log Message:
Fixes for manpage from Bill Hawes <whawes@star.net>.



****************************************
Date:	Friday May 9, 1997 @ 6:11
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6226

Modified Files:
	smbstatus.1 
Log Message:
Documented -b for brief option.



****************************************
Date:	Friday May 9, 1997 @ 7:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7425

Modified Files:
	status.c client.c charcnv.c 
Log Message:
status.c: Added brief option. Patch from ccctim@mailbox.ucdavis.edu
client.c: Added translation of '/' characters to '\' characters. Suggested by friedl@mtndew.com (Stephen J. Friedl)
charcn.c: Fix for iso8859-2 (Eastern European) conversions based on a patch from Miroslaw M. Maczka <elvisbze@polbox.com>



****************************************
Date:	Sunday May 11, 1997 @ 22:21
Author:	jht

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16357

Modified Files:
	smb.h 
Log Message:
Updated Samba minor version so it announces itself as NT Server version
4.20. This indicates that the browsing code has been updated (changed).



****************************************
Date:	Sunday May 11, 1997 @ 22:23
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv16494

Modified Files:
	makerpms.sh 
Removed Files:
	samba-1.9.16p11.spec samba-1.9.16p11.spec.full 
Log Message:
Getting ready for release of RedHat Linux RPM build for 1.9.17



****************************************
Date:	Sunday May 11, 1997 @ 22:27
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv16797

Added Files:
	samba-1.9.17a1.spec 
Log Message:
New RedHat Linux RPM specification file for 1.9.17



****************************************
Date:	Sunday May 11, 1997 @ 23:40
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv18627

Modified Files:
	samba-1.9.17a1.spec samba-make.patch 
Added Files:
	samba-1.9.17a1.spec.new smbprint 
Log Message:
JHT sez ... Please pardon my dust, road works in progress!



****************************************
Date:	Tuesday May 13, 1997 @ 0:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11725

Modified Files:
	nameserv.h 
Log Message:

use NULL instead of 0

lkcl



****************************************
Date:	Friday May 16, 1997 @ 9:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21435

Modified Files:
	namedbname.c nameresp.c nameservresp.c 
Log Message:
namedbname.c: Fixed *nasty* bug that caused nmbd to spin and eat memory
              and CPU whilst trying to become a master browser. Don't ask,
              you don't want to know :-).
nameresp.c: Tidied formating of code.
nameservresp.c: Added debug value of IP address that is rejecting our
                registration.
jallison@whistle.com




****************************************
Date:	Tuesday May 20, 1997 @ 10:32
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27974

Modified Files:
	dir.c includes.h ipc.c loadparm.c locking.c nameannounce.c 
	nameconf.c namedbname.c namedbserver.c namedbsubnet.c 
	namedbwork.c nameelect.c nameresp.c nameserv.c nameservreply.c 
	namework.c nmbd.c pipes.c proto.h reply.c server.c shmem.c 
	smb.h status.c trans2.c util.c 
Log Message:
dir.c:	Fixed double slash issue.
includes.h: Changed to ifdef FAST_SHARE_MODES.
ipc.c:  Changed lp_workgroup() to myworkgroup.
loadparm.c:  Added new shared mem parameters. Added Luke's fix.
locking.c: Rewrite to do share modes better (both fast and slow modes).
nameannounce.c:  Changed lp_workgroup() to myworkgroup. Added Luke's fix.
nameconf.c:  Changed lp_workgroup() to myworkgroup.
namedbname.c:  Improved debug.
namedbserver.c:  Changed lp_workgroup() to myworkgroup. 
namedbsubnet.c:  Added Luke's fix - rewritten somewhat.
namedbwork.c:  Changed lp_workgroup() to myworkgroup. 
nameelect.c:  Added Luke's fix - rewritten somewhat.
nameresp.c:  Stoped shadowing global.
nameserv.c:  Added Luke's fix - Improved debug.
nameservreply.c:  Improved debug.
namework.c:  Changed lp_workgroup() to myworkgroup. 
nmbd.c:  Added Luke's fix - Changed lp_workgroup() to myworkgroup.
pipes.c:   Changed lp_workgroup() to myworkgroup.
proto.h:   Added Luke's fix, added smb_shm_ proto's.
reply.c:  Changed lp_workgroup() to myworkgroup.
server.c:  Rewrite to do share modes better (both fast and slow modes).
shmem.c:  Rewrite to do share modes better (both fast and slow modes).
smb.h:  Rewrite to do share modes better (both fast and slow modes).
status.c:  Rewrite to do share modes better (both fast and slow modes).
trans2.c:  Fixed double slash issue.
util.c:  Tidied up, created myworkgroup.
Jeremy Allison (jallison@whistle.com).



****************************************
Date:	Tuesday May 20, 1997 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30861

Modified Files:
	smb.conf.5 
Log Message:
Updated for 1.9.17alpha1.
Jeremy.




****************************************
Date:	Wednesday May 21, 1997 @ 11:09
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27788

Modified Files:
	server.c 
Log Message:
Added fix from Paul Nelson @ Thursby - smb_mid field could be
corrupted if security = server.
jallison@whistle.com



****************************************
Date:	Thursday May 22, 1997 @ 4:15
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1563

Modified Files:
	smb.conf.5 
Log Message:
Updated docs for 'local master' parameter.
jallison@whistle.com



****************************************
Date:	Thursday May 22, 1997 @ 4:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2026

Modified Files:
	nameelect.c 
Log Message:
Added code to make nmbd always lose elections if 'local master'
parameter is set to False.
jallison@whistle.com



****************************************
Date:	Thursday May 22, 1997 @ 9:52
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21774

Modified Files:
	Makefile nameelect.c 
Log Message:
Makefile: Turned on FAST_SHARE_MODES by default for a bunch of machines.
nameelect.c: Fixed bug where we were always using our workgroup name instead
             of the current one.
jallison@whistle.com



****************************************
Date:	Thursday May 22, 1997 @ 9:57
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv22225

Modified Files:
	BROWSING.txt 
Log Message:
Updated for new 1.9.17alpha1 release.



****************************************
Date:	Friday May 23, 1997 @ 4:10
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv13852

Modified Files:
	samba.faq smb.conf.5 
Log Message:
samba.faq: Updated with info on 'Dave'.
smb.conf.5: Removed reference to 'domain controller' being the browse
            list collator to match the change I just added to 
            nameannounce.c.
jallison@whistle.com



****************************************
Date:	Friday May 23, 1997 @ 4:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14458

Modified Files:
	nameannounce.c 
Log Message:
Removed use of 'domain controller' parameter for browsing system
as Luke recommends. jallison@whistle.com



****************************************
Date:	Friday May 23, 1997 @ 4:34
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv14884

Modified Files:
	README 
Added Files:
	WHATSNEW.txt 
Log Message:
README: Updated for 1.9.17. Andrew no longer listed as primary maintainer.
WHATSNEW.txt: New file - the idea is that it is updated for new releases
and acts as a first point for users who want to see if they should upgrade.
jallison@whistle.com



****************************************
Date:	Friday May 23, 1997 @ 5:08
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16774

Modified Files:
	nameelect.c 
Log Message:

coding standards issue: should never compare a boolean expression == False
or == True.  should always do if (boolean_expression).

sorry.

lkcl



****************************************
Date:	Tuesday May 27, 1997 @ 3:55
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv31309

Modified Files:
	smb.conf.5 
Log Message:

added veto files entry.  example lists files that DAVE (mac client)
shouldn't show up.  not tested, but hey, what are alphas for? :-)

luke



****************************************
Date:	Wednesday May 28, 1997 @ 6:28
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16394

Modified Files:
	loadparm.c locking.c proto.h reply.c server.c util.c version.h 
Log Message:
loadparm.c:	Ensure printer services cannot be read only and don't use share mode locking.
locking.c:	Changed aborts to returns so not so drastic on PANIC errors.
proto.h:	Removed definition of open_file as this is now never externally called.
reply.c:	Changed reply_mknew, reply_ctemp, reply_printopen to go through open_file_shared.
server.c:	Modified open_file_shared to be more robust and be useful for printer & temp files.
		Removed truncate option from open_file (now all truncates are done in open_file_shared).
util.c:		Added EAGAIN to errors checked in open_socket_out().
version.h:	Updated to 1.9.17alpha2.
jallison@whistle.com



****************************************
Date:	Saturday May 31, 1997 @ 6:22
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27106

Modified Files:
	Support.txt 
Log Message:
Added 
Bruce Cook - Synonet Corporation.
and Volkers company.
Jeremy.



****************************************
Date:	Saturday May 31, 1997 @ 6:40
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27384

Modified Files:
	charcnv.c client.c namedbname.c namedbsubnet.c nameelect.c 
	namepacket.c nameserv.c nameservreply.c nameservresp.c nmbd.c 
	nmblib.c proto.h server.c trans2.c uid.c version.h 
Log Message:
charcnv.c:	Fixed silly bugs detected on IRIX.
client.c:	Fixed silly bugs detected on IRIX.
namedbname.c:	Stopped 1d names from being registered in WINS db.
namedbsubnet.c:	Only register 1e names on broadcast subnet.
nameelect.c:	Changed add_my_name entries. Forced host announces if we
                have less than 10 servers listed. Fixed registering 1b
                domain name issues.
namepacket.c:	Added error message when dgram discarded.
nameserv.c:	Added notion of 'direct' names that are not registered on
                the network. Needed to get around bugs in earlier nmbd
                handling of DOMAIN(1b) names.
nameservreply.c:Tidied up debug message.
nameservresp.c:	Added response_name_query_domain() code. Deals with 
                re-registering DOMAIN(1b) name.
nmbd.c:		Fixed silly bugs detected on IRIX.
nmblib.c:	Added paranoia debugs.
proto.h:	Updated remove_name_entry(), add_my_name_entry().
server.c:	Fixed silly bugs detected on IRIX.
trans2.c:	Fixed silly bugs detected on IRIX. 
uid.c:		Fixed silly bugs detected on IRIX.
version.h:	Updated to alpha3.
Jeremy (jallison@whistle.com).



****************************************
Date:	Saturday May 31, 1997 @ 9:15
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30832

Modified Files:
	namedbname.c namedbsubnet.c 
Log Message:
namedbname.c:	Added 'S' or 'R' flags to wins.dat to aid debugging. Forced all type 1e
                names to be added as 255.255.255.255.
namedbsubnet.c:	Fixed bug I intruduced - register 1e name on WINS subnet also.
                (thanks to Luke for pointing this one out).
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday May 31, 1997 @ 11:11
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32612

Modified Files:
	namepacket.c nameserv.c nameservreply.c nmbd.c 
Log Message:
namepacket.c:		Block SIGTERM correctly - we can only take them at defined points.
nameserv.c:		Fixup name release code - used when we are going down.
nameservreply.c:	Relaxed check for deleting name - original code never deleted.
nmbd.c:			Block SIGTERM signals most of the time - see comment on namepacket above.
Jeremy (jallison@whistle.com)



****************************************
Date:	Sunday June 1, 1997 @ 14:00
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv4160/docs/faq

Modified Files:
	sambafaq.sgml 
Log Message:
Updated changes made in text faq to sgml faq, more to come.
Paul.




****************************************
Date:	Sunday June 1, 1997 @ 18:11
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv8721/docs/faq

Modified Files:
	sambafaq-1.html sambafaq-2.html sambafaq-3.html sambafaq.html 
	sambafaq.sgml 
Log Message:
Updated sgml and html FAQ.
Paul.



****************************************
Date:	Sunday June 1, 1997 @ 19:34
Author:	samba-bu

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/samba/samba-bugs/samba/docs/faq

Modified Files:
	sambafaq.txt 
Log Message:
Updated txt faq.  Paul HMM. emacs... how do i quit...
it's very dark in here
----------------------------------------------------------------------
CVS:
CVS:
----------------------------------------------------------------------



****************************************
Date:	Sunday June 1, 1997 @ 19:47
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv9983/docs/faq

Modified Files:
	sambafaq.txt 
Log Message:
Updated txt faq again.
Paul.



****************************************
Date:	Tuesday June 3, 1997 @ 5:51
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3284

Modified Files:
	nameannounce.c namedbname.c namepacket.c nameserv.c 
	nameservreply.c proto.h 
Log Message:
nameannounce.c:		Made sure recurse flag set correctly.
namedbname.c:		Made sure wins.dat updated when list changes.
			Changed to returning 255.255.255.255 when 1e name
			queried.
namepacket.c:		Made sure recurse flags set correctly.
nameserv.c:		Made sure recurse flags set correctly.
nameservreply.c:	Made send_name_response() static, Made sure recurse flags set correctly.
			Changed to returning 255.255.255.255 when 1e name
                        queried.
proto.h:		Removed send_name_response().
Jeremy jallison@whistle.com



****************************************
Date:	Tuesday June 3, 1997 @ 10:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11932

Modified Files:
	namedbname.c 
Log Message:
namedbname.c:	Fixed problem with remove_name code that could cause core dump.
Jeremy jallison@whistle.com



****************************************
Date:	Wednesday June 4, 1997 @ 3:14
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv869

Modified Files:
	includes.h nameelect.c nameservreply.c nmbsync.c 
Log Message:
includes.h:	Added USE_SETSID for SGI.
nameelect.c:	Added debug 0 comments so you know when you have become a master/domain master.
nameservreply.c:Stopped SELF names from being remotely released. This still needs work.
nmbsync.c:	Added debug 0 comments so you know when a sync is being done.
Jeremy jallison@whistle.com



****************************************
Date:	Saturday June 7, 1997 @ 2:13
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3373

Modified Files:
	loadparm.c namedbwork.c nameelect.c proto.h server.c util.c 
Log Message:
loadparm.c:	Made explicit max packet now ignored.
namedbwork.c:	Don't announce potential browser if local master = False.
nameelect.c:	Raise debug level of comment to 2.
proto.h:	Added reset_globals_after_fork().
server.c:	Call reset_globals_after_fork() after forking child.
util.c:		Added reset_globals_after_fork() - should stop problems
                with % substitutions in children.



****************************************
Date:	Saturday June 7, 1997 @ 3:03
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv4994

Modified Files:
	WHATSNEW.txt 
Log Message:
Updated for 1.9.17alpha3



****************************************
Date:	Saturday June 7, 1997 @ 11:25
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv12070

Modified Files:
	smbprint 
Added Files:
	samba-RH303.spec samba-RH40.spec samba-RH41.spec 
	samba-RH42.spec 
Removed Files:
	samba-1.9.17a1.spec samba-1.9.17a1.spec.new 
Log Message:
Getting ready for release of 1.9.17.
Please note: These are in my early TODO state - not prime time ready!!



****************************************
Date:	Saturday June 7, 1997 @ 11:28
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv12247

Modified Files:
	Instructions 
Log Message:
Updated instructions.



****************************************
Date:	Monday June 9, 1997 @ 0:44
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory arvidsjaur:/var/tmp/cvs-serv10701/docs/faq

Modified Files:
	sambafaq-1.html sambafaq-2.html sambafaq-3.html 
	sambafaq-4.html sambafaq-5.html sambafaq.html sambafaq.sgml 
	sambafaq.txt 
Log Message:
FAQ Update
Tidied up some entries with incorrect casing
Added NT SP3 entry
Updated list of ported systems
Updated More Info entry with more web site details and list of all doco files
Moved mailing list subscriptions to separate entry
Removed reference to 'samba team mailing list' just in case people guessed
Updated nmbd -C entry, indicating obsolete.
General cleanup of document with indented lists.
Added url links where needed. Web docs will not show urls but will link, 
text files will show file names AND urls
Fixed missing info where '\\' was being interpreted as '\' (used [\\])

If I get a warning before 1.9.17 is released, I'll clean up blank lines 
from the text faq.  Don't want to do them now as I may modify the sgml again.

For those who don't know, we now maintain the FAQ as an sgml document, 
and convert/create html and txt FAQs from that. We use LinuxDoc which is 
now called SGMLtools.

Paul.



****************************************
Date:	Tuesday June 10, 1997 @ 4:57
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6247

Modified Files:
	nameelect.c 
Log Message:
Patch from Albrecht Gebhardt Albrecht Gebhardt - fixes domain
logons.



****************************************
Date:	Wednesday June 11, 1997 @ 11:02
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv6927

Modified Files:
	Makefile Makefile.RPM charset.c charset.h client.c ipc.c 
	loadparm.c nmbd.c nmblookup.c proto.h quotas.c reply.c 
	server.c smb.h smbpasswd.c status.c testparm.c testprns.c 
Log Message:
Makefile:	Added quoata changes for Linux from Thorvald Natvig
Makefile.RPM:	Added quoata changes for Linux from Thorvald Natvig
charset.c:	Large changes to add multiple client code pages.
charset.h:	Changed charset_initialise() proto.
client.c:	Fixed message sending bug. Changed charset_initialise().
ipc.c:		Fixed #ifdef compile problems.
loadparm.c:	Added "client code page" option.
nmbd.c:		Changed charset_initialise(). Fixed lmhosts read.
nmblookup.c:	Changed charset_initialise().
proto.h:	Added lp_client_code_page(void).
quotas.c:	Added quoata changes for Linux from Thorvald Natvig
reply.c:	Changed debug level. Made SMBecho ignore tid.
server.c:	Changed charset_initialise().
smb.h:		Added DEFAULT_CLIENT_CODE_PAGE as 850.
smbpasswd.c:	Changed charset_initialise().
status.c:	Changed charset_initialise().
testparm.c:	Changed charset_initialise().
testprns.c:	Changed charset_initialise().
Jeremy Allison (jallison@whistle.com)



****************************************
Date:	Wednesday June 11, 1997 @ 11:05
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv7196

Modified Files:
	smb.conf.5 
Log Message:
Added "client code page" parameter.



****************************************
Date:	Monday June 16, 1997 @ 8:27
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27274

Modified Files:
	Support.txt 
Log Message:

added an entry for samba support (hey, jeremy - i did it!).  it reads
like the opening sequence for the A-Team, sadly.

lkcl



****************************************
Date:	Tuesday June 17, 1997 @ 6:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18151

Modified Files:
	charset.c loadparm.c nameserv.h proto.h server.c 
Log Message:
charset.c:	Dropped debug message to level 6.
loadparm.c:	Added "time server" parameter.
nameserv.h:	Added "time server" parameter.
proto.h:	Added lp_time_server().
server.c:	Removed incorrect | 0700 - this was a whistle specific change.
Jeremy (jallison@whistle.com).



****************************************
Date:	Tuesday June 17, 1997 @ 10:26
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv24001

Modified Files:
	Support.txt 
Log Message:
Updated Support.txt - first responses to appeal for support providers.
Jeremy (jallison@whistle.com).



****************************************
Date:	Wednesday June 18, 1997 @ 3:03
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv28937

Modified Files:
	Support.txt 
Log Message:
Updated with latest appeal - we *have* to sort this into geographical areas
soon.
Jeremy (jallison@whistle.com).



****************************************
Date:	Wednesday June 18, 1997 @ 11:04
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv13111

Modified Files:
	password.c 
Log Message:
Fixed *really* stupid bug in register_vuid - only a problem
on multi-user NT systems. 
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday June 18, 1997 @ 11:28
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv13608

Modified Files:
	Support.txt 
Log Message:
More consultants....



****************************************
Date:	Thursday June 19, 1997 @ 3:02
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv18755

Modified Files:
	Support.txt 
Log Message:

added bit about going anywhere, on the 'CAMBRIDGE - ENGLAND' line, so
that people don't look at 'england' and rule me out :-)

lkcl



****************************************
Date:	Thursday June 19, 1997 @ 3:19
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv19378

Modified Files:
	Support.txt 
Log Message:
More consultants - we really need to alphabetize now :-).
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday June 19, 1997 @ 3:36
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv19881

Modified Files:
	Support.txt 
Log Message:
More....



****************************************
Date:	Thursday June 19, 1997 @ 10:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29561

Modified Files:
	loadparm.c proto.h server.c smb.h 
Log Message:
loadparm.c:	Added "force create mode" and "force directory mode" params.
proto.h:	Added lp_force_create_mode()and lp_force_dir_mode().
server.c:	Fixed application of mode bits to be regular across files
		and directories.
smb.h:		Removed unused CREATE_MODE macro.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday June 19, 1997 @ 10:42
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv30159

Modified Files:
	smb.conf.5 Support.txt 
Log Message:
smb.conf.5:	Updated definitions of mode setting options. Added force
		mode options.
Support.txt:	More consultants....
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday June 20, 1997 @ 6:55
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6810

Modified Files:
	Support.txt 
Log Message:
Sorted list by region (finally).
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday June 24, 1997 @ 5:02
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv2972

Modified Files:
	Support.txt 
Log Message:
6 more....
Jeremy.



****************************************
Date:	Tuesday June 24, 1997 @ 5:47
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv4357

Modified Files:
	makerpms.sh 
Added Files:
	samba.spec 
Log Message:
JHT ==> Just doing his thing again! Yuck!



****************************************
Date:	Friday June 27, 1997 @ 3:00
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv15314

Modified Files:
	Support.txt 
Log Message:
More consultants.
Jeremy.



****************************************
Date:	Friday June 27, 1997 @ 10:26
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv28407

Modified Files:
	shmem.c uid.c util.c 
Log Message:
shmem.c:	Changed debug to higher level
uid.c:		Stop smbrun from deleting device files.
util.c:		Added EAGAIN to known error list.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday June 28, 1997 @ 8:54
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv28185

Modified Files:
	Support.txt 
Log Message:
2 more....



****************************************
Date:	Saturday June 28, 1997 @ 8:57
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv28223

Modified Files:
	Support.txt 
Log Message:
Missed one.



****************************************
Date:	Sunday June 29, 1997 @ 8:50
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv20959

Removed Files:
	samba-RH303.spec samba-RH40.spec samba-RH41.spec 
	samba-RH42.spec 
Log Message:
JHT ==> Spring cleaning. Please pay the rent!



****************************************
Date:	Sunday June 29, 1997 @ 9:28
Author:	jht

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv22007

Modified Files:
	WHATSNEW.txt 
Log Message:
JHT ==> Been playing again! Whooooooo!




****************************************
Date:	Sunday June 29, 1997 @ 9:28
Author:	jht

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv22007/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt Faxing.txt 
	GOTCHAS.txt HINTS.txt INSTALL.sambatar INSTALL.txt NetBIOS.txt 
	OS2.txt PROJECTS Passwords.txt Printing.txt README.DCEDFS 
	README.OS2 README.sambatar SCO.txt SMBTAR.notes Speed.txt 
	Tracing.txt UNIX-SMB.txt Warp.txt WinNT.txt announce history 
	security_level.txt 
Log Message:
JHT ==> Been playing again! Whooooooo!




****************************************
Date:	Tuesday July 1, 1997 @ 4:06
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv4987

Modified Files:
	Support.txt 
Log Message:
More...



****************************************
Date:	Tuesday July 1, 1997 @ 11:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv17165

Modified Files:
	client.c ipc.c loadparm.c locking.c nameannounce.c 
	namedbserver.c nameelect.c namework.c nmbsync.c server.c smb.h 
	system.c util.c 
Log Message:
client.c:		New print queue query code from Jeff C. Foster " <jfoste@wgc.woodward.com>
ipc.c:			Added code for returning restricted lists of servers.
loadparm.c:		Changed default for force create mode to 000.
				Changed default maxmux to 50 to comply with NT.
locking.c:		Fixed silly crash bug with slow share mode code.
nameannounce.c:	Added code for returning restricted lists of servers.
namedbserver.c:	Added code for returning restricted lists of servers.
nameelect.c:	Added code for returning restricted lists of servers.
namework.c:		Added code for returning restricted lists of servers.
nmbsync.c:		Added code for returning restricted lists of servers.
server.c:		Added quota fix Albrecht Gebhardt <albrecht.gebhardt@uni-klu.ac.at>
smb.h:			Added define for COPYBUF_SIZE.
system.c:		Rename across filesystems Patch from Warren Birnbaum
				<warrenb@hpcvscdp.cv.hp.com>
util.c:			Minor fix for warning.



****************************************
Date:	Tuesday July 1, 1997 @ 11:23
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv18365

Modified Files:
	namedbsubnet.c 
Log Message:
namedbsubnet.c: Added code for returning restricted lists of servers.



****************************************
Date:	Wednesday July 2, 1997 @ 5:02
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21536

Modified Files:
	loadparm.c util.c proto.h smb.h server.c 
Log Message:

added "hide files" option.

lkcl



****************************************
Date:	Wednesday July 2, 1997 @ 5:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22813

Modified Files:
	dir.c loadparm.c proto.h server.c util.c 
Log Message:

made "hide files" and "veto files" into per-service parameter sections,
instead of just [global].  this makes it easier to decide whether to
remove the "hide dot files" per-service parameter, and supercede it with
a default "hide files" value of ".*".

lkcl



****************************************
Date:	Wednesday July 2, 1997 @ 6:50
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26722

Modified Files:
	loadparm.c util.c proto.h smb.h server.c dir.c 
Log Message:
Rolled back Lukes changes. Not quite ready for prime time.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 2, 1997 @ 10:16
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv606

Modified Files:
	Support.txt 
Log Message:
Fixed typos. 3 more consultants.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 2, 1997 @ 11:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3002

Modified Files:
	quotas.c 
Log Message:
Fixed compile warnings for FreeBsd & Linux.
Jeremy (jallison@whistle.com).



****************************************
Date:	Thursday July 3, 1997 @ 8:37
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14768

Modified Files:
	util.c 
Log Message:
Fixed wierd bug with lowercase accented character directories.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 4, 1997 @ 3:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv17729

Modified Files:
	Makefile includes.h password.c 
Log Message:
Fixes for UnixWare 2.x with shadow passwords from
Warren Young <tkennedy@cyberport.com>.



****************************************
Date:	Friday July 4, 1997 @ 5:24
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv22883

Modified Files:
	smb.conf.5 
Log Message:
Changed default for max mux to 50 in line with source change.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 4, 1997 @ 5:27
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv22978

Modified Files:
	WHATSNEW.txt 
Log Message:
Updated in preparation for 1.9.17alpha4 release.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 4, 1997 @ 5:43
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23718

Modified Files:
	chgpasswd.c dir.c proto.h reply.c server.c 
Log Message:
Fix for deleting directories that contain only veto files.
Needed for interoperability with netatalk volumes.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 4, 1997 @ 5:54
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.17alpha4


****************************************
Date:	Friday July 4, 1997 @ 6:44
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26065

Modified Files:
	Makefile namedbwork.c util.c version.h 
Log Message:
Makefile:	Added DGUX changes for intel.
namedbwork.c: Minor tidyup for election flah.
util.c:		Fix for broken readdir detectino code.
version.h:	Back to 1.9.17alpha3 - will be updated by release script.
Jeremy jallison@whistle.com



****************************************
Date:	Friday July 4, 1997 @ 6:51
Author:	samba-bu

Update of /data/cvs/samba/source
In directory arvidsjaur:/samba/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.17alpha4


****************************************
Date:	Friday July 4, 1997 @ 10:53
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6032

Modified Files:
	Support.txt 
Log Message:
One more consultant. Jeremy (jallison@whistle.com)



****************************************
Date:	Sunday July 6, 1997 @ 22:06
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv3190

Modified Files:
	proto.h loadparm.c nameservreply.c 
Log Message:

replaced the "wins proxy" to treat NetBIOS names as DNS names with new
"dns proxy" option.  the "wins proxy" option should be used for broadcast
only hosts, and isn't properly implemented anyway.

the new "dns proxy" option can be disabled if the (blocking) dns resolution
takes up a significant amount of time.  this _will_ occur if gethostbyname
does external DNS lookups, instead of just (immediately) returning entries
in /etc/hosts.

lkcl



****************************************
Date:	Sunday July 6, 1997 @ 22:25
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv3466

Modified Files:
	smb.conf.5 
Log Message:

added description of new "dns proxy" option, which defaults to yes.
added warning of consequences of using dns proxying.

lkcl



****************************************
Date:	Sunday July 6, 1997 @ 23:46
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv7275

Modified Files:
	smb.conf.5 
Log Message:

added man page entry for "hide files".  updated "veto files" entry.
both these options will do * and ? matching

lkcl



****************************************
Date:	Sunday July 6, 1997 @ 23:48
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv7267

Modified Files:
	chgpasswd.c dir.c loadparm.c proto.h reply.c server.c smb.h 
	trans2.c util.c 
Log Message:

added, tested and debugged new "hide files" option.

lkcl



****************************************
Date:	Monday July 7, 1997 @ 0:06
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10062

Modified Files:
	reply.c 
Log Message:

missed one OpenDir() and two is_vetoed_name() calls, both of which take
a service number as a parameter, in the rmdir code, when doing a recompile.

lkcl



****************************************
Date:	Tuesday July 8, 1997 @ 8:50
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6156

Modified Files:
	Support.txt 
Log Message:
More consultants.



****************************************
Date:	Tuesday July 8, 1997 @ 9:04
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv6564

Modified Files:
	smb.conf.5 
Log Message:
Added explicit examples for veto files.
Jeremy (jallison@whistle.comAdded explicit examples for veto files.
Jeremy (jallison@whistle.com))



****************************************
Date:	Wednesday July 9, 1997 @ 2:54
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv17032

Modified Files:
	Makefile chgpasswd.c clitar.c getsmbpass.c includes.h 
	loadparm.c nameconf.c nmbd.c pcap.c proto.h quotas.c server.c 
	smb.h smbpass.c ufc.c util.c 
Log Message:
Makefile:	Added AIX targets from Ole Holm Nielsen <Ole.H.Nielsen@uni-c.dk>
chgpasswd.c:	Added Samba/GPL notice (for obvious reasons).
clitar.c:		Updated Copyright date to include 1997 (for obvious reasons).
getsmbpass.c:	Updated Copyright date to include 1997 (for obvious reasons).
includes.h:		Added stropts for solaris.
loadparm.c:		Changed comment for hide files option.
nameconf.c:		Updated Copyright date to include 1997 (for obvious reasons).
nmbd.c:			Updated Copyright date to include 1997 (for obvious reasons).
pcap.c:			Updated Copyright date to include 1997 (for obvious reasons).
proto.h:		Re-added accidentaly deleted smb_shm_ calls.
quotas.c:		Added AIX quota patch from Ole Holm Nielsen <ohnielse@fysik.dtu.dk>
server.c:		Optimization on calling is_hidden_path. Updated Copyrights.
smb.h:			Changed DEFAULT_FILES_TO_HIDE from  "*/.*" to ".*".
smbpass.c:		Updated Copyright date to include 1997 (for obvious reasons).
ufc.c:			Updated Copyright date to include 1997 (for obvious reasons).
util.c:			Added last component code to is_in_path().
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 9, 1997 @ 20:33
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv10320/examples/redhat

Modified Files:
	samba-make.patch samba.spec 
Log Message:
JHT ==> Updating RPM build file, more expected -  so please ignore!



****************************************
Date:	Wednesday July 9, 1997 @ 21:03
Author:	jht

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv10874

Added Files:
	ToDo.txt 
Log Message:
JHT ==> Added copyright notations for my works. This is regretably needed!



****************************************
Date:	Wednesday July 9, 1997 @ 21:03
Author:	jht

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv10874/docs

Modified Files:
	Application_Serving.txt DOMAIN_CONTROL.txt WinNT.txt 
Log Message:
JHT ==> Added copyright notations for my works. This is regretably needed!



****************************************
Date:	Wednesday July 9, 1997 @ 21:04
Author:	jht

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10874/source

Modified Files:
	ipc.c nameannounce.c smb.h 
Log Message:
JHT ==> Added copyright notations for my works. This is regretably needed!



****************************************
Date:	Wednesday July 9, 1997 @ 23:39
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv21403/examples/redhat

Modified Files:
	Instructions makerpms.sh samba.spec 
Added Files:
	samba.pamd 
Log Message:
JHT ==> Still getting ready for 1.9.17 release.



****************************************
Date:	Wednesday July 9, 1997 @ 23:44
Author:	jht

Update of /data/cvs/samba/examples
In directory arvidsjaur:/var/tmp/cvs-serv21857

Added Files:
	smb.conf.default 
Log Message:
JHT ==> The new SMB.CONF master file for everyone!! Yes!



****************************************
Date:	Friday July 11, 1997 @ 6:13
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1746

Added Files:
	smbpasswd.8 
Log Message:
Wrote man page for smbpasswd program as part of documentation
effort. Finally added -a option (for Andrew :-).
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 11, 1997 @ 6:15
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv1877

Modified Files:
	smbpasswd.c 
Log Message:
Added -a option (for Andrew:-). Fixed bug where users with 
"NO PASSWORD" couldn't change their passwords.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 11, 1997 @ 10:54
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv14523

Modified Files:
	interface.c server.c 
Log Message:
interface.c:	Fix for AIX4.x finding interfaces.
server.c:		Subtle fix for filenames containing ':'.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday July 12, 1997 @ 12:59
Author:	jht

Update of /data/cvs/samba/examples
In directory arvidsjaur:/var/tmp/cvs-serv9106/examples

Modified Files:
	README smb.conf.default 
Log Message:
JHT ==> Just tidying up for Release.



****************************************
Date:	Saturday July 12, 1997 @ 12:59
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv9106/examples/redhat

Modified Files:
	samba-make.patch samba.spec smb.conf 
Log Message:
JHT ==> Just tidying up for Release.



****************************************
Date:	Saturday July 12, 1997 @ 12:59
Author:	jht

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9106/source

Modified Files:
	Makefile 
Removed Files:
	Makefile.RPM 
Log Message:
JHT ==> Just tidying up for Release.



****************************************
Date:	Sunday July 13, 1997 @ 0:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26592

Modified Files:
	trans2.c 
Log Message:

trans2 query file/path info - unix change times being reported as dos create
times.  now reports unix modified times as dos create times: the alternative
is to report zero (unknown create time).

w95 reports the info level 0x101 (smb query file basic) as data size 40 bytes
not 36.  put 40 bytes data instead.

put in comments into trans2 set file/path info, showing which is the create
time, which is the mod time.

lkcl



****************************************
Date:	Sunday July 13, 1997 @ 22:38
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv19699

Modified Files:
	NetBIOS.txt DOMAIN.txt DOMAIN_CONTROL.txt 
Log Message:

updating documentation a bit.  claiming NetBIOS.txt, adding copyright message.

lkcl



****************************************
Date:	Sunday July 13, 1997 @ 22:47
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv22127

Modified Files:
	NetBIOS.txt 
Log Message:

made header consistent with other headers (Contributor: Status: etc)

lkcl



****************************************
Date:	Sunday July 13, 1997 @ 22:58
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22931

Modified Files:
	util.c 
Log Message:

added pretty printing of data section to show_msg(), for debug log level 10.
data section output is now in same format as tcpdump (hex and characters).

lkcl



****************************************
Date:	Monday July 14, 1997 @ 0:04
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29937

Modified Files:
	server.c 
Log Message:

counter loop % usage only worked if counters were an exact multiple of
SMBD_LOOP time.  used >= instead.

lkcl



****************************************
Date:	Tuesday July 15, 1997 @ 1:51
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv4226/examples/redhat

Modified Files:
	samba.log samba.spec smb.conf 
Log Message:
Update of config files



****************************************
Date:	Tuesday July 15, 1997 @ 4:19
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv22339

Modified Files:
	trans2.h 
Log Message:

CIFS definitions for SMB_INFO_xxx etc.

lkcl



****************************************
Date:	Tuesday July 15, 1997 @ 5:45
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv23108

Modified Files:
	local.h server.c trans2.c util.c 
Log Message:
local.h:	Removed ununsed SHARE_MODES_XXX defines. Upped SMBD_RELOAD_CHECK
            from 10 to 60.
server.c:	Removed unused code (was If 0'ed out).
trans2.c:	Backed out Luke's ctime->mtime change. I don't think it
            is correct. Left the other fixes, though.
util.c:		Changed veto/hide files separator back to '/'.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday July 15, 1997 @ 6:02
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv23343

Modified Files:
	smb.conf.5 
Log Message:
Changed separators for veto & hide files back to /.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 16, 1997 @ 3:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv2374

Modified Files:
	locking.c 
Log Message:
Fix silly crash bug in FAST_SHARE_MODES (same bug as was in
SLOW_SHARE_MODES - duh !).
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 18, 1997 @ 6:11
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16505

Modified Files:
	Makefile includes.h password.c quotas.c reply.c server.c 
	util.c 
Log Message:
Makefile: Added krb5 option from Nathan Neulinger  <nneul@umr.edu>
includes.h:	Added krb5 option from Nathan Neulinger  <nneul@umr.edu>, added SGI5 fix.
password.c: Added krb5 option from Nathan Neulinger  <nneul@umr.edu>
quotas.c: Added inode quote fix.
reply.c: removed redundent code.
server.c: Changed error debug to 0, removed redundent check.
util.c: Added close_low_fd() to become_daemon - fix for rsh from Johnathan Knight.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday July 19, 1997 @ 6:21
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5422

Modified Files:
	charset.c charset.h client.c loadparm.c nmbd.c nmblookup.c 
	proto.h reply.c server.c smbpasswd.c status.c testparm.c 
	testprns.c uid.c 
Log Message:
charset.c:	Split charset_initialise() into 2 - a charset_initialise() and
            a codepage_initialise(). Fixes problem with initialising dos map
            twice.
charset.h:  Changes to support charset changes.
client.c:   Changes to support charset changes.
loadparm.c:	follow symlinks parameter from David Clerc <David.Clerc@cui.unige.ch>
nmbd.c:		Changes to support charset changes.
nmblookup.c:Changes to support charset changes.
proto.h:	Changes to support charset changes.
reply.c:	Don't call security=server with no user/no password guest. Fix from
            Stefaan A Eeckels <Stefaan.Eeckels@ecc.lu>
server.c:   follow symlinks code from David Clerc <David.Clerc@cui.unige.ch>
smbpasswd.c:Changes to support charset changes.
status.c:	Changes to support charset changes.
testparm.c: Changes to support charset changes.
testprns.c: Changes to support charset changes.
uid.c:		Fixed log message with no \n.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday July 19, 1997 @ 6:26
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv5782

Modified Files:
	Support.txt smb.conf.5 
Log Message:
Support.txt: Modified a consultant's entry (Italy)
smb.conf.5: Documented follow symlinks parameter.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday July 22, 1997 @ 2:58
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv17276

Modified Files:
	smbpasswd.c 
Log Message:
Fixed bug with -add code that put wrong password in nt md4 field.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday July 22, 1997 @ 3:29
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv20221

Modified Files:
	Support.txt 
Log Message:
Added Australian consultant - removed Richard Sharpe duplicate.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday July 22, 1997 @ 9:19
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv32602

Modified Files:
	Support.txt 
Log Message:
Added Canadian consultant.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 23, 1997 @ 4:35
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8080

Modified Files:
	server.c 
Log Message:
Removed lp_killunused() call from server main loop. This
WAS A MAJOR BUG THAT CAN CAUSE IPC$ to be removed !!!!!
Not sure how this one got introduced (but I have my
suspicions :-). lp_killunused() MUST ONLY BE CALLED from
reload_services().
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 23, 1997 @ 5:04
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv9529

Modified Files:
	charset.c password.c 
Log Message:
charset.c:	Fixed signed/unsigned issues.
password.c:	Fixed problem with MS-Exchange services.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 23, 1997 @ 20:53
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv5735/examples/redhat

Modified Files:
	makerpms.sh samba-make.patch samba.pamd samba.spec 
Log Message:
JHT ===> Getting ready for release of 1.9.17alpha5
	Please note that version.h has been updated!!!!!!!!!!



****************************************
Date:	Wednesday July 23, 1997 @ 20:53
Author:	jht

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv5735/source

Modified Files:
	version.h 
Log Message:
JHT ===> Getting ready for release of 1.9.17alpha5
	Please note that version.h has been updated!!!!!!!!!!



****************************************
Date:	Friday July 25, 1997 @ 3:24
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv11636

Modified Files:
	Makefile client.c dir.c includes.h loadparm.c nmbd.c proto.h 
	quotas.c reply.c server.c shmem.c smb.h trans2.c util.c 
Log Message:
Makefile:	Added UNIXWARE 2.x with shadow passwords from fja@extratech.com
client.c:	Made prompt appear at debug level 0. Fixed strcasecmp redefinition.
            Caused client to use set_blocking rather than making fcntl calls itself.
dir.c:		Removed redundent snum parameters.
includes.h:	Added SCO fixes.
loadparm.c:	Made default 'files to hide' a null string.
nmbd.c:		Removed O_NONBLOCK from pid file open for platforms that dont have it.
proto.h:	Changed snum to cnum where needed. Changed is_xx_path to is_in_path
            (now called via MACRO).
quotas.c:	Swapped setuid/seteuid calls when restoring uid.
reply.c:	Removed redundent snum parameters.
server.c:	Changed snum to cnum where needed. Setup new veto_list, hide_list
            namelists. Added standard_sub changes from 
            Stefaan A Eeckels <Stefaan.Eeckels@ecc.lu> and 
            Paul Rippin <pr3245@nopc.eurostat.cec.be>
shmem.c:	Changed cast for sizeof to be int before negating.
smb.h:		Added new veto_list, hide_list entries to connections.
            Added IS_PRINT, IS_HIDDEN_PATH, IS_VETO_PATH macros.
trans2.c:	Removed redundent snum parameters.
util.c:		Added standard_sub_basic changes from 
            Stefaan A Eeckels <Stefaan.Eeckels@ecc.lu> and 
            Paul Rippin <pr3245@nopc.eurostat.cec.be>
            Fixed up veto/hidden path processing so the paths are
            pres-parsed and checked for wildcards (for speed).
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 25, 1997 @ 3:45
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv13027

Modified Files:
	smb.conf.5 
Log Message:
Changed default create mask parameter to 0744 as per John's request.
Tidied up mask descriptions.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 25, 1997 @ 4:47
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv16105

Modified Files:
	Support.txt 
Log Message:
Added consultant.



****************************************
Date:	Friday July 25, 1997 @ 6:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv20615

Modified Files:
	clitar.c 
Log Message:

patch by glenn burkhardt to allow recursive excluding of directories.
glenn@aoi.ultranet.com

lkcl



****************************************
Date:	Friday July 25, 1997 @ 6:15
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21149

Modified Files:
	proto.h 
Log Message:
removed definition of strslashcmp - now a static in clitar.c.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 25, 1997 @ 6:39
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv21557

Modified Files:
	namedbsubnet.c nameelect.c nameserv.c proto.h 
Log Message:


nameserv.c: split add_domain_names() into three functions:
            add_domain_logon_names() - adds <1c> names on WINS and broadcast.
            add_domain_master_wins() - adds <1b> name only with WINS server
            add_domain_master_bcast() - adds <1b> names only by bcast.

          : made add_domain_names() add <1c> names, unconditionally, and
            add <1b> name with the WINS server if using a WINS server, or
            add <1b> name by broadcast if _not_ using a WINS server, but
            _not_ both.

          : removed the direct parameter from remove_name_entry() and
            add_my_name_entry().

nameelect.c: made become_domain_master(), on successful registration of
             the <1b> name with the WINS server, go ahead and register
             the <1b> names by broadcast.  if the <1b> name is _not_
             successfully registered with the WINS server, the broadcast
             registration of <1b> names will _not_ proceed.

namedbsubnet.c: sorted out calls to add_my_name_entry() and remove_my_name()
                which no longer has a direct parameter.


this is all added because...

in order to fix a compatibility bug with 1.9.16p2->p11, jeremy had added a
feature that got the <1b> broadcast registered names _directly_ into the nmbd
netbios lists, undefended.  the aim was to get round the aggressive netbios
registration of <1b> names of 1.9.16p2->p11.


however, because 1.9.16p2->p11 don't properly _provide_ netlogon services,
it is better that an error message appears in 1.9.17 logs, and that
administrators are made aware of the problems with 1.9.16p2->p11, and replace
1.9.16p2->p11 servers, rather than attempt to run 1.9.16 alonside 1.9.17.

(these warning messages will need to be added...)


in _addition_, they shouldn't _be_ getting two samba servers to provide
domain logon / domain master services for the same workgroup in the same
WINS scope!


lkcl




****************************************
Date:	Friday July 25, 1997 @ 8:41
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25357

Modified Files:
	loadparm.c server.c 
Log Message:
loadparm.c:	Changed default create mask to 755 to support MAP_ARCHIVE.
server.c:	Added check for MAP_ARCHIVE before we set archive bit.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday July 25, 1997 @ 9:29
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv26123

Modified Files:
	proto.h 
Log Message:
Re-added shm stuff - keeps getting lost.
Jeremy (jallison@whistle.com)



****************************************
Date:	Sunday July 27, 1997 @ 2:08
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory arvidsjaur:/var/tmp/cvs-serv20128/examples/redhat

Modified Files:
	samba-make.patch samba.spec 
Log Message:
JHT ===> Just playin' wif da RPM 'tings. Ok?



****************************************
Date:	Tuesday July 29, 1997 @ 4:59
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv31293

Modified Files:
	client.c clitar.c nameannounce.c nameelect.c nameserv.h 
	nameservresp.c namework.c password.c 
Log Message:
client.c:	Added amanda fixes.
clitar.c:	Added amanda fixes.
nameannounce.c:	Removed redundent code.
nameelect.c:	Removed redundent code.
nameserv.h:		Removed redundent code.
nameservresp.c:	Removed redundent code.
namework.c:		Removed redundent code.
password.c:		Prevented crash if getpwnam fails.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday July 29, 1997 @ 5:04
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv31801

Modified Files:
	Support.txt 
Log Message:
Added one more consultant. Jeremy.



****************************************
Date:	Tuesday July 29, 1997 @ 5:21
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32489

Modified Files:
	nameservresp.c 
Log Message:
Missed removing some redundent code.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday July 30, 1997 @ 20:12
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv10644

Modified Files:
	ToDo.txt 
Log Message:
Minor text mods, mostly checking that CVS still works
Dan



****************************************
Date:	Wednesday July 30, 1997 @ 20:12
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10644/source

Modified Files:
	client.c 
Log Message:
Minor text mods, mostly checking that CVS still works
Dan



****************************************
Date:	Thursday July 31, 1997 @ 5:17
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv27153

Modified Files:
	client.c clientutil.c ipc.c loadparm.c nameannounce.c 
	namedbwork.c nameserv.h proto.h smb.h util.c 
Log Message:
client.c:	Minor change to cast parameters for DEC unix.
clientutil.c:	Minor change to cast parameters for DEC unix.
ipc.c:		Fixes to parameterise the stuff John wants.
loadparm.c:	Fixes to parameterise the stuff John wants.
nameannounce.c: Fixes to parameterise the stuff John wants.
namedbwork.c: Fixes to parameterise the stuff John wants.
nameserv.h:	Fixes to parameterise the stuff John wants.
proto.h: Fixes to parameterise the stuff John wants.
smb.h: Fixes to parameterise the stuff John wants.
util.c: tidy.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday July 31, 1997 @ 5:24
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv27260

Modified Files:
	smb.conf.5 
Log Message:
Made docs more up to date with source. Preparing for 1.9.17alpha5.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday August 1, 1997 @ 4:47
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv8683

Modified Files:
	loadparm.c nameannounce.c namedbsubnet.c nameserv.c namework.c 
	nmbd.c proto.h util.c 
Log Message:
loadparm.c:	Added new netbios aliases parameter (code from Cisco)
nameannounce.c: Code to announce aliases as well as our own names.
namedbsubnet.c: Code to add the aliases to the server list.
nameserv.c:		Code to defend our aliases on the namelist.
namework.c:		Code to check it's one of our aliases.
nmbd.c:			Code to initialise the aliases.
proto.h:		Fixup protos.
util.c:			Code to check it's one of our aliases.
All above code based on code for 1.9.16p11 donated by Cisco 
from Ben Woodard <bwoodard@luthien.cisco.com>
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday August 1, 1997 @ 4:51
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv8873

Modified Files:
	smb.conf.5 Support.txt 
Log Message:
smb.conf.5: Added netbios aliases entry.
Support.txt: One more USA consultant.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday August 1, 1997 @ 5:24
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv9840

Modified Files:
	WHATSNEW.txt 
Log Message:
Updated for 1.9.17alpha5 release.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday August 1, 1997 @ 5:39
Author:	samba-bugs

Update of /data/cvs/samba
In directory arvidsjaur:/var/tmp/cvs-serv10266

Removed Files:
	ToDo.txt 
Log Message:
Removed for 1.9.17alpha5 release.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday August 5, 1997 @ 4:01
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv8128

Modified Files:
	Support.txt 
Log Message:
4 more consultants.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday August 5, 1997 @ 11:31
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24788

Modified Files:
	Makefile loadparm.c nameservreply.c password.c 
Log Message:
Makefile: Added IRIX 6 target.
loadparm.c: Fixed stupid static warnings with set_default_server_announce_type.
password.c:	Fixed char -> uchar cast warnings.
nameservreply.c: Fixed group fade out code.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday August 7, 1997 @ 0:35
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv30965

Modified Files:
	smbpasswd.c 
Log Message:

updated smbpasswd to take the password on the command-line.
two sets of operation:

as root: specify username password.
as user: specify old password  new password

this will allow shell scripts (like adduser) to include smbpasswd.

lkcl



****************************************
Date:	Thursday August 7, 1997 @ 23:42
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16102

Modified Files:
	nameresp.c 
Log Message:

failure to register DOMAIN<1b> netbios name caused nmbd to exit (a call to
exit()).  this is a bad idea.

lkcl



****************************************
Date:	Saturday August 9, 1997 @ 23:28
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv24195

Modified Files:
	smbpasswd.c 
Log Message:

bug in num. arguments detection that stopped the -add option working

lkcl



****************************************
Date:	Sunday August 10, 1997 @ 23:15
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv32359

Modified Files:
	nameelect.c 
Log Message:

updating comments.

lkcl



****************************************
Date:	Monday August 11, 1997 @ 0:19
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv1100

Modified Files:
	DOMAIN.txt 
Log Message:

updated to include NT 4.0 Workstation profile setup.

lkcl



****************************************
Date:	Tuesday August 12, 1997 @ 4:06
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv15524

Modified Files:
	password.c 
Log Message:

spelling.

lkcl



****************************************
Date:	Wednesday August 13, 1997 @ 8:48
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory arvidsjaur:/var/tmp/cvs-serv16188

Modified Files:
	Faxing.txt Support.txt 
Log Message:
Faxing.txt: Updated.
Support.txt: Added new consultant.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday August 13, 1997 @ 9:02
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv16614

Modified Files:
	charset.c loadparm.c nameelect.c nameservresp.c 
Log Message:
charset.c:	Fixed bug with 'valid chars' param.
loadparm.c:	Fixed bug with 'valid chars' param.
nameelect.c:Unregister the 1b name from the WINS server when unbecoming master.
nameservresp.c: Fix nasty browse bug where we were sending the query
                to the wrong ip address.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday August 14, 1997 @ 6:16
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv29336

Modified Files:
	includes.h ipc.c 
Log Message:
includes.h:	Fixed S_IFLNK for old DEC ultrix.
ipc.c:	Finally :-) fixed responses to NetServerEnum2 when SV_TYPE_ALL
        given.
Jeremy (jallison@whistle.com)



****************************************
Date:	Monday August 18, 1997 @ 7:02
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv10346

Modified Files:
	server.c uid.c 
Log Message:

connecting to IPC$ goes under the guest account.  the IPC$ share should
be treated no differently than any other share (for any security setting:
user, server or share).

this will clear up a bug where, when clients connect to the IPC$ share, this
used to be done under the guest account.  the standard_sub_basic() macros
will substitute the _guest_ account for %U, causing the samba server to
look different from when the client then connects to any other share.

lkcl



****************************************
Date:	Monday August 18, 1997 @ 14:32
Author:	jht

Update of /data/cvs/samba/source
In directory arvidsjaur:/var/tmp/cvs-serv25832

Modified Files:
	version.h 
Log Message:
JHT ===> Just making sure any new tests do not announce as the last alpha!



****************************************
Date:	Tuesday August 19, 1997 @ 17:57
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9512/docs

Modified Files:
	INSTALL.txt 
Log Message:
JHT ===> Fixed step numbering.



****************************************
Date:	Tuesday August 19, 1997 @ 18:04
Author:	jht

Update of /data/cvs/samba/packaging
In directory samba:/tmp/cvs-serv9445/packaging

Log Message:
Directory /data/cvs/samba/packaging added to the repository



****************************************
Date:	Tuesday August 19, 1997 @ 18:08
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv9961/redhat

Log Message:
Directory /data/cvs/samba/packaging/redhat added to the repository



****************************************
Date:	Tuesday August 19, 1997 @ 18:37
Author:	jht

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv10706/SGI

Log Message:
Directory /data/cvs/samba/packaging/SGI added to the repository



****************************************
Date:	Tuesday August 19, 1997 @ 18:38
Author:	jht

Update of /data/cvs/samba/packaging/Solaris
In directory samba:/tmp/cvs-serv10728/Solaris

Log Message:
Directory /data/cvs/samba/packaging/Solaris added to the repository



****************************************
Date:	Tuesday August 19, 1997 @ 19:08
Author:	jht

Update of /data/cvs/samba/packaging
In directory samba:/tmp/cvs-serv11292/packaging

Added Files:
	README 
Log Message:
JHT ===> Just a little bit of rearranging the deck chairs - more growth space.



****************************************
Date:	Tuesday August 19, 1997 @ 19:08
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv11292/packaging/redhat

Added Files:
	makeldirs.sh makerpms.sh samba-axp.patch samba-make.patch 
	samba.log samba.pamd samba.spec smb.conf smb.init smbprint 
Log Message:
JHT ===> Just a little bit of rearranging the deck chairs - more growth space.



****************************************
Date:	Tuesday August 19, 1997 @ 19:15
Author:	jht

Update of /data/cvs/samba/packaging/Solaris/sparc
In directory samba:/tmp/cvs-serv10626/sparc

Log Message:
Directory /data/cvs/samba/packaging/Solaris/sparc added to the repository



****************************************
Date:	Tuesday August 19, 1997 @ 19:19
Author:	jht

Update of /data/cvs/samba/packaging/Solaris/x86
In directory samba:/tmp/cvs-serv11703/x86

Log Message:
Directory /data/cvs/samba/packaging/Solaris/x86 added to the repository



****************************************
Date:	Tuesday August 19, 1997 @ 19:50
Author:	jht

Update of /data/cvs/samba/examples/redhat
In directory samba:/tmp/cvs-serv11986

Removed Files:
	Instructions makeldirs.sh makerpms.sh samba-axp.patch 
	samba-make.patch samba.log samba.pamd samba.spec smb.conf 
	smb.init smbprint 
Log Message:
JHT ===> No longer needed here. Files moved to ~/packaging/redhat.



****************************************
Date:	Tuesday August 19, 1997 @ 23:48
Author:	jht

Update of /data/cvs/samba/packaging
In directory samba:/tmp/cvs-serv1938

Modified Files:
	README 
Log Message:
JHT ===> Update only.



****************************************
Date:	Wednesday August 20, 1997 @ 5:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6340

Modified Files:
	Makefile includes.h ipc.c nmbsync.c proto.h quotas.c reply.c 
	server.c smb.h smbpasswd.c uid.c util.c 
Log Message:
Makefile:	Changed for HPUX10 tidyup.
includes.h:	Changed for HPUX10 tidyup.
ipc.c:		Fixed bug where getting local server list from NT browsers would
            fail.
nmbsync.c:	Fixed bug where getting local server list from NT browsers would
            fail. 
proto.h:	Changed for crash bug on SCO with USE_MMAP.
quotas.c:	Added OSF quotas (patch from Bret Giddings <bret@essex.ac.uk>).
            Rolled back solaris uid change - I think it was wrong.
reply.c:	Changed for crash bug on SCO with USE_MMAP.
server.c:	Removed Lukes changes. Changed for crash bug on SCO with USE_MMAP.
smb.h:		Changed for crash bug on SCO with USE_MMAP.
smbpasswd.c:Fixed crash bug with Lukes changes.
uid.c:		Removed Lukes changes.
util.c:		Fixed I18N bug with extended char filenames and widelinks = no.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday August 20, 1997 @ 8:15
Author:	jht

Update of /data/cvs/samba/packaging
In directory samba:/tmp/cvs-serv8316

Modified Files:
	README 
Log Message:
JHT ===> Tidying up for public consumption.



****************************************
Date:	Wednesday August 20, 1997 @ 9:11
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8593

Modified Files:
	ENCRYPTION.txt 
Added Files:
	Win95.txt 
Log Message:
JHT ===> Added instructions for Windows 95 encrypted password change.



****************************************
Date:	Wednesday August 20, 1997 @ 9:56
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv9229

Added Files:
	Instructions 
Log Message:
JHT ===> Forgot to add this little thingy.



****************************************
Date:	Wednesday August 20, 1997 @ 11:09
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv10006

Modified Files:
	Support.txt smbtar.1 
Log Message:
Support.txt: Added two more consultants.
smbtar.1:	Mentioned it is meant for GNU tar.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday August 20, 1997 @ 11:22
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10232

Modified Files:
	dir.c reply.c server.c trans2.c 
Log Message:
Fix suggested by "Christian Groessler" <chris@fast-ag.de>
dir.c: Cause dptr_create to return -2 when failing on unix error.
reply.c: Use UNIXERROR in more cases.
server.c: Add ENOTDIR mapping to error table.
trans2.c: Correctly determine UNIX error on dptr_create.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday August 20, 1997 @ 22:33
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv20447/packaging/redhat

Modified Files:
	samba.spec 
Log Message:
JHT ===> Just making some final adjustments. Oolahlah!



****************************************
Date:	Thursday August 21, 1997 @ 6:32
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10594

Modified Files:
	pipes.c proto.h reply.c server.c smb.h trans2.c util.c 
Log Message:
Changes to allow Samba to return the same error code as Windows NT.
Takes care of the cases where a Windows program is parsing a pathname
component by component and expects 2 different errors.
ERRbadpath - if a component in the path doesn't exist.
ERRbaddirectory - if a component in the path exists but is not a directory.
Extra error code added to smb.h to support this.
Code based on suggestions from "Christian Groessler" <chris@fast-ag.de>.

Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday August 21, 1997 @ 19:43
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv23720

Modified Files:
	samba.spec 
Log Message:
JHT ===> More fixes! I love fixes - I'm always in one! (;-))



****************************************
Date:	Thursday August 21, 1997 @ 20:10
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv27320

Added Files:
	Manifest Read-Manifest-Now 
Log Message:
JHT ===> More documentation for those who can't find the docs directory.



****************************************
Date:	Thursday August 21, 1997 @ 20:28
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv27424

Added Files:
	Roadmap 
Log Message:
JHT ===> The title says it all!



****************************************
Date:	Thursday August 21, 1997 @ 20:51
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26530

Modified Files:
	WinNT.txt 
Added Files:
	NT4_PlainPassword.reg 
Log Message:
JHT ===> Added a patch from Tim Small (UK)



****************************************
Date:	Thursday August 21, 1997 @ 21:28
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv596

Modified Files:
	Win95.txt 
Added Files:
	Win95_PlainPassword.reg 
Log Message:
JHT ===> Just to complete Tim Small's add-ins.



****************************************
Date:	Friday August 22, 1997 @ 6:03
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17877

Modified Files:
	kanji.h proto.h system.c util.c 
Log Message:
Kanji fixes for upper/lower case conversion with sjis characters.
Code from Takashi Fujita <fujita@ainix.isac.co.jp>.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday August 22, 1997 @ 7:45
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv19562

Modified Files:
	Roadmap 
Log Message:
JHT ===> Added comment about internationaliasation and deleted dates.



****************************************
Date:	Friday August 22, 1997 @ 9:14
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv21662

Modified Files:
	smb.conf.5 
Log Message:
Removed the obsolete comment from the 'strip dot'
option. It isn't :-).

Jeremy (jallison@whistle.com)




****************************************
Date:	Friday August 22, 1997 @ 14:38
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba/docs

Modified Files:
	smbpasswd.8 smbrun.1 testparm.1 testprns.1 
Log Message:
fix several references to samba-bugs@anu.edu.au which should be samba-bugs@samba.anu.edu.au


****************************************
Date:	Friday August 22, 1997 @ 15:03
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory samba:/data/people/samba-bugs/samba/docs/faq

Modified Files:
	sambafaq-2.html sambafaq-3.html sambafaq.sgml sambafaq.txt 
Log Message:
fix some more references to samba-bugs@anu.edu.au which should be
samba-bugs@samba.anu.edu.au

tridge





****************************************
Date:	Monday August 25, 1997 @ 13:21
Author:	samba-bugs

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv27003

Modified Files:
	Manifest 
Log Message:
Updated Manifest and DOMAIN.txt to refer to <your OS>_INSTALL.txt and 
describe the nascent new documentation project. Renamed INSTALL.txt to
UNIX_INSTALL.txt. 

Dan



****************************************
Date:	Monday August 25, 1997 @ 13:21
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv27003/docs

Modified Files:
	DOMAIN.txt 
Removed Files:
	INSTALL.txt 
Log Message:
Updated Manifest and DOMAIN.txt to refer to <your OS>_INSTALL.txt and 
describe the nascent new documentation project. Renamed INSTALL.txt to
UNIX_INSTALL.txt. 

Dan



****************************************
Date:	Monday August 25, 1997 @ 17:35
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv10852

Added Files:
	UNIX_INSTALL.txt 
Log Message:
Renamed from INSTALL.txt. Preparing for new docs structure.

Dan



****************************************
Date:	Monday August 25, 1997 @ 18:56
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12840

Modified Files:
	DOMAIN.txt 
Log Message:
Changed DOMAIN.txt to try to explain terms like domain, workgroup, 
authentication. NT SAM is only one case of many kinds of distributed
authorisation database. Domain logons, RAP etc should all work perfectly
from NT workstations to Samba servers no matter what username/passwd
database lies underneath (once the protocols have been implemented, of
course.... :-)



****************************************
Date:	Monday August 25, 1997 @ 22:15
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv16155

Modified Files:
	DOMAIN.txt 
Log Message:

- clarified dan s's clarifications of the difference between domains and
  workgroups (domains are a superset of workgroups: workgroups have no
  concept of security at all)

- updated comments about profiles from conversations with john t, and from
  samba digest input.  this includes the need for encrypted passwords when
  supporting NT workstation, and enlisting the assistance of an NT server
  to tell workstations that their profile is on a samba server.

lkcl



****************************************
Date:	Tuesday August 26, 1997 @ 8:18
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27631

Modified Files:
	charset.c client.c namepacket.c nmbsync.c smb.h system.c 
	util.c 
Log Message:
charset.c : Add mapping for code page 932 (KANJI).
client.c : Fix crash bug. Add code to use BUFFER_SIZE for NetServerEnum calls.
namepacket.c: Fixed cast.
nmbsync.c : Add code to use BUFFER_SIZE for NetServerEnum calls.
smb.h : Set default client code page to 932 for KANJI.
system.c : Remove vendor specific code that crept in :-).
util.c : Added #define to allow Samba to behave as Win95 when doing
         KANJI case insensitivity tests.

Jeremy (jallison@whistle.com)




****************************************
Date:	Tuesday August 26, 1997 @ 9:28
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv1458

Modified Files:
	DOMAIN.txt 
Log Message:
More mods to DOMAIN.txt, preparing for meta-FAQ itegration. Dan



****************************************
Date:	Tuesday August 26, 1997 @ 10:50
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2472

Modified Files:
	DOMAIN.txt DOMAIN_CONTROL.txt 
Log Message:
Minor mods to DOMAIN.txt. In DOMAIN_CONTROL.txt made it clear that a PDC is
just one (major:) vendor's idea of domain authentication. Added refs to
pwdump where it talks about the SAM. Dan



****************************************
Date:	Tuesday August 26, 1997 @ 11:08
Author:	samba-bugs

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv2254

Modified Files:
	README 
Log Message:
Removed samba team email address - replaced with samba bugs.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday August 26, 1997 @ 11:28
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2404

Modified Files:
	smb.h trans2.c 
Log Message:
smb.h: Added error code used for OS2 WPS.
trans2.c: Added OS2 WPS fix - but ifdefed out for now. Will turn on
after 1.9.17 release.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday August 26, 1997 @ 11:31
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2818

Removed Files:
	OS2.txt README.OS2 Warp.txt 
Log Message:
Way out of date. Dan



****************************************
Date:	Tuesday August 26, 1997 @ 11:31
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3075/docs

Modified Files:
	DOMAIN.txt DOMAIN_CONTROL.txt UNIX_INSTALL.txt 
Log Message:
JHT ===> Documentation header updates only - inserting/mod Updates date.



****************************************
Date:	Tuesday August 26, 1997 @ 11:32
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3000

Added Files:
	OS2-Client-HOWTO.txt 
Log Message:
From Jacco, unchanged. Destined for Samba-Client-FAQ. Dan



****************************************
Date:	Tuesday August 26, 1997 @ 11:43
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory samba:/tmp/cvs-serv3574

Added Files:
	Samba-Server-FAQ-1.html Samba-Server-FAQ-2.html 
	Samba-Server-FAQ.html Samba-Server-FAQ.sgml 
	Samba-meta-FAQ-1.html Samba-meta-FAQ-2.html 
	Samba-meta-FAQ-3.html Samba-meta-FAQ-4.html 
	Samba-meta-FAQ-5.html Samba-meta-FAQ-6.html 
	Samba-meta-FAQ.html Samba-meta-FAQ.sgml Samba-meta-FAQ.txt 
Log Message:
Added draft cversions of the new Samba doco. Dan.



****************************************
Date:	Tuesday August 26, 1997 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4031

Modified Files:
	Makefile 
Log Message:
Updated OS/2 comments. Dan



****************************************
Date:	Tuesday August 26, 1997 @ 11:51
Author:	samba-bugs

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv3902

Modified Files:
	WHATSNEW.txt 
Log Message:
Updated for 1.9.17 release.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday August 26, 1997 @ 11:55
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.17


****************************************
Date:	Tuesday August 26, 1997 @ 11:59
Author:	samba-bugs

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv4554

Modified Files:
	WHATSNEW.txt 
Log Message:
Spelling, refs to faqs, version numbersing. Dan.



****************************************
Date:	Tuesday August 26, 1997 @ 13:03
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv5760

Added Files:
	MIRRORS.txt 
Log Message:
Added new MIRRORS.txt file at Dan's request
This is really an updated version of the original 'MIRRORS' file.




****************************************
Date:	Tuesday August 26, 1997 @ 13:07
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6038

Removed Files:
	MIRRORS 
Log Message:
This file has been moved to MIRRORS.txt




****************************************
Date:	Tuesday August 26, 1997 @ 17:56
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv16839

Modified Files:
	DIAGNOSIS.txt 
Log Message:
Advice about firewalls (step 1) and tcp wrappers (step 8). Dan



****************************************
Date:	Tuesday August 26, 1997 @ 23:31
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24372

Modified Files:
	MIRRORS.txt 
Log Message:
More sites for the non-UNIX ports, plus ftp.gwdg.de



****************************************
Date:	Wednesday August 27, 1997 @ 0:46
Author:	samba-bugs

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv25212

Modified Files:
	README Roadmap 
Log Message:
Changed ftp site and docs info in README (this file contains out-of-date
FAQ info and should be scrapped.) 

Changed "qaility control" in the Roadmap :-)



****************************************
Date:	Wednesday August 27, 1997 @ 1:35
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26083

Modified Files:
	DOMAIN.txt smb.conf.5 
Log Message:

added info about _not_ using \\SAMBA_SERVER\HOMES\profile - must use
\\SAMBA_SERVER\%U\profile for the profile path.  documented default
profile path changing to \\%L\%U\profile, so that w95 and NT can use
the same profile directory: you cannot use \\%L\%U for NT profiles.

lkcl



****************************************
Date:	Wednesday August 27, 1997 @ 1:36
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25860

Modified Files:
	BROWSING.txt DOMAIN_CONTROL.txt GOTCHAS.txt Passwords.txt 
	UNIX-SMB.txt UNIX_INSTALL.txt announce history samba.faq 
Log Message:

corrected it's (it is) documentation errors, when "its" should be
being used.

lkcl



****************************************
Date:	Wednesday August 27, 1997 @ 1:36
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory samba:/tmp/cvs-serv25860/faq

Modified Files:
	sambafaq-3.html sambafaq.sgml sambafaq.txt 
Log Message:

corrected it's (it is) documentation errors, when "its" should be
being used.

lkcl



****************************************
Date:	Thursday August 28, 1997 @ 5:27
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18141

Modified Files:
	proto.h util.c server.c 
Log Message:

doing that irritating compiler clash warning with the protos for standard_sub
and standard_sub_basic.  again.

lkcl



****************************************
Date:	Thursday August 28, 1997 @ 5:53
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18227

Modified Files:
	proto.h 
Log Message:
Put back the smb_shm_ proto's that Luke keeps breaking !
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday August 28, 1997 @ 6:20
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22058

Modified Files:
	charset.c clitar.c proto.h 
Log Message:
charset.c: Added patch for client code page 852 (Eastern European) from
           Leos Bitto <bitto@altec.cz>.
clitar.c:
proto.h: Fixed proto mismatch for strslashcmp().
Jermey (jallison@netcom.com)



****************************************
Date:	Thursday August 28, 1997 @ 12:22
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3744

Modified Files:
	mkproto.awk shmem.c 
Log Message:
added a new type to mkproto.awk so it can handle shmem.c

in general if you add a new type that is returned by a non-static
function then just add it to the list of known types in mkproto.awk




****************************************
Date:	Friday August 29, 1997 @ 4:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28601

Modified Files:
	mangle.c server.c trans2.c 
Log Message:
mangle.c: Fixed bug that caused string to run off the end of the mangled map.
server.c: Changed comparison from dname to name2 - seems correct - don't know why
          I changed it originally. hmmmmm.
trans2.c: Made lanman2 code more similar to scan_directory(). I should
          make the trans2 code call scan_dir as they are so similar.
Jeremy(jallison@whistle.com).



****************************************
Date:	Friday August 29, 1997 @ 6:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3172

Modified Files:
	includes.h nmbsync.c clientutil.c 
Log Message:
includes.h: Make sure REPLACE_GETPASS are wrapped with #ifdefs.
nmbsync.c: Make sure REPLACE_GETPASS is defined before including includes.h
clientutil.c: Catch null passwords.
Fixes for a nmbd crash bug found by Herb Lewis @ SGI.
Jermey(jallison@whistle.com)



****************************************
Date:	Friday August 29, 1997 @ 8:54
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17964

Modified Files:
	trans2.c 
Log Message:
Oops. Reversed mangled map change made in error. Testing
found this one. Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday August 30, 1997 @ 11:13
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3987

Added Files:
	codepage_def.437 codepage_def.850 codepage_def.852 
	codepage_def.932 installcp.sh uninstallcp.sh 
	make_smbcodepage.c 
Log Message:
Adding codepage definition files and codepage file compiler/decompiler.
Adding install/uninstall scripts for compiled codepage files.
Preparing for dynamic codepage loading.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday August 30, 1997 @ 11:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14598

Modified Files:
	Makefile charset.c charset.h proto.h 
Log Message:
Makefile:  New program and support for dynamic codepage loading.
charset.c: Dynamic codepage loading code.
charset.h: Defines for file format.
proto.h:   Updated.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday August 30, 1997 @ 11:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12376

Modified Files:
	Makefile 
Log Message:
Removed extraneous $(LIBS) line from make_smbcodepage dependency line.



****************************************
Date:	Saturday August 30, 1997 @ 11:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13842

Modified Files:
	Makefile 
Log Message:
Added uninstallcp to uninstall targets.



****************************************
Date:	Sunday August 31, 1997 @ 12:18
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11740

Modified Files:
	ipc.c printing.c reply.c 
Log Message:
fixed a bug in the printjob encoding/decoding. We weren't doing it for
the print_ functions in reply.c, with the effect that you couldn't
cancel print jobs from smbclient or from older dos clients.

we now use a couple of utility functions printjob_encode() and
printjob_decode() rather than sticking the bitops inline in each
place.

also fixed a bunch of places that used foo%0xFF rather than foo&0xFF

Note that this isn't really me doing the commit, it can't be as I'm
working on my thesis ...




****************************************
Date:	Monday September 1, 1997 @ 0:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10521

Modified Files:
	reply.c 
Log Message:

added word count 3 support into reply_tcon_and_X (see cifs6.txt).  the
only thing i couldn't do was get the chaining word count to point to
the end of the smb reply, for the next and_X (not that there is one).



****************************************
Date:	Tuesday September 2, 1997 @ 4:34
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21128

Modified Files:
	namepacket.c nameservreply.c proto.h 
Log Message:

use of recursion_available and recursion_desired flag in netbios responses.




****************************************
Date:	Tuesday September 2, 1997 @ 5:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23399

Modified Files:
      Tag: samba-2
	Makefile access.c byteorder.h charcnv.c charset.c charset.h 
	chgpasswd.c client.c clientutil.c clitar.c dir.c fault.c 
	getsmbpass.c includes.h interface.c ipc.c kanji.c kanji.h 
	loadparm.c local.h locking.c mangle.c message.c nameannounce.c 
	namebrowse.c namedbname.c namedbresp.c namedbserver.c 
	namedbsubnet.c namedbwork.c nameelect.c namelib.c namelogon.c 
	namepacket.c namequery.c nameserv.c nameserv.h namework.c 
	nmbd.c nmblib.c nmblookup.c nmbpacket.c nmbsync.c params.c 
	password.c pcap.c pipes.c predict.c printing.c proto.h 
	quotas.c replace.c reply.c server.c shmem.c smb.h smbencrypt.c 
	smbpass.c smbpasswd.c smbrun.c status.c system.c testparm.c 
	testprns.c time.c trans2.c trans2.h ufc.c uid.c username.c 
	util.c version.h winsd.c winslib.c winsproxy.c winsquery.c 
	winsreg.c winsrel.c winsserv.c winsstat.c 
Log Message:

checked out version from march 21st, overwriting current version.

updating using diff -u 1.9.16p11/source 1.9.17alpha5/source | patch, then
manually going through the .rej files



****************************************
Date:	Wednesday September 3, 1997 @ 8:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3179

Modified Files:
	reply.c server.c util.c 
Log Message:
reply.c: Removed unused variables. Caught by gcc -Wall -Werror
server.c: Fix for old DOS clients not understanding ERRbaddirectory - map to ERRbadpath.
util.c: Fix for systems with no LOG_DAEMON facility.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday September 3, 1997 @ 11:52
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv7844

Modified Files:
	Support.txt 
Log Message:
One more consultant....



****************************************
Date:	Thursday September 4, 1997 @ 6:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11427

Modified Files:
	nameannounce.c nameresp.c nameserv.c nameservreply.c proto.h 
	server.c 
Log Message:
nameannounce.c
nameresp.c
nameserv.c
nameservreply.c
proto.h : Removed broadcast and recurse parameters in the
queue_netbios_pkt_wins() call - they are not needed as they
should always be 'false' and 'true' respectively.
Also fixed a bug with secure name registration (WINS
server code).
server.c: Finally fixed problem with error 267 being
returned to Win95. It is needed by NT. This is a horrid
fix and I would appreciate a better one :-).

Jeremy (jallison@whistle.com)




****************************************
Date:	Friday September 5, 1997 @ 6:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15534

Modified Files:
	mkproto.awk proto.h reply.c server.c smb.h util.c 
Log Message:
Fixed up determination of client type for PROTOCOL_NT1. Uses client
capabilities bits in session_setup_and_X to decide. Made remote_arch
an enum as well as a string, for easier use.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday September 5, 1997 @ 7:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18200

Modified Files:
	password.c 
Log Message:
Fix from Frank Varnavas <varnavas@ny.ubs.com>.
We cannot use the same name as the client to 
the NT password server, as NT will drop client
connections if the same client name connects
twice. Instead, synthesize a name from our pid.
and the remote machine name.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday September 5, 1997 @ 12:16
Author:	herb

Update of /data/cvs/samba/packaging/SGI/bins
In directory samba:/data/people/herb/SGI/bins

Log Message:
Directory /data/cvs/samba/packaging/SGI/bins added to the repository



****************************************
Date:	Friday September 5, 1997 @ 12:28
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/data/people/herb/SGI

Added Files:
	Makefile README inetd.sh legal_notice.html mkman mkprintcap.sh 
	mkrelease.sh printcap psfixes.sed relnotes.html samba.config 
	samba.idb samba.rc samba.spec sambalp smb.conf smbpasswd 
	smbprint 
Log Message:
This is really Herb adding the SGI packaging files.



****************************************
Date:	Saturday September 6, 1997 @ 3:16
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22126

Modified Files:
	loadparm.c 
Log Message:

added debug reporting to file listing / mod_time() checking routine.
lp_file_list_changed().



****************************************
Date:	Saturday September 6, 1997 @ 5:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27329

Modified Files:
      Tag: BRANCH_1_9_17
	charset.c clientutil.c clitar.c includes.h ipc.c loadparm.c 
	mangle.c mkproto.awk nameannounce.c namepacket.c nameresp.c 
	nameserv.c nameservreply.c nmbsync.c password.c printing.c 
	proto.h reply.c server.c smb.h trans2.c util.c version.h 
Log Message:
Updated code on 1.9.17 branch to add bug fixes. This
is *NOT* the same branch as the main (ie. 1.9.18)
branch.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 6, 1997 @ 5:54
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv27641

Modified Files:
	Support.txt 
Log Message:
One more consultant.



****************************************
Date:	Saturday September 6, 1997 @ 6:40
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv25073

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
Bringing 1.9.17 patch tree up to date for documentation.
Preparing to release 1.9.17p1.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 6, 1997 @ 6:40
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25073/docs

Modified Files:
      Tag: BRANCH_1_9_17
	BROWSING.txt DIAGNOSIS.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	GOTCHAS.txt Passwords.txt Support.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt announce history samba.faq smb.conf.5 
Added Files:
      Tag: BRANCH_1_9_17
	MIRRORS.txt 
Removed Files:
      Tag: BRANCH_1_9_17
	MIRRORS 
Log Message:
Bringing 1.9.17 patch tree up to date for documentation.
Preparing to release 1.9.17p1.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 6, 1997 @ 6:40
Author:	jra

Update of /data/cvs/samba/docs/faq
In directory samba:/tmp/cvs-serv25073/docs/faq

Modified Files:
      Tag: BRANCH_1_9_17
	sambafaq-3.html sambafaq.sgml sambafaq.txt 
Log Message:
Bringing 1.9.17 patch tree up to date for documentation.
Preparing to release 1.9.17p1.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 6, 1997 @ 7:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1551

Modified Files:
	client.c server.c status.c trans2.c 
Log Message:
client.c: Made sure myhostname was initialised before substitutions.
status.c: Made sure myhostname was initialised before substitutions.
server.c
trans2.c: Moved OS/2 WPS fix.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 6, 1997 @ 7:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27833

Modified Files:
      Tag: BRANCH_1_9_17
	client.c server.c status.c 
Log Message:
client.c:
status.c: Ensure that myhostname is set so that substitutions work.
server.c: Sync up with main branch.
Jermey (jallison@whistle.com)



****************************************
Date:	Saturday September 6, 1997 @ 8:18
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1310/source

Modified Files:
	version.h 
Log Message:
JHT ===> Just setting version to 1.9.18alpha1




****************************************
Date:	Monday September 8, 1997 @ 3:26
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7245

Modified Files:
	nameelect.c 
Log Message:

samba servers forcing local elections if they are not a local master.
added check for "preferred master" to ensure not forcing an election.



****************************************
Date:	Monday September 8, 1997 @ 11:39
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv25525/packaging/redhat

Modified Files:
	makerpms.sh samba.spec smb.conf 
Log Message:
JHT ==> Just updating to keep the main archive current after RPM production.



****************************************
Date:	Monday September 8, 1997 @ 11:40
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv19301/redhat

Modified Files:
      Tag: BRANCH_1_9_17
	makerpms.sh samba.spec smb.conf 
Log Message:
JHT ==> Keeping things in sync after RPM production.



****************************************
Date:	Tuesday September 9, 1997 @ 23:06
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25541

Modified Files:
	smbd.8 
Log Message:

updated bit on kill -HUP to make it clear what effect this has, and its
limitations.




****************************************
Date:	Tuesday September 9, 1997 @ 23:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28552

Modified Files:
      Tag: samba-2
	namedbname.c namepacket.c nameserv.c 
Log Message:

more updating from 1.9.16p12 -> 1.9.17alpha5 of the samba-2 tree.
manual application of the .rej files (rejected from patch application)




****************************************
Date:	Thursday September 11, 1997 @ 5:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9591

Modified Files:
      Tag: samba-2
	interface.c nameannounce.c namebrowse.c namedbname.c 
	nameelect.c nameserv.c nameserv.h namework.c nmbd.c nmbsync.c 
	proto.h util.c winsproxy.c winsreg.c 
Log Message:

finished the .rej files: starting on bug-finding by compiling



****************************************
Date:	Thursday September 11, 1997 @ 8:36
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19513

Modified Files:
	Support.txt 
Log Message:
Added one more consultant.



****************************************
Date:	Thursday September 11, 1997 @ 10:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25746

Modified Files:
      Tag: BRANCH_1_9_17
	locking.c nameelect.c namepacket.c nmblookup.c reply.c 
Log Message:
locking.c: Fix to make slow share mode file 0666 instead of 0644. Stoped
smbstatus from reporting correct locks.
nameelect.c: Luke's fix for elections.
namepacket.c: Removed iritating error message.
nmblookup.c: Fixed bug where status request went to random IP address.
reply.c: Changed NTFS to SAMBA in filename string.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday September 11, 1997 @ 12:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Added Files:
	cgi.c wsmbconf.c wsmbstatus.c 
Log Message:
cgi.c is a simple set of CGI manipulation routines

wsmbconf.c is a rudimentary web based smb.conf editor. Its really
there just to demonstrate how such an editor can hook into loadparm.c,
I don't expect anyone to actually use it as is.

wsmbstatus.c is a simple web based smbstatus. Its probably broken.




****************************************
Date:	Thursday September 11, 1997 @ 12:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	loadparm.c 
Log Message:
some minor modifications to loadparm.c to support the necessary
functions for wsmbconf. In particular added some more support routines
(like lp_rename_service()) and make the dump routines take a FILE
pointer rather than assuming stdout




****************************************
Date:	Thursday September 11, 1997 @ 12:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	testparm.c 
Log Message:
add the stdout parameter to lp_dump()




****************************************
Date:	Thursday September 11, 1997 @ 12:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	proto.h 
Log Message:
prototype updates for new functions






****************************************
Date:	Thursday September 11, 1997 @ 12:20
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	Makefile 
Log Message:
put wsmbstatus and wsmbconf in the Makefile, but don't add them to the
PROGS list, so they won't automatically get built. Instead those who
are feeling brave can use "make wsmbconf"








****************************************
Date:	Thursday September 11, 1997 @ 12:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2703

Modified Files:
	nameannounce.c smbpasswd.c 
Log Message:
fix a couple of "declaration shadows previous local" warnings.




****************************************
Date:	Friday September 12, 1997 @ 6:17
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28065

Modified Files:
	charcnv.c client.c clitar.c kanji.c kanji.h loadparm.c 
	locking.c mangle.c namepacket.c nmblookup.c smb.h trans2.c 
	util.c 
Log Message:
charcnv.c client.c clitar.c kanji.c kanji.h loadparm.c
mangle.c smb.h util.c:

  Big merge to allow KANJI support to be in the main
binary without explicitly compiling with it.

locking.c: Fix for smbstatus not being able to read files.
namepacket.c: Removed unneccesary debug statement.
trans2.c: Added Luke's proposed fix (ifdefed out until further testing).
nmblookup.c: Fixed bug where query fails and status is done on bogus IP.

Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 13, 1997 @ 1:38
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3976

Modified Files:
      Tag: samba-2
	Makefile nameserv.h nmblib.c nmbpacket.c proto.h server.c 
	smb.h util.c 
Log Message:

more compilation-debugging.



****************************************
Date:	Saturday September 13, 1997 @ 2:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28269

Modified Files:
	reply.c 
Log Message:
Added fix that means if connecting user sends guest account
with no password they are seen as guest. Previous patch
broke this.

Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 13, 1997 @ 2:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3795

Modified Files:
      Tag: BRANCH_1_9_17
	reply.c 
Log Message:
Fixed bug where user connecting with guest username and no
password was not being seen as guest. Bug was introduced
in previous patch.

Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 13, 1997 @ 4:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11226

Modified Files:
      Tag: samba-2
	nameannounce.c namedbname.c namedbresp.c namedbserver.c 
	namedbsubnet.c namedbwork.c namelib.c namepacket.c nameserv.h 
	nmbpacket.c nmbsync.c proto.h 
Log Message:

more compilation debugging



****************************************
Date:	Saturday September 13, 1997 @ 4:50
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11763

Modified Files:
      Tag: samba-2
	namedbname.c nameelect.c nameserv.h proto.h 
Log Message:

more compilation debugging



****************************************
Date:	Monday September 15, 1997 @ 2:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24358

Added Files:
	smbdes.c 
Log Message:
This is a written from scratch DES implementation. I couldn't find a
GPLd implementation so I decided to write one.

This version only does DES ecb encryption and isn't very general, so
it may in fact be exempt from ITAR regulations. ITAR regulations do
not prohibit the distribution of code that can be used for
authentication purposes only. This code has no decrypt function so it
would be useless for a normal encryption application and thus may be
ITAR exempt.

It is also very slow, but we don't need it to be fast. It is a literal
implementation from the standard and treats each bit as one byte to
make the code easy to write.




****************************************
Date:	Monday September 15, 1997 @ 2:37
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10551

Modified Files:
	Makefile client.c clientutil.c getsmbpass.c ipc.c kanji.c 
	kanji.h loadparm.c make_smbcodepage.c md4.c nmblib.c 
	password.c proto.h server.c smb.h smbencrypt.c smbpass.c 
	smbpasswd.c system.c util.c wsmbconf.c 
Log Message:
This commit does 3 main things:

1) put the encryption code in by default, with no #ifdef. It is still
disabled by default so you need to add "encrypt passwords = yes" in
smb.conf but at least all binaries will have it.

2) cleanup the kanji code so it compiles with no warnings

3) get rid of lots of uses of ugly non-portable C code. The main
offender being things like "register" but also remove uses of the
"const" keyword as there are compilers out there that don't support it
and even those that do often complain about its usage. Users don't
like warnings :-(

There is still some work to do. We need to replace the md4 code with
our own implementation. The current code (from rfc1186) is PD but is
not very portable. The new RFC (rfc1320) is more portable but adds
copyright restrictions. I'll do a from-scratch MD4 soon.

We also need to test that what I've implemented is portable. It should
be, but I'm too tired right now to test it on anything other than
intel linux.




****************************************
Date:	Monday September 15, 1997 @ 12:47
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26270

Removed Files:
	md4.h 
Log Message:
no longer needed


****************************************
Date:	Monday September 15, 1997 @ 12:49
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21845

Modified Files:
	md4.c proto.h smbencrypt.c 
Log Message:
rewrote md4.c from scratch. This implementation should be portable and
doesn't have any worries about RSA copyright.



****************************************
Date:	Monday September 15, 1997 @ 15:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1655

Modified Files:
	shmem.c smbpasswd.c util.c 
Log Message:
- change a lot of occurances of errno to use strerror(errno). We can't
assume all our users are programmers :-)

- automatically create the smbpasswd file if it doesn't exist when
running smbpasswd. 



****************************************
Date:	Monday September 15, 1997 @ 16:36
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2763

Modified Files:
	smbpasswd.c 
Log Message:
- if the user already exists then ignore the -add command

- change the way the smbpasswd file is auto-created if it doesn't
exist. It didn't work under IRIX for some unknown reason

The smbpasswd.c code is really a bit of a mess. We should probably
rewrite it sometime.




****************************************
Date:	Monday September 15, 1997 @ 22:13
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9739

Modified Files:
	nameelect.c 
Log Message:

unbecome_domain_master and unbecome_logon_master were announcing
as "dead".  removed this.



****************************************
Date:	Tuesday September 16, 1997 @ 3:11
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23667

Modified Files:
      Tag: samba-2
	nameannounce.c namebrowse.c namedbserver.c namedbwork.c 
	nameelect.c namelogon.c namepacket.c nameserv.c nameserv.h 
	namework.c proto.h 
Log Message:

more compilation debugging



****************************************
Date:	Tuesday September 16, 1997 @ 6:01
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3881

Modified Files:
	Support.txt 
Log Message:
2 more consultants.



****************************************
Date:	Tuesday September 16, 1997 @ 6:02
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4240

Modified Files:
      Tag: BRANCH_1_9_17
	Support.txt 
Log Message:
Keep consultants in sync.



****************************************
Date:	Tuesday September 16, 1997 @ 13:53
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18013

Modified Files:
	smbdes.c 
Log Message:
bug fix in the new des code.

I had one of the sbox[] constants wrong, which interestingly gave a
20% chance of the whole algorithm failing.




****************************************
Date:	Tuesday September 16, 1997 @ 14:41
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19350

Modified Files:
	password.c proto.h smbdes.c smbencrypt.c 
Log Message:
- change generate_challenge() to use md4 instead of des

- move routines about a bit between smbencrypt.c and smbdes.c. Ensure
that there is no entry point for normal DES operation

- add the following comment:

   This code is NOT a complete DES implementation. It implements only
   the minimum necessary for SMB authentication, as used by all SMB
   products (including every copy of Microsoft Windows95 ever sold)

   In particular, it can only do a unchained forward DES pass. This
   means it is not possible to use this code for encryption/decryption
   of data, instead it is only useful as a "hash" algorithm.

   There is no entry point into this code that allows normal DES operation.

   I believe this means that this code does not come under ITAR
   regulations but this is NOT a legal opinion. If you are concerned
   about the applicability of ITAR regulations to this code then you
   should confirm it for yourself (and maybe let me know if you come
   up with a different answer to the one above)



****************************************
Date:	Tuesday September 16, 1997 @ 18:26
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24657

Modified Files:
	password.c 
Log Message:
add a cast




****************************************
Date:	Tuesday September 16, 1997 @ 18:31
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24807

Modified Files:
	ENCRYPTION.txt 
Log Message:
change the encryption instructions to reflect the fact that the code
is now built in










****************************************
Date:	Wednesday September 17, 1997 @ 3:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12143

Modified Files:
	namedbname.c namedbresp.c namedbwork.c 
Log Message:
Fixing assumtions that malloced memory is zero filled - making
sure it is.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday September 17, 1997 @ 11:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4358

Modified Files:
	loadparm.c proto.h reply.c 
Log Message:
Added 'delete veto files' paremeter. Ugly - but the only
way to allow Samba client users to delete directories
containing Mac metafile information (.AppleDouble directories).

Needed for clean integration with netatalk.

Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday September 17, 1997 @ 11:33
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4185

Modified Files:
	smb.conf.5 
Log Message:
Added documentation for the 'delete veto files' parameter.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday September 17, 1997 @ 19:41
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv13199/packaging/redhat

Modified Files:
	samba-make.patch samba.spec 
Log Message:
JHT ===> Makefile clarified comments about Linux, PAM and shadow passords
         RedHat packaging update only - note: needs more work!



****************************************
Date:	Wednesday September 17, 1997 @ 19:41
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13199/source

Modified Files:
	Makefile 
Log Message:
JHT ===> Makefile clarified comments about Linux, PAM and shadow passords
         RedHat packaging update only - note: needs more work!



****************************************
Date:	Wednesday September 17, 1997 @ 23:53
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22161

Modified Files:
	ipc.c 
Log Message:
JHT ===> Changed behaviour of logon script processing so that all macros
         can be used in the logon script parameter definition in the smb.conf
         Globals section. This fixes a problem reported by Jacco de Leeuw
         where OS/2 does not see the %u variable. Jacco suggested using %U
         but we really do want the user for the netlogon share session.
         If this does not do the trick - well we eat our hat! Yeh!



****************************************
Date:	Thursday September 18, 1997 @ 0:54
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv23259/examples

Modified Files:
	smb.conf.default 
Log Message:
JHT ===> More hacks!



****************************************
Date:	Thursday September 18, 1997 @ 3:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1551

Modified Files:
      Tag: BRANCH_1_9_17
	namedbname.c namedbresp.c namedbwork.c 
Log Message:
Ensuring malloced memory is bzero'd.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday September 18, 1997 @ 16:52
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23245

Modified Files:
	clitar.c 
Log Message:
John asked the other day about using the tar feature in smbclient to
handle file paths longer than 100 characters (the limit of the normal
tar format).

This patch adds support for producing GNU tar files (which have no
real limit on the path length) in smbclient.

Note that I have only added support for producing GNU tar files, I
haven't added support for accepting them when restoring. I thought I'd
leave that up to John :-)




****************************************
Date:	Thursday September 18, 1997 @ 17:05
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24525

Modified Files:
	reply.c 
Log Message:
added some debug stuff



****************************************
Date:	Thursday September 18, 1997 @ 22:47
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2211

Modified Files:
	access.c 
Log Message:

added timestamp to "Denied connection" message.



****************************************
Date:	Friday September 19, 1997 @ 5:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21771

Added Files:
	arcfour.h arcfour.c 
Log Message:
Added arcfour code needed for SMB password changing.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday September 19, 1997 @ 10:36
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4300

Modified Files:
	Support.txt 
Log Message:
Another South American consultant.



****************************************
Date:	Friday September 19, 1997 @ 10:48
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4993

Modified Files:
      Tag: BRANCH_1_9_17
	Support.txt 
Log Message:
Added South American consultant.



****************************************
Date:	Saturday September 20, 1997 @ 3:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16501

Modified Files:
	Makefile arcfour.h client.c loadparm.c mkproto.awk proto.h 
	username.c 
Log Message:
Makefile: Changed proto: target to not include c files not used currently.
          Caused proto.h to be from a sorted list of C files.
arcfour.h: Added prototypes.
client.c: Added username%password in environment patch from John Blair <jdblair@frodo.tucc.uab.edu>
loadparm.c: Added username manipulation code from Peter McCool [SMTP:peter@qimr.edu.au]
username.c: Added username manipulation code from Peter McCool [SMTP:peter@qimr.edu.au]
mkproto.awk: Added arc4_key type.
proto.h: Updated & sorted.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 20, 1997 @ 3:40
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv17181

Modified Files:
	smb.conf.5 smbclient.1 
Log Message:
smbclient.1: Added documentation of the username%password environment code.
smb.conf.5: Added 'username level' docs.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 20, 1997 @ 20:56
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv26001

Modified Files:
	smb.conf 
Log Message:
JHT ===> NETLOGON share MUST be share modes = no



****************************************
Date:	Saturday September 20, 1997 @ 20:57
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv23645

Modified Files:
      Tag: BRANCH_1_9_17
	samba-make.patch samba.spec smb.conf 
Log Message:
JHT ===> NETLOGON share must be share modes = no



****************************************
Date:	Saturday September 20, 1997 @ 21:06
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv26716/redhat

Modified Files:
	samba.pamd smb.conf 
Log Message:
JHT ===> Cosmetic surgery!



****************************************
Date:	Sunday September 21, 1997 @ 11:44
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv28304

Modified Files:
      Tag: BRANCH_1_9_17
	samba.pamd smb.conf 
Log Message:
JHT ===> Still trying to get these simple fixes to stick. Need better glue?



****************************************
Date:	Sunday September 21, 1997 @ 22:32
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19421

Modified Files:
	Makefile 
Log Message:
move RPM flag reference to correct place


****************************************
Date:	Tuesday September 23, 1997 @ 8:09
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22142

Modified Files:
      Tag: BRANCH_1_9_17
	Makefile includes.h quotas.c reply.c 
Log Message:
Makefile: Added glibc2 fixes for Linux.
includes.h: Added glibc2 fixes for Linux.
quotas.c: Added OSF1 fix.
reply.c: Added fix from Ray Frush <frush@engr.colostate.edu> to fix
zero times for NT clients. Also added old client session keepalives.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday September 24, 1997 @ 2:09
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4577

Modified Files:
	interface.c smb.h 
Log Message:

added code from Philip A Prindeville <philipp@enteka.com> which expands
the interfaces option to this:

"interfaces = le0 le1" or "interfaces = all".

it uses SIOCGIFxxxx ioctl calls.



****************************************
Date:	Wednesday September 24, 1997 @ 5:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16484

Modified Files:
	Makefile includes.h proto.h quotas.c reply.c server.c util.c 
Log Message:
Checkin to sync up oplock development code so that NT
domain development code won't diverge.

Makefile: Fixed make proto (again). Added GLIBC2 fixes for Linux.
includes.h: Added GLIBC2 fixes for Linux.
proto.h: Much tidier.
quotas.c: OSF/1 quota fix.
reply.c: Fix from Ray Frush <frush@engr.colostate.edu> for zero NT timestamps.
server.c util.c: First oplock checkin - nowhere near finished so bracketed
with #ifdef USE_OPLOCKS. Done to make sync with NT domain code easier.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday September 25, 1997 @ 10:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27814

Modified Files:
	Makefile includes.h locking.c proto.h server.c smb.h 
Log Message:
Makefile: Removed earlier errors.
includes.h: Added INADDR_LOOPBACK define.
locking.c: More code to support oplocks.
proto.h: Updated.
server.c: More code to support oplocks. Moved processing of an SMB out of
process() into a separate function so it is easier to call from an oplock
break.
smb.h: Added oplock fields.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday September 26, 1997 @ 3:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3682

Modified Files:
	smb.h 
Log Message:
Added missing slow share mode offset defines. Somehow
they got lost.
Jeremy (jallison@whistle.com).



****************************************
Date:	Friday September 26, 1997 @ 19:06
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25657

Modified Files:
	clitar.c 
Log Message:
add error string reporting to clitar



****************************************
Date:	Friday September 26, 1997 @ 22:39
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba_1.9.17/samba/source

Modified Files:
      Tag: BRANCH_1_9_17
	chgpasswd.c clientutil.c dir.c ipc.c loadparm.c local.h 
	locking.c mangle.c message.c nameannounce.c namedbname.c 
	namedbsubnet.c nameelect.c namelogon.c nmbd.c nmblib.c 
	nmblookup.c nmbsync.c pcap.c pipes.c printing.c proto.h 
	reply.c server.c system.c time.c trans2.c username.c util.c 
	vt_mode.c 
Log Message:
This commit fixes the security hole due to buffer overflows.

The main fix is just a couple of lines long, but I have now also put
precautionary checks on a large number of other places in the code
where unchecked string copies were being performed. An exploit via one
of these copies is unlikely, but is is better to be safe.

I also added a routine to log possible exploit attempts using the code
that was posted for obtaining root access on a Samba server.




****************************************
Date:	Friday September 26, 1997 @ 22:47
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba/source

Modified Files:
      Tag: BRANCH_1_9_17
	version.h 
Log Message:
preparing for release of 1.9.17p2


****************************************
Date:	Friday September 26, 1997 @ 23:09
Author:	tridge

Update of /data/cvs/samba
In directory samba:/data/people/tridge/samba_1.9.17/samba

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
add info about p2 release



****************************************
Date:	Saturday September 27, 1997 @ 1:04
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv17720/packaging/redhat

Modified Files:
      Tag: BRANCH_1_9_17
	makerpms.sh samba-make.patch samba.pamd samba.spec 
Log Message:
JHT ===> Ok - Ready for relase of 1.9.17p2. Let it go!



****************************************
Date:	Saturday September 27, 1997 @ 1:14
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv17668

Modified Files:
	makerpms.sh samba-make.patch samba.spec 
Log Message:
JHT ===> Samba-1.9.17p2 ready to rock and roll! Let it go!



****************************************
Date:	Saturday September 27, 1997 @ 4:55
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24225

Modified Files:
	chgpasswd.c clientutil.c dir.c ipc.c loadparm.c local.h 
	locking.c mangle.c message.c nameannounce.c namedbname.c 
	namedbsubnet.c nameelect.c namelogon.c nmbd.c nmblib.c 
	nmblookup.c nmbsync.c pcap.c pipes.c printing.c reply.c 
	server.c system.c time.c trans2.c username.c util.c vt_mode.c 
Log Message:
Adding Andrews buffer overflow fixes into the main branch.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 27, 1997 @ 5:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27777

Modified Files:
	interface.c 
Log Message:
Correctly rolled back interface.c (I was working on an older
revision). This will now be the current revision.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 27, 1997 @ 5:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24905

Modified Files:
	locking.c pipes.c proto.h reply.c server.c smb.h trans2.c 
	util.c 
Log Message:
Syncing up current oplock work in progress. #ifdef'ed out
so should have no effect on other work.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 27, 1997 @ 5:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28305

Modified Files:
	reply.c 
Log Message:
Fixed you're -> your text that some pedant complained about :-).
Jeremy (jallison@whistle.com).



****************************************
Date:	Saturday September 27, 1997 @ 5:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25871

Modified Files:
      Tag: BRANCH_1_9_17
	reply.c 
Log Message:
Fixed you're -> your text that some pedant complained about :-).
Jeremy (jallison@whistle.com).



****************************************
Date:	Saturday September 27, 1997 @ 7:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv953

Modified Files:
      Tag: BRANCH_1_9_17
	reply.c 
Log Message:
Cause overflow attack to return an error code rather than
terminate smbd. Terminating smbd allows a denial of service
attack for multi-user NT servers.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday September 27, 1997 @ 10:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14124

Modified Files:
      Tag: BRANCH_1_9_17
	reply.c 
Log Message:
Put back changes to abort on overflow attack after conversation
with Andrew.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday September 30, 1997 @ 4:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11024

Modified Files:
      Tag: BRANCH_1_9_17
	password.c 
Log Message:
Fixed potential security bug with receive_smb passing in
a pointer to a pstring instead of a full sized buffer.
Pointed out by : Matt Power mhpower@mit.edu

Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday September 30, 1997 @ 12:38
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8473

Modified Files:
	dir.c local.h password.c proto.h reply.c server.c smb.h util.c 
Log Message:
dir.c: more pstrcpys.
local.h: Add OPLOCK_BREAK_TIMEOUT.
password.c: Fix for paranoia password server security bug.
proto.h: Updated.
reply.c: Oplock changes.
server.c: Massive oplock changes - nearly there....
smb.h: oplock definitions.
util.c: Add local message processing queues for oplocks.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 1, 1997 @ 2:58
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv22835

Modified Files:
	Support.txt 
Log Message:
Changed consultant list.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 1, 1997 @ 3:13
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv14669

Modified Files:
      Tag: BRANCH_1_9_17
	Support.txt 
Log Message:
Syncing up Support providers.



****************************************
Date:	Thursday October 2, 1997 @ 9:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3562

Modified Files:
	local.h locking.c proto.h reply.c server.c smb.h status.c 
Log Message:
OPLOCK CHECK-IN - oplocks are now *OPERATIONAL* !!!!
Yipeee. At least as far as I can check in a short time :-).

local.h: Changed OPLOCK_BREAK_TIMEOUT to 30 seconds.
locking.c: Big changes to delete oplocks on a share mode entry.
proto.h: updated.
reply.c: Added oplock break code in lockingX reply & readbraw reply.
server.c: Add batch oplock code. Force server shutdown if client fails 
          to respond to oplock break.
smb.h: Fix silly slow share mode oplock define bug.
status.c: Add oplock status info.

Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 2, 1997 @ 10:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9639

Modified Files:
	server.c 
Log Message:
Fixed problem with oplock_type being set with no port.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 2, 1997 @ 12:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11837

Modified Files:
	server.c util.c 
Log Message:
Modified some debug messages, moved from 5 -> 8.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 2, 1997 @ 13:13
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13985

Modified Files:
	smb.conf.5 
Log Message:
change the semantics of hosts allow/hosts deny so that a global
setting applies to all shares regardless of any settings on other
shares. This allows us to immediately drop a connection if it does not
come from a allowed host, without even parsing the first SMB
packet. The next time we get a nasty security hole we can offer people
the option of just setting their hosts allow line.

If we drop a connection in this way we generate a "Not listening for
calling name" response and then exit.


add a per share "oplocks" option in smb.conf. I think its important to
be able to disable oplocks on a per-share basis as there are occasions
then they are definately not wanted, for example when sharing data
between a windows box and a unix application. This also allows us to
tell people "try disabling oplocks" when diagnosing problems.


fix a bug in process_smb(). It was taking the length of the packet
from outbuf, not inbuf (this bug was introduced with the oplocks
code). Jeremy, I assume this wasn't deliberate?




****************************************
Date:	Thursday October 2, 1997 @ 13:14
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10727

Modified Files:
	loadparm.c proto.h server.c 
Log Message:
change the semantics of hosts allow/hosts deny so that a global
setting applies to all shares regardless of any settings on other
shares. This allows us to immediately drop a connection if it does not
come from a allowed host, without even parsing the first SMB
packet. The next time we get a nasty security hole we can offer people
the option of just setting their hosts allow line.

If we drop a connection in this way we generate a "Not listening for
calling name" response and then exit.


add a per share "oplocks" option in smb.conf. I think its important to
be able to disable oplocks on a per-share basis as there are occasions
then they are definately not wanted, for example when sharing data
between a windows box and a unix application. This also allows us to
tell people "try disabling oplocks" when diagnosing problems.


fix a bug in process_smb(). It was taking the length of the packet
from outbuf, not inbuf (this bug was introduced with the oplocks
code). Jeremy, I assume this wasn't deliberate?




****************************************
Date:	Thursday October 2, 1997 @ 13:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26996

Modified Files:
	server.c 
Log Message:
Added debug message for oplock_break().
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 3, 1997 @ 0:11
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20387

Modified Files:
	reply.c server.c 
Log Message:
change a debug level in reply.c

change from ERRbaddirectory to ERRbadpath for ENOTDIR errors. This
reverts to the old Samba code. I've done quite a bit of testing
against NT4 and have yet to get it to produce the ERRbaddirectory
error code. Producing ERRbaddirectory made a visual basic application
that was sent to me not run. This might explain some of the "it
doesn't work any more" complaints we've got about 1.9.17.

Jeremy, can you remember how you got NT to produce ERRbaddirectory?
There might be some specific circumstances we need to cover.



****************************************
Date:	Friday October 3, 1997 @ 13:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9872

Modified Files:
	proto.h server.c smb.h trans2.c util.c 
Log Message:
proto.h: Updated.
server.c: Updated after netbench observation. Oplocks must be
broken *before* share modes are checked, not after. Netbench seems
to be working now.
smb.h: Added offsets for oplock break time fields.
trans2.c: Upped debug messages.
util.c: Upped debug messages.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 3, 1997 @ 13:34
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10710

Modified Files:
	proto.h server.c 
Log Message:
add "static" to a couple of functions that are only used locally.

set granted_oplock=False at the start of open_file(). This is
paranoia.




****************************************
Date:	Saturday October 4, 1997 @ 6:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11458

Modified Files:
	locking.c reply.c server.c trans2.c util.c 
Log Message:
locking.c: Fixed incorrect parameter count in debug statements. May explain
           solaris crashes.
reply.c: Added NT specific error code. Put oplock break code in correct place
         in reply_lockingX.
server.c: Removed unneeded error mapping stuff.
          Fixed race condition in oplock code.
trans2.c: Added NT specific error code.
util.c: Added paranoia check in interpret_addr. Some core dumps
        reported here. Upped fcntl debug levels.

Andrew. Please check the NT specific error code handling (search 
for the string "/* Ugly - NT specific hack - but needed (JRA) */",
this makes NT and 95 clients behave correctly here - please check
your Visual Basic apps with this code.

Jeremy (jallison@whistle.com).




****************************************
Date:	Saturday October 4, 1997 @ 9:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22174

Modified Files:
	locking.c 
Log Message:
Making it harder for share_mode_entries to be left with
non-zero op_type fields. Paranoia code really.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 4, 1997 @ 10:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22703

Modified Files:
	server.c 
Log Message:
Race condition with multiple oplock break requests happens 
more often than you might think (reproduced here with 4 clients
and netbench :-).
Raising debug log level for report from 1 to 3.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 4, 1997 @ 11:07
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23640/samba/source

Modified Files:
	nmblookup.c params.c 
Log Message:
nmblookup.c:
  I've added a -r option.  When specified, nmblookup will attempt to bind
  to port 137.  In order for this to work, the user must be root and the
  port must be available (i.e., nmbd not running).  If either condition is
  not met, nmblookup will default to normal behavior; it will try to bind
  to a free port above 7999.  I also removed an artifact.  The -p <port>
  option was being accepted but falling through to the default, which was
  the usage message.  I removed "p:" from the getopt() list.

params.c:
  Rewritten.  The scanning is much more linear, and I found and fixed a
  few bugs.  I don't like the way that the scratch buffer is handled,
  but I believe that it is an improvement over the previous version.

Chris -)-----




****************************************
Date:	Saturday October 4, 1997 @ 12:53
Author:	jht

Update of /data/cvs/samba/packaging/Solaris/pkg-specs
In directory samba:/tmp/cvs-serv5545/pkg-specs

Log Message:
Directory /data/cvs/samba/packaging/Solaris/pkg-specs added to the repository



****************************************
Date:	Saturday October 4, 1997 @ 12:57
Author:	jht

Update of /data/cvs/samba/packaging/Solaris/pkg-specs
In directory samba:/tmp/cvs-serv3901/pkg-specs

Added Files:
	Packaging.script mkprototype pkginfo postinstall postremove 
Log Message:
JHT ===> Added Sun Solaris binary package building spec files contributed
         by Tim Towers <tim@lorien.demon.co.uk>. Note: Not yet checked.



****************************************
Date:	Saturday October 4, 1997 @ 15:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6309

Added Files:
	nterr.h 
Log Message:
This is all the NT error codes less than 1000. I extracted them using
smbclient+netmon 

If we want to start supporting NT error codes in Samba (which may be
forced upon us by buggy apps) then this is a good start.



****************************************
Date:	Saturday October 4, 1997 @ 15:21
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7669

Modified Files:
	client.c 
Log Message:
a little hack to smbclient to support extracting NT error codes




****************************************
Date:	Saturday October 4, 1997 @ 15:21
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7045

Modified Files:
	clientutil.c 
Log Message:
a bit of bounds checking





****************************************
Date:	Saturday October 4, 1997 @ 15:24
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8737

Modified Files:
	server.c 
Log Message:
fix some "shadows global" errors.






****************************************
Date:	Sunday October 5, 1997 @ 2:10
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27411

Added Files:
	smbparse.c 
Log Message:

packet parsing routines.  for use in SMB and Mailslots



****************************************
Date:	Sunday October 5, 1997 @ 2:26
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26598

Modified Files:
	smb.h 
Log Message:

added structures readable and writeable by smbparse.c routines into and out
of SMB or Mailslot packets.



****************************************
Date:	Sunday October 5, 1997 @ 2:42
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22388

Modified Files:
	byteorder.h 
Log Message:

added some RW_XXXX wrapper macros with an extra i/o argument, to call XXXX
or SXXXX as appropriate.

added some for-loop pointer macros that will do a batch of data into a
(fixed length) buffer.  no length validation is done in the macro itself.

note: there are some CAREFUL_ALIGNMENT macros missing.  i think.




****************************************
Date:	Sunday October 5, 1997 @ 2:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27708

Modified Files:
	proto.h smb.h smbparse.c util.c 
Log Message:

proto.h:

- recreated, as usual.

smb.h:

- added RPC_HDR structure - the 18 byte MSRPC header

smbparse.c:

- added smb_io_rpc_hdr() function to read/write the RPC_HDR structure.

util.c:

- added align2, align4, align_offset functions.
- added skip_unicode_string, unistrcpy, unistrncpy functions.
- modified unistrcpy and unistrncpy to return the number of unicode
  characters returned, effectively making skip_unicode_string redundant.



****************************************
Date:	Sunday October 5, 1997 @ 21:56
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4728

Modified Files:
	smb.h smbparse.c 
Log Message:

smb.h:

added more structures, this time for the use in the query and response
of the LSA_XXXX functions.  next target: the NTLOGON mailslots (10 minutes
work).


smbparse.c:

tidying.  adding some more sub-structure functions.



****************************************
Date:	Sunday October 5, 1997 @ 22:39
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14883

Added Files:
	lsaparse.c 
Log Message:

processes LSA queries and responses to/from RPC data stream into structures.



****************************************
Date:	Monday October 6, 1997 @ 0:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1815

Modified Files:
	smb.h proto.h smbparse.c lsaparse.c 
Log Message:

updating lsa and smb parsing routines and structures.



****************************************
Date:	Monday October 6, 1997 @ 23:30
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28722

Modified Files:
	Makefile lsaparse.c smbparse.c smb.h proto.h 
Log Message:

Makefile:                      added lsaparse.c and smbparse.c
lsaparse.c, smbparse.c, smb.h: more functions / structures.
proto.h:                       the usual.



****************************************
Date:	Tuesday October 7, 1997 @ 0:52
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5153

Modified Files:
	lsaparse.c proto.h smb.h 
Log Message:

lsaparse.c smb.h: added 32 bit "return status" to the response structures.



****************************************
Date:	Tuesday October 7, 1997 @ 3:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15917

Modified Files:
	client.c locking.c params.c proto.h reply.c server.c smb.h 
	smbparse.c status.c util.c 
Log Message:
client.c: Changed shadowed variable.
locking.c: Removed USE_OPLOCKS - now the default.
params.c: Removed unused variable.
proto.h: Updated.
reply.c: Removed USE_OPLOCKS - now the default.
server.c: Removed USE_OPLOCKS - now the default.
smb.h: Removed USE_OPLOCKS - now the default.
smbparse.c: Changed shadowed variable.
status.c: Removed USE_OPLOCKS - now the default.
util.c: Removed USE_OPLOCKS - now the default.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 7, 1997 @ 5:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20704

Modified Files:
	locking.c 
Log Message:
Finally ! Found & fixed crash bug with logging message when deleting
invalid share mode entries. Thanks to berg@wienrg.aut.alcatel.at (Dietmar Berg)
for the stack backtrace.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 7, 1997 @ 5:54
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21077

Modified Files:
      Tag: BRANCH_1_9_17
	locking.c util.c 
Log Message:
locking.c: Finally fixed nasty crash bug when deleting invalid share
mode entries.
util.c: Tried to stop put_ip core dump seemingly caused
by bad returns from gethostbyname.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 7, 1997 @ 14:47
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8008

Modified Files:
	BUGS.txt MIRRORS.txt UNIX_INSTALL.txt announce samba.7 
Removed Files:
	samba.faq 
Log Message:
Removed samba.faq from the docs directory, it was out of date. All FAQs in 
docs/faq.

Replaced all reference to samba.canberra.edu.au/pub/samba/samba.html
with samba.anu.edu.au/samba/

Replaced references to ictinus@lake.canberra.edu.au
with ictinus@samba.anu.edu.au

Added 3 new mirrors, Greece, Poland, Romania
Paul.




****************************************
Date:	Tuesday October 7, 1997 @ 14:47
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory samba:/tmp/cvs-serv8008/faq

Modified Files:
	Samba-Server-FAQ.sgml Samba-meta-FAQ-2.html 
	Samba-meta-FAQ.sgml Samba-meta-FAQ.txt sambafaq-1.html 
	sambafaq-3.html sambafaq.sgml sambafaq.txt 
Log Message:
Removed samba.faq from the docs directory, it was out of date. All FAQs in 
docs/faq.

Replaced all reference to samba.canberra.edu.au/pub/samba/samba.html
with samba.anu.edu.au/samba/

Replaced references to ictinus@lake.canberra.edu.au
with ictinus@samba.anu.edu.au

Added 3 new mirrors, Greece, Poland, Romania
Paul.




****************************************
Date:	Tuesday October 7, 1997 @ 14:50
Author:	samba-bugs

Update of /data/cvs/samba/docs/faq
In directory samba:/tmp/cvs-serv11296

Modified Files:
	Samba-Server-FAQ.html Samba-meta-FAQ.html Samba-meta-FAQ.txt 
	sambafaq.html sambafaq.txt 
Log Message:
Oops forgot to run the sgml converters that one last time.
All done.
Paul.



****************************************
Date:	Tuesday October 7, 1997 @ 14:56
Author:	samba-bugs

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv9568

Modified Files:
	README 
Log Message:
More references to samba.canberra
Mental note: always commit from root directory. :^o
Paul.



****************************************
Date:	Tuesday October 7, 1997 @ 14:56
Author:	samba-bugs

Update of /data/cvs/samba/examples/misc
In directory samba:/tmp/cvs-serv9568/examples/misc

Modified Files:
	extra_smbstatus 
Log Message:
More references to samba.canberra
Mental note: always commit from root directory. :^o
Paul.



****************************************
Date:	Tuesday October 7, 1997 @ 21:14
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2899

Modified Files:
	includes.h 
Log Message:
get rid of SIGCLD_IGNORE for HPUX. A user reported it causing lots
of defunct smbd processes.

Andrew



****************************************
Date:	Tuesday October 7, 1997 @ 21:18
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16963

Modified Files:
      Tag: BRANCH_1_9_17
	includes.h 
Log Message:
get rid of SIGCLD_IGNORE for HPUX. A user reported it causing lots
of defunct smbd processes.

Andrew



****************************************
Date:	Wednesday October 8, 1997 @ 0:36
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2062

Modified Files:
	interface.c 
Log Message:
increase the debug level in the "added interface" debug line



****************************************
Date:	Wednesday October 8, 1997 @ 0:36
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12823

Modified Files:
      Tag: BRANCH_1_9_17
	interface.c 
Log Message:
increase the debug level in the "added interface" debug line



****************************************
Date:	Wednesday October 8, 1997 @ 0:38
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2112

Modified Files:
      Tag: BRANCH_1_9_17
	reply.c 
Log Message:
increase the debug level in the "client requested max ..." debug line



****************************************
Date:	Wednesday October 8, 1997 @ 0:58
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5992

Modified Files:
	lsaparse.c pipes.c proto.h smb.h smbparse.c 
Log Message:
pipes.c:

	some routines to create LSA RPC packets.  none of them are used.

lsaparse.c:
smbparse.c:
smb.h:

	more tidy-up.



****************************************
Date:	Wednesday October 8, 1997 @ 2:01
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5632

Modified Files:
	smbtar 
Log Message:
JHT ==> Fixing blocksize argument. Patch by: Llyod Whiteman
	<lwhitman@stm2.nrl.navy.mil>



****************************************
Date:	Wednesday October 8, 1997 @ 4:18
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv56

Modified Files:
	lsaparse.c pipes.c smb.h 
Log Message:

pipes.c:

	more static unused functions in pipes.c for the LSA RPC stream.

smb.h:

	corrections and altercations over the documentation

lsaparse.c:

	reflecting alterations in LSA structures...



****************************************
Date:	Wednesday October 8, 1997 @ 4:46
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3807

Modified Files:
	locking.c lsaparse.c pipes.c server.c smb.h smbparse.c 
Log Message:
locking.c: Added fix for race condition in slow share mode code.
lsaparse.c: #ifdef'ed out code so this will compile - LUKE PLEASE CHECK THIS.
pipes.c: #ifdef'ed out code so this will compile - LUKE PLEASE CHECK THIS.
server.c: Fixed last known oplock race condition.
smb.h: Re-removed USE_OPLOCK defines - someone checked in an old version.
smbparse.c: #ifdef'ed out code so this will compile - LUKE PLEASE CHECK THIS.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 8, 1997 @ 5:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26937

Modified Files:
      Tag: BRANCH_1_9_17
	locking.c 
Log Message:
Fixed nasty (but rare) race mode condition with slow share
mode code.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 8, 1997 @ 8:04
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19994

Modified Files:
	util.c 
Log Message:
I rewrote the name_mangle() and name_len().
The interface is the same, but I've simplified the code a bit and added
a few comments.  I tested the changes and the output is the same as that
produced by the original (at least, it was in all of my tests).  CRH



****************************************
Date:	Wednesday October 8, 1997 @ 10:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10835

Modified Files:
	ipc.c server.c 
Log Message:
ipc.c: Added ERROR_MORE_DATA error if client buffer too small.
server.c: Allow admin_user on read only shares. I think this is
safe but it needs looking at.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 8, 1997 @ 10:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19208

Modified Files:
      Tag: BRANCH_1_9_17
	ipc.c 
Log Message:
Added ERROR_MORE_DATA fix when replies have been truncated.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 8, 1997 @ 12:18
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19834

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.5 
Log Message:
put this in 1.9.17 also ...

change the semantics of hosts allow/hosts deny so that a global
setting applies to all shares regardless of any settings on other
shares. This allows us to immediately drop a connection if it does not
come from a allowed host, without even parsing the first SMB
packet. The next time we get a nasty security hole we can offer people
the option of just setting their hosts allow line.

If we drop a connection in this way we generate a "Not listening for
calling name" response and then exit.



****************************************
Date:	Wednesday October 8, 1997 @ 12:18
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2550

Modified Files:
      Tag: BRANCH_1_9_17
	server.c 
Log Message:
put this in 1.9.17 also ...

change the semantics of hosts allow/hosts deny so that a global
setting applies to all shares regardless of any settings on other
shares. This allows us to immediately drop a connection if it does not
come from a allowed host, without even parsing the first SMB
packet. The next time we get a nasty security hole we can offer people
the option of just setting their hosts allow line.

If we drop a connection in this way we generate a "Not listening for
calling name" response and then exit.



****************************************
Date:	Wednesday October 8, 1997 @ 21:47
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11120

Modified Files:
	lsaparse.c pipes.c smbparse.c 
Log Message:

updating lsaparse.c and smbparse.c in line with changes to pipes.c and smb.h
from yesterday.



****************************************
Date:	Thursday October 9, 1997 @ 3:12
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24451

Modified Files:
	loadparm.c lsaparse.c pipes.c proto.h smb.h 
Log Message:

loadparm.c proto.h:

	added lp_domainsid()

lsaparse.c smb.h:

	debugging structures and parsing functions

pipes.c:

	finally got to the functions that will go into the RPC switch statement.



****************************************
Date:	Thursday October 9, 1997 @ 4:36
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23133

Modified Files:
	pipes.c 
Log Message:

added api_lsa_lookup_sids() function



****************************************
Date:	Thursday October 9, 1997 @ 6:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv906

Modified Files:
	Makefile includes.h pipes.c quotas.c server.c 
Log Message:
Makefile: Split definitions for SGI4,5,6.
includes.h: Split definitions for SGI4,5,6.
pipes.c: Moved Luke's #ifdef to remove warnings.
quotas.c: Two changes for FreeBSD and SGI.
server.c: Quota changes for large filesystems.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 9, 1997 @ 7:36
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8256

Modified Files:
	pipes.c 
Log Message:

added a dummy function (space in front so make proto doesn't pick it up)
to call the unused static functions in pipes.c.  avoids need to move
#if UNDEFINED_NTDOMAIN about, to stop compiler warnings while code is
being developed, but might be released as-is.



****************************************
Date:	Thursday October 9, 1997 @ 8:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17195

Modified Files:
	predict.c 
Log Message:
Put in fix for read-prediction extending files bug. Hard to test, can't
get read-prediction to happen :-).
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 9, 1997 @ 10:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10053

Modified Files:
      Tag: BRANCH_1_9_17
	predict.c quotas.c server.c 
Log Message:
predict.c: stop lseek from extending file. Hard to test.
proto.h: updated.
quotas.c: Added FreeBSD fixes.
server.c: Added quota overflow fix for large filesystems. Rolled 
back to old error codes.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 9, 1997 @ 14:09
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20776

Added Files:
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h ubi_dLinkList.c 
	ubi_dLinkList.h 
Log Message:
This is my library of lists and trees.  My hope is to replace all of the
hard coded linked lists that are currently used in Samba with calls to
these modules.  This should make the code simpler, smaller, and (I hope)
faster.  The tree code, in particular, should speed up processing where
large lists are involved.

Chris -)-----



****************************************
Date:	Thursday October 9, 1997 @ 16:36
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2186

Modified Files:
	clientutil.c includes.h local.h reply.c server.c 
Log Message:
bracket some macros

change MAX_PASSWORD_LENGTH to MAX_PASS_LEN to prevent conflict on some
systems

add #ifdef around soft link dependent code (for systems that don't
have soft links)







****************************************
Date:	Thursday October 9, 1997 @ 16:47
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5046

Modified Files:
      Tag: BRANCH_1_9_17
	local.h reply.c 
Log Message:
change MAX_PASSWORD_LENGTH to MAX_PASS_LEN to prevent conflict on some
systems



****************************************
Date:	Thursday October 9, 1997 @ 20:01
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19404

Added Files:
	credentials.c 
Log Message:
an implementation of the NT domain credentials protocol





****************************************
Date:	Thursday October 9, 1997 @ 21:24
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6095

Added Files:
	smbadduser 
Log Message:
JHT ===> Added smbadduser contributed by Mike Zakharoff.



****************************************
Date:	Friday October 10, 1997 @ 0:40
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27781

Modified Files:
	credentials.c pipes.c proto.h smb.h smbparse.c util.c 
Log Message:

credentials.c:

	use UTIME structure (defined and commented in smb.h to be time, secs,
                         since 01jan1970)

pipes.c:

	another sub-function.

util.c:

	added char *unistr2(uint16 *buff) function.  same as unistr except
    it takes uint16* instead of char*.

smbparse.c smb.h:

	more structure sorting.

proto.h:

	the usual.



****************************************
Date:	Friday October 10, 1997 @ 1:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26057

Modified Files:
	pipes.c smb.h 
Log Message:

pipes.c:

	added api_ntlsarpcTNP() function.  hooray!

smb.h:

	added LSA #defines needed by above function.



****************************************
Date:	Friday October 10, 1997 @ 1:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25782

Modified Files:
	byteorder.h 
Log Message:

moved the array macros outside of the CAREFUL_ALIGNMENT define.



****************************************
Date:	Friday October 10, 1997 @ 2:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2024

Modified Files:
	ipc.c pipes.c proto.h 
Log Message:

added #ifdef NTDOMAIN.  added call to api_ntLsarpc instead of api_Lsarpc
in ipc.c iff NTDOMAIN is defined.



****************************************
Date:	Friday October 10, 1997 @ 4:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10412

Modified Files:
	local.h namedbsubnet.c reply.c server.c trans2.c 
Log Message:
local.h: Fix spelling mistake :-).
namedbsubnet.c: Stop registering 1x name unless we can be a local master.
reply.c: Remove ERRbaddirectory code.
server.c: Remove abort() - use exit_server() instead.
trans2.c: Remove ERRbaddirectory code.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 10, 1997 @ 4:48
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv15330

Modified Files:
	smb.conf.5 
Log Message:
Added definition of oplocks parameter.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 10, 1997 @ 6:30
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv17282

Modified Files:
	Speed.txt 
Log Message:
Added in oplock info.
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 10, 1997 @ 11:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7189

Modified Files:
	nmblookup.c smb.h trans2.c 
Log Message:
nmblookup.c: Added -A ability to do status on ip address.
smb.h: Added defines we will need for NT SMB calls.
trans2.c: Fixed SMB_QUERY_FILE_ALT_NAME_INFO return - this is only
for short name returns (and only used when you negotiate NT SMB calls
to boot !).
Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 10, 1997 @ 12:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7606

Modified Files:
	util.c 
Log Message:
fixed the log wrapping bug.

This is a very nasty bug that I think explains quite a few
intermittent problems people have been having with Samba.

It may be worth checking on other cases where errno can be overwritten
by seemingly innocuous things (in this case a DEBUG() line)



****************************************
Date:	Friday October 10, 1997 @ 12:35
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv380

Modified Files:
      Tag: BRANCH_1_9_17
	util.c 
Log Message:
fixed the log wrapping bug.

This is a very nasty bug that I think explains quite a few
intermittent problems people have been having with Samba.

It may be worth checking on other cases where errno can be overwritten
by seemingly innocuous things (in this case a DEBUG() line)



****************************************
Date:	Friday October 10, 1997 @ 21:52
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12852

Modified Files:
	BROWSING.txt 
Log Message:

corrected paragraph giving the impression that samba can be a domain master
for multiple workgroups.



****************************************
Date:	Saturday October 11, 1997 @ 0:12
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9684

Removed Files:
	ubi_AVLtree.h ubi_BinTree.h ubi_SplayTree.h ubi_dLinkList.h 
Log Message:
After generating some discussion, listening to the opinions, and thinking
it over, I've decided to move the tree & list code into a subdirectory.
CRH



****************************************
Date:	Saturday October 11, 1997 @ 0:13
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13025

Removed Files:
	ubi_AVLtree.c ubi_BinTree.c ubi_SplayTree.c ubi_dLinkList.c 
Log Message:
After generating some discussion, listening to the opinions, and thinking
about it for a while, I've decided to move the tree & list code into a
separate subdirectory.



****************************************
Date:	Saturday October 11, 1997 @ 0:24
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv13449/ubiqx

Log Message:
Directory /data/cvs/samba/source/ubiqx added to the repository



****************************************
Date:	Saturday October 11, 1997 @ 0:46
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv9595

Added Files:
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h ubi_dLinkList.c 
	ubi_dLinkList.h 
Log Message:
This is the ubiqx binary tree and linked list library.
This library is being included as part of the Samba distribution.
(Hurray!)



****************************************
Date:	Saturday October 11, 1997 @ 0:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11879

Modified Files:
	Makefile credentials.c password.c pipes.c proto.h server.c 
	smb.h smbdes.c uid.c 
Log Message:

Makefile:

	added credentials.c to smbd

credentials.c:

	using credential structures instead of char*

password.c uid.c server.c:

	added sid and attr to user_struct.

smbdes.c:

	smbhash and str_to_key make public instead of private.

pipes.c smb.h:

	lsa structures, sub-functions.

proto.h:

	usual.



****************************************
Date:	Saturday October 11, 1997 @ 2:12
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv26559

Added Files:
	Makefile 
Log Message:
I have to admit that I'm not very good at writing Makefiles.
This one will simply create an object file from each of the .c files
in the directory.  These could be linked into a static library, but
I'm not sure that this is worthwhile.  If anyone wants to improved on
what I've got here, please do!  crh -)-----



****************************************
Date:	Saturday October 11, 1997 @ 2:40
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17488

Modified Files:
	ipc.c lsaparse.c pipes.c proto.h 
Log Message:

ipc.c :

	#if NTDOMAIN
		call to api_netlogRPC
	#endif

lsaparse.c :

	renamed lsa_io_q_auth2 to lsa_io_q_auth_2.

pipes.c :

	added api_lsa_reply_auth_2() and api_netlogRPC.

proto.h :

	the usual.



****************************************
Date:	Saturday October 11, 1997 @ 4:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23651

Modified Files:
	pipes.c smb.h 
Log Message:

added lsa_reply_srv_pwset()



****************************************
Date:	Saturday October 11, 1997 @ 5:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1951

Modified Files:
	pipes.c 
Log Message:

added api_lsa_sam_logon() and api_sam_logoff().  that's it.  lots of
run-time debugging, now.



****************************************
Date:	Saturday October 11, 1997 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23981

Modified Files:
	proto.h 
Log Message:

the usual



****************************************
Date:	Saturday October 11, 1997 @ 8:59
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv10014

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
Updating for 1.9.17p3 release.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 11, 1997 @ 9:02
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv23860

Modified Files:
      Tag: BRANCH_1_9_17
	BROWSING.txt 
Log Message:
Added Luke's changes to release tree.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 11, 1997 @ 12:50
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv10969/docs

Modified Files:
	MIRRORS.txt 
Log Message:
Updated mirrors, combined Sources and Sources&Binaries as our binaries
are now with our sources.
Have requested that mirror sites remove the old 'binaries' tree.
Paul.




****************************************
Date:	Saturday October 11, 1997 @ 13:53
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11590

Modified Files:
	MIRRORS.txt 
Log Message:
updated Sunsite UK. (Paul)



****************************************
Date:	Sunday October 12, 1997 @ 1:10
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8528

Modified Files:
	namelogon.c namepacket.c nameserv.h proto.h util.c 
Log Message:

namelogon.c :

	added NTLOGON.  (fixed the case 0:)

namepacket.c:

	call to NTLOGON mailslot

nameserv.h

	defines for NETLOGON and NTLOGON mailslot

util.c:

	added andrew's dump_data() function.



****************************************
Date:	Sunday October 12, 1997 @ 2:03
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6266

Modified Files:
	BROWSING.txt 
Log Message:
JHT ==> Luke, your forgot to change the modified date!



****************************************
Date:	Sunday October 12, 1997 @ 13:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2520

Modified Files:
	mangle.c 
Log Message:
remove { and } from the list of illegal characters in filenames. The
CIFS3 spec does not list them as illegal.

This allows things like the control panel icon to be placed on a Samba
drive.



****************************************
Date:	Sunday October 12, 1997 @ 13:49
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21318

Modified Files:
      Tag: BRANCH_1_9_17
	mangle.c 
Log Message:
remove { and } from the list of illegal characters in filenames. The
CIFS3 spec does not list them as illegal.

This allows things like the control panel icon to be placed on a Samba
drive.



****************************************
Date:	Sunday October 12, 1997 @ 14:40
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2261/docs

Modified Files:
	MIRRORS.txt 
Log Message:
Added Finland ftp mirror (PR#175) (Paul)



****************************************
Date:	Sunday October 12, 1997 @ 21:46
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17843

Modified Files:
	byteorder.h lsaparse.c pipes.c proto.h util.c 
Log Message:

added debugging macros (suitable eventually for use in tcpdump, hopefully)



****************************************
Date:	Monday October 13, 1997 @ 0:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12978

Modified Files:
	ipc.c lsaparse.c pipes.c proto.h smbparse.c 
Log Message:

ipc.c:

	debugging info.  found that data = NULL because of short packet length
	indicated from the ntlsaRPC pipe _royally_ stuffs NT's packet handling.
	maybe this should go down as a service denial bug to the ntbugtraq list.

pipes.c lsaparse.c smbparse.c :

	added more debug stuff.  added length of header to data_len in MSRPC
	fragment_length field (0x18 bytes short) which caused the above bug
	from NT 4.0.  oops.



****************************************
Date:	Monday October 13, 1997 @ 3:07
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13620

Modified Files:
	pipes.c smb.h smbparse.c 
Log Message:

updated rpc header reply: callid wrong; alloc hint a uint32 not a uint16.
still doesn't get rid of the netlogon trans2 request with zero data.



****************************************
Date:	Monday October 13, 1997 @ 5:02
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22260

Modified Files:
	byteorder.h ipc.c lsaparse.c pipes.c proto.h smbparse.c 
Log Message:

getting somewhere.

ipc.c :

	removed srvsvc pipe reference: have to do that.

pipes.c lsaparse.c smbparse.c :

	more debugging info.  looks a bit like netmon output.



****************************************
Date:	Monday October 13, 1997 @ 9:51
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv7328

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.5 
Log Message:
updated the "comment =" entry a bit



****************************************
Date:	Monday October 13, 1997 @ 10:03
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12260

Modified Files:
	smb.conf.5 
Log Message:
updated the "comment =" entry a bit

updated the fake oplocks entry a bit



****************************************
Date:	Monday October 13, 1997 @ 21:15
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18032

Modified Files:
	util.c 
Log Message:

align_offset() adjusted pointer to wrong location.  oops.



****************************************
Date:	Monday October 13, 1997 @ 22:13
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2171

Modified Files:
	smbadduser 
Log Message:
JHT ==> Removed linefeed that caused problems.



****************************************
Date:	Monday October 13, 1997 @ 22:21
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1144

Modified Files:
	byteorder.h credentials.c lsaparse.c pipes.c smbparse.c 
	smbpasswd.c 
Log Message:

byteorder.h :

	debugging output wasn't (still isn't) perfect.

credentials.c lsaparse.c smbparse.c :

	added DEBUG strings.

pipes.c :

	lost some changes, to do with setup of RPC headers.  arg.



****************************************
Date:	Monday October 13, 1997 @ 22:55
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10681

Modified Files:
	pipes.c 
Log Message:

checked in a file with a compile error.  oops!



****************************************
Date:	Monday October 13, 1997 @ 23:00
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv21294/examples

Modified Files:
	smb.conf.default 
Log Message:
JHT ==> Getting ready for 1.9.18alpha1.
examples/smb.conf.default:
	added line "share modes = no" to netlogon share parameter list

packaging/redhat:
	updated RedHat RPM build files.
	added smbadduser script (modified for RHL).



****************************************
Date:	Monday October 13, 1997 @ 23:01
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv21294/packaging/redhat

Modified Files:
	makerpms.sh samba-make.patch samba.spec 
Added Files:
	smbadduser 
Log Message:
JHT ==> Getting ready for 1.9.18alpha1.
examples/smb.conf.default:
	added line "share modes = no" to netlogon share parameter list

packaging/redhat:
	updated RedHat RPM build files.
	added smbadduser script (modified for RHL).



****************************************
Date:	Monday October 13, 1997 @ 23:06
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv13517

Modified Files:
	samba.spec 
Log Message:
JHT ==> samba.spec had a typo. Darn crazy keyboards!



****************************************
Date:	Monday October 13, 1997 @ 23:35
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12697

Modified Files:
	byteorder.h credentials.c pipes.c 
Log Message:

debug info added



****************************************
Date:	Monday October 13, 1997 @ 23:49
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24895

Modified Files:
	smbpasswd.c 
Log Message:
reverted a change made by Luke at his request.

Luke, when you don't know what has been changed in the CVS tree I
highly recommend you point your browser at:

	http://samba.anu.edu.au/cgi-bin/cvsweb/samba/source

If you click on a filename you can then see all the commits and
changes that have been made to it over time. You can also download any
version of the file or find the differences between any two versions.

All of this is not dependent on the state of your local CVS sandbox,
so it can be used to find out the "true" state of the tree at any
time.

If you suspect some sort of CVS problem (like a change getting
reverted) then please use the above URL to work out what has
happened. You should be able to see exactly who made what changes and
when.




****************************************
Date:	Tuesday October 14, 1997 @ 0:19
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10502

Modified Files:
	credentials.c pipes.c 
Log Message:

debugging... no idea what i'm doing.



****************************************
Date:	Tuesday October 14, 1997 @ 0:44
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv17845

Modified Files:
	samba.spec 
Log Message:
JHT ==> Samba.spec file for RHL 4.2




****************************************
Date:	Tuesday October 14, 1997 @ 1:55
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7804

Modified Files:
	Makefile pipes.c proto.h 
Added Files:
	pipenetlog.c pipentlsa.c pipeutil.c 
Log Message:

split pipes.c down into util, netlog and ntlsa.



****************************************
Date:	Tuesday October 14, 1997 @ 2:32
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25315

Modified Files:
	pipenetlog.c 
Log Message:

resolving some of the confusion over credentials.



****************************************
Date:	Tuesday October 14, 1997 @ 3:11
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22790

Modified Files:
	pipenetlog.c 
Log Message:

put a check around become_user().  doesn't authenticate the user, but doesn't
quit the whole pipe, either...



****************************************
Date:	Tuesday October 14, 1997 @ 4:11
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25113

Modified Files:
	lsaparse.c 
Log Message:

lsa_io_r_req_chal() - challenge is not 4-byte aligned after the unicode
                      strings.



****************************************
Date:	Tuesday October 14, 1997 @ 5:37
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10536

Modified Files:
	lsaparse.c 
Log Message:

another alignment of client challenge: this one in lsa_io_q_auth_2().
there are going to be a few of these...



****************************************
Date:	Tuesday October 14, 1997 @ 10:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9496

Modified Files:
	locking.c 
Log Message:
Added fixes for become_user braindamage.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 14, 1997 @ 10:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11810

Modified Files:
	locking.c 
Log Message:
Broke my own rule about checking in uncompiled source :-(.
Jeremy.



****************************************
Date:	Tuesday October 14, 1997 @ 11:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17221

Modified Files:
      Tag: BRANCH_1_9_17
	locking.c 
Log Message:
Updated to stop problems with become_user.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 14, 1997 @ 12:53
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12323

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.5 
Log Message:
minor fixes to mangling and oplocks entries in man page



****************************************
Date:	Tuesday October 14, 1997 @ 19:15
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv71

Modified Files:
      Tag: BRANCH_1_9_17
	ipc.c locking.c pipes.c proto.h reply.c server.c system.c 
	trans2.c uid.c 
Log Message:
add become_root()/unbecome_root() calls. These should be used around
regions of the code that need root privilages but which normally don't
have them (ie. when processing most SMBs). These functions can
optionally save/restore the current working directory as well

updated several places in the code that previously used unbecome_user()
to achieve the same thing to now use become_root() and unbecome_root()

changed close_file() to take an additional argument which says whether
this is a normal SMBclose type call or a close that resulted from some
other action, such as the close of a connection. If it is a abnormal
close then don't use magic scripts or print files.

changed sys_utime() to ignore any attempt to set the modification time
to 0 or -1. We've had reports that files have had their time set to
0 so this should catch those. 






****************************************
Date:	Tuesday October 14, 1997 @ 20:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9183

Modified Files:
	pipenetlog.c 
Log Message:

changed *(uint32*)(clnt_cred) to SIVAL(clnt_cred, ....)



****************************************
Date:	Tuesday October 14, 1997 @ 23:12
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2544/docs

Modified Files:
	DIAGNOSIS.txt 
Log Message:
docs/DIAGNOSIS.txt:
	Added comment right up front about "your server is being unfriendly"
	type error messages.

source/Makefile:
	Added compile options for RedHat Linux 5.0 series.



****************************************
Date:	Tuesday October 14, 1997 @ 23:12
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2544/source

Modified Files:
	Makefile 
Log Message:
docs/DIAGNOSIS.txt:
	Added comment right up front about "your server is being unfriendly"
	type error messages.

source/Makefile:
	Added compile options for RedHat Linux 5.0 series.



****************************************
Date:	Tuesday October 14, 1997 @ 23:18
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv14522/docs

Modified Files:
      Tag: BRANCH_1_9_17
	DIAGNOSIS.txt 
Log Message:
docs/DIAGNOSIS.txt:
	Added comments up front about "your server is being unfriendly"
	and need to check IP name resolution.



****************************************
Date:	Wednesday October 15, 1997 @ 2:09
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv26471/packaging/redhat

Modified Files:
	makerpms.sh samba-make.patch samba.spec 
Log Message:
 preparing for release of samba-1.9.17p3 - now ready to go.



****************************************
Date:	Wednesday October 15, 1997 @ 3:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8550

Modified Files:
	byteorder.h credentials.c pipenetlog.c pipentlsa.c pipeutil.c 
	proto.h smb.h smbparse.c 
Log Message:

credentials, query info reply.



****************************************
Date:	Wednesday October 15, 1997 @ 4:37
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18180

Modified Files:
	byteorder.h pipentlsa.c pipeutil.c smbparse.c 
Log Message:

byteorder.h:

	created a RW_PIVAL macro which was missing.

smbparse.c:

	smb_io_dom_sid() was storing its sub-authorities as uint16s instead
	of uint32s.  used the DBG_RW_PIVAL macro instead of DBG_RW_PSVAL.

pipentlsa.c:

	not sure.  something to do with the Query Info reply.

pipeutil.c:

	make_rpc_reply() had the packed representation field set to 0x0100 0000
	instead of 0x1000 0000, which had the interesting result of turning all
	uint32 and uint16 field byte ordering the other way round!



****************************************
Date:	Wednesday October 15, 1997 @ 5:30
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv25240

Added Files:
	COPYING 
Log Message:
Added a copy of the LGPL to the samba/ubiqx/ directory.



****************************************
Date:	Wednesday October 15, 1997 @ 5:31
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25957

Modified Files:
	pipentlsa.c smbparse.c 
Log Message:

pipentlsa.c :

	lsa close odd bug.

smbparse.c :

	smb_io_dom_sid() _does_ need 4-byte alignment before it.



****************************************
Date:	Wednesday October 15, 1997 @ 5:32
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv23226

Added Files:
	BinaryTrees.readme 
Log Message:
Added a very small piece of documentation to describe the binary tree
modules.



****************************************
Date:	Wednesday October 15, 1997 @ 11:16
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv7419

Added Files:
	README 
Log Message:
First draft of a README file to explain the origins of the "ubiqx" code.



****************************************
Date:	Wednesday October 15, 1997 @ 11:34
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/source

Modified Files:
      Tag: BRANCH_1_9_17
	util.c 
Log Message:
Added #ifdef'ed code with BIND_LOCAL_OUTPUT_SOCKET that causes
optput sockets to be bound to the same local address as input
ones are.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 15, 1997 @ 11:34
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
Updated for 1.9.17p3 release.
Jeremy (jallison@whistle,com):



****************************************
Date:	Wednesday October 15, 1997 @ 11:38
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/source

Modified Files:
      Tag: BRANCH_1_9_17
	version.h 
Log Message:
preparing for release of 1.9.17p3


****************************************
Date:	Wednesday October 15, 1997 @ 13:11
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv26166

Modified Files:
	ubi_dLinkList.c ubi_dLinkList.h 
Log Message:
These are the ubiqx modules, as included with the Samba distribution.
Updated the linked list module, which has new and changed macros.



****************************************
Date:	Wednesday October 15, 1997 @ 14:04
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11532

Modified Files:
	password.c 
Log Message:
force the salt to be a maximum of 2 characters long in calls
to crypt()

This might solve some password problems, particulary on HPUX



****************************************
Date:	Wednesday October 15, 1997 @ 14:51
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14239

Modified Files:
	credentials.c pipenetlog.c 
Log Message:
fixed a stack overflow bug in api_lsa_req_chal()

changed the order of arguments to smbhash() in credentials.c. Luke,
when you changed from E1() to smbhash() you didn't notice that the
arguments are in a different order. This is why your new code was
failing.

NT logon still fails, but now gets to SAMLOGON. It shouldn't take much
to get it working now.




****************************************
Date:	Wednesday October 15, 1997 @ 19:15
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	nameannounce.c namebrowse.c namedbresp.c nameelect.c 
	namepacket.c nameresp.c nameserv.c nameserv.h nameservreply.c 
	nameservresp.c namework.c 
Log Message:
fixed the freeze on logout bug. The fix has several parts:

1) add a new parameter to queue_netbios_packet(), the "reply_id", this
is the id that should be used when sending a further response to the
packet (such as a response after we get back a reply to a name query
after senidnga  WACK). reply_id is 0 (meaning unused) in most cases.

2) fix the id used in the reply in add_name_respond() from
response_name_query_register() 

3) remember to remove the response record at the end of
response_name_query_register()

4) get the right IP address (it was 0.0.0.0) in
response_name_query_register()

5) add a new field reply_id to struct response_record




****************************************
Date:	Wednesday October 15, 1997 @ 19:16
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	interface.c 
Log Message:
added loopback_ip. This is used to detect packets from ourselves 



****************************************
Date:	Wednesday October 15, 1997 @ 19:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	nmblib.c 
Log Message:
add the port number to a debug statement




****************************************
Date:	Wednesday October 15, 1997 @ 19:18
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	proto.h 
Log Message:
the usual proto.h update





****************************************
Date:	Wednesday October 15, 1997 @ 19:39
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21319

Modified Files:
      Tag: BRANCH_1_9_17
	interface.c nameannounce.c namebrowse.c namedbresp.c 
	nameelect.c namepacket.c nameresp.c nameserv.c nameserv.h 
	nameservreply.c nameservresp.c namework.c nmblib.c proto.h 
Log Message:
added the "freeze on logout" fixes to the 1.9.17 tree



****************************************
Date:	Thursday October 16, 1997 @ 2:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14384

Modified Files:
	ipc.c pipes.c proto.h smb.h 
Log Message:

added srvsvc basic pipe, straight from paul's code.  does NETSHAREENUM
and NETSERVERGETINFO.



****************************************
Date:	Thursday October 16, 1997 @ 3:59
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv2959/ubiqx

Modified Files:
	Makefile 
Added Files:
	ubi_sLinkList.c ubi_sLinkList.h 
Log Message:
Added ubi_sLinkList module which manages simple singly-linked lists.



****************************************
Date:	Thursday October 16, 1997 @ 5:16
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25328

Modified Files:
	byteorder.h credentials.c pipenetlog.c proto.h reply.c smb.h 
	smbparse.c 
Log Message:

smb.h smbparse.c pipenetlog.c :

	whoops, the SAM Logon structure was wrong.  updated this, and
	cifsntdomain.txt.  more debug info in pipenetlog.c.  the crash
	is somewhere around deal_with_credentials().

byteorder.h :

	put in uint8, uint16 and uint32 typecasts around debug info, because
	sign extending was resulting in ffffffe8 being displayed instead of e8.

credentials.c :

	some debugging info, because i'm tracking a coredump.  without gdb.
	nothing like making things difficult.

reply.c :

	whoops, missed this (important) bit from paul's code, which tells
	the NT workstation that the MACHINE$ entry doesn't already exist,
	and we're going to create a default entry with a password "machine"
	right now.

proto.h:

	the usual.



****************************************
Date:	Thursday October 16, 1997 @ 7:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18780

Modified Files:
	ipc.c locking.c pipes.c proto.h reply.c server.c trans2.c 
	uid.c 
Log Message:
ipc.c: Adding Andrews become_root code to the main branch.
locking.c: Adding Andrews become_root code to the main branch.
pipes.c: Fixing the close_file issue.
proto.h: The usual.
reply.c: Move smb_pass into NTDOMAIN defined code. Fixing the close_file issue.
server.c: Fixing the close_file issue.
trans2.c: Fixing the close_file issue.
uid.c: Adding Andrews become_root code to the main branch.
Jeremy (jallison@whistle.com)



****************************************
Date:	Thursday October 16, 1997 @ 10:19
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv5234

Modified Files:
      Tag: BRANCH_1_9_17
	makerpms.sh samba-make.patch samba.spec 
Log Message:
Putting into BRANCH_1_9_17 what I lost!



****************************************
Date:	Thursday October 16, 1997 @ 10:25
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv26192

Modified Files:
	makerpms.sh samba-make.patch samba.spec 
Log Message:
Ready for release of 1.9.18alpha1



****************************************
Date:	Thursday October 16, 1997 @ 10:46
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv22299/ubiqx

Removed Files:
	BinaryTrees.readme ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c 
	ubi_BinTree.h ubi_SplayTree.c ubi_SplayTree.h ubi_dLinkList.c 
	ubi_dLinkList.h ubi_sLinkList.c ubi_sLinkList.h 
Log Message:
I got fed up trying to put the tree and list stuff into a subdirectory,
so I've started to move them into the main directory.



****************************************
Date:	Thursday October 16, 1997 @ 10:55
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27145

Added Files:
	ubi_dLinkList.c ubi_dLinkList.h 
Log Message:
This code manages a simple doubly-linked list.



****************************************
Date:	Thursday October 16, 1997 @ 10:58
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19311

Modified Files:
	Makefile 
Log Message:
Added ubi_dLinkList to the Makefile (and remembered to leave my platform
information commented out!).



****************************************
Date:	Thursday October 16, 1997 @ 11:03
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22159

Modified Files:
	dir.c 
Log Message:
Made changes to the dir cache functions:
- They now use the ubi_dLinkList linked list code.
  This is not a big gain, I suppose.  It would be significant if there
  were lots of doubly-linked lists in the code and I replaced them all.
  The only other advantage is that the code is more modular, which
  appeals to my own sense of order, if no one elses.  :-}
- I allocate space for the entry structure and the strings in one go,
  instead of using malloc() and separate strdup() calls.  This should
  be more efficient, and allows for a single call to free() to free the
  whole thing.
These are very minor changes, but they do serve to make me more familiar
with the code overall.



****************************************
Date:	Thursday October 16, 1997 @ 11:06
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv5195

Removed Files:
	Makefile 
Log Message:
Don't need it any more.



****************************************
Date:	Thursday October 16, 1997 @ 11:13
Author:	crh

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv28719/samba

Added Files:
	COPYING.LGPL 
Log Message:
Moved the LGPL from the ubiqx directory into the samba root directory
and renamed it COPYING.LGPL.  This is because the ubi_* files are under
LGPL, not regular GPL.
Removed the last few things from the ubiqx directory and deleted it.



****************************************
Date:	Thursday October 16, 1997 @ 11:13
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv28719/samba/source/ubiqx

Removed Files:
	COPYING README 
Log Message:
Moved the LGPL from the ubiqx directory into the samba root directory
and renamed it COPYING.LGPL.  This is because the ubi_* files are under
LGPL, not regular GPL.
Removed the last few things from the ubiqx directory and deleted it.



****************************************
Date:	Thursday October 16, 1997 @ 13:53
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26917

Modified Files:
	loadparm.c 
Log Message:
fixed the problem that browsing breaks if you put quote marks around
the server string option.

I fixed it by adding: trim_string(ret, "\"", "\"") to lp_string()
which means that it removes leading and trailing quotes from _all_
strings in smb.conf. I think this is what we want as I can't actually
think of any case where quoted strings are needed.

I suspect that this fix will actually fix browsing at quite a few
sites. It's not uncommon to see people putting "" marks around the
workgroup name or other essential strings.

The real reason it was causing browsing to fail is that the browse.dat
file uses " to delimit fields, which means that it wasn't being parsed
correctly. It would be nice to use a proper database format in
browse.dat sometime. In fact, we really need a generic database type
subsystem in Samba to replace the mish-mash we currrently use
(browse.dat, wins.dat, smbpasswd etc)




****************************************
Date:	Thursday October 16, 1997 @ 13:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26015

Modified Files:
      Tag: BRANCH_1_9_17
	loadparm.c 
Log Message:
fixed quote problem in 1.9.17 as well



****************************************
Date:	Thursday October 16, 1997 @ 15:33
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19650/source

Modified Files:
	password.c 
Log Message:
Added Michael Johnsons' PAM modifications <johnsonm@redhat.com>
This patch has been checked over. JHT



****************************************
Date:	Thursday October 16, 1997 @ 15:43
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15002

Modified Files:
      Tag: BRANCH_1_9_17
	password.c 
Log Message:
Added PAM patches submitted by <johnsonm@redhat.com>
Checked over. OK.



****************************************
Date:	Thursday October 16, 1997 @ 17:54
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8499

Modified Files:
      Tag: BRANCH_1_9_17
	client.c 
Log Message:
add ERRDOS/67 ERRnosuchshare to the client.c list of error strings




****************************************
Date:	Thursday October 16, 1997 @ 18:01
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18546

Modified Files:
	client.c 
Log Message:
add ERRDOS/67 ERRnosuchshare to the client.c list of error strings




****************************************
Date:	Thursday October 16, 1997 @ 22:59
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26187

Modified Files:
	pipenetlog.c 
Log Message:

inside the auth 2 response bits, i wasn't storing the received client
credentials for the calculation of the next credentials: i was storing
the auth 2 calculated credentials.

oops.



****************************************
Date:	Thursday October 16, 1997 @ 23:38
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11473

Modified Files:
	pipenetlog.c 
Log Message:

dealing with some stack overflow bug somewhere around the use of
deal_with_credentials() by moving important code to the beginning
of the function :-) :-) :-).

the new seed (old_cred + time + 1) was getting corrupted.



****************************************
Date:	Friday October 17, 1997 @ 2:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2112

Modified Files:
	smb.h smbparse.c 
Log Message:

smb.h :

	id_info_1 has a pointer at the front of it.  so does return credentials,
	and so does the client credentials.  these are all from the sam logon.
	auth_level is 16 bytes not 32 and is actually called a switch_level.

smbparse.c :

	smb_io_unihdr() - uni_max_len and uni_str_len are 16 bytes not 32.
	this may have a knock-on effect on smb_in_unihdr2() but we'll see...





****************************************
Date:	Friday October 17, 1997 @ 11:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17461

Modified Files:
	nmbd.c 
Log Message:
added -a "append log" option



****************************************
Date:	Friday October 17, 1997 @ 11:47
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8397

Modified Files:
	nmbd.8 
Log Message:
document -a "append log" option



****************************************
Date:	Friday October 17, 1997 @ 12:56
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6142

Modified Files:
	nameservresp.c 
Log Message:
fix the handling of negative name query responses and the handling of
packets with no answer section in general.

The fix has 2 parts:

1) set ans_name to the name we queried if nmb->answers == NULL

2) check for nmb->answers == NULL in several other places where we
currently check for nmb->answers->data 

While doing this, I noticed there are lots of places in our nmbd code
where we make assumptions about the packets being well formed. Someone
could easily implement a denial of service attack on nmbd by sending a
packet that causes a null pointer dereference. Does anyone feel like
going through the code and adding checks? Probably the best solution
is to have a single function that "validates" a packet, making sure
that all the required fields are there. This will be a bit tricky as
what fields are required varies a lot between packets. A first pass
would be a function that prints "SUSPECT PACKET" when it hits a packet
that it suspects does not have a required field (or the field is badly
formatted), then we could use this on a live system to find any cases
we've missed.

Any takers?




****************************************
Date:	Friday October 17, 1997 @ 13:09
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14135

Modified Files:
	nameresp.c 
Log Message:
remove a spurious error message from nmbd. The message was:

	WINS server did not respond to name registration!

this messages should only be produced when we are trying to register
our own names, not when we are the one with the name database and we
are doing a NAME_REGISTER_CHALLENGE on behalf of another host (for
secured wins registration)




****************************************
Date:	Friday October 17, 1997 @ 21:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4709

Modified Files:
	pipenetlog.c 
Log Message:

set the wrong info level (0x0C00 0000 instead of 0xC000 0000) so that
nt got confused and thought that the server password had been set instead
of refused.  this is for the SRV_PWSET response.



****************************************
Date:	Friday October 17, 1997 @ 23:43
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26574

Modified Files:
	pipenetlog.c pipeutil.c smb.h smbparse.c util.c 
Log Message:

smbparse.c smb.h :

	uni_max_len and uni_str_len are the other way round, in UNIHDR.

util.c :

	increased the show_msg() data size from 256 bytes to 512 bytes:
	the LSA SAM Logon response can be about 500 bytes long.

pipenetlog.c :

	forgot to set the authoritative field to 1.



****************************************
Date:	Saturday October 18, 1997 @ 2:46
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9413

Modified Files:
	pipenetlog.c lsaparse.c smb.h credentials.c 
Log Message:

pipenetlog.c lsaparse.c smb.h :

	SAM logon sorting.  too many buffer pointers.  added in the missing
	switch value (value of 3).  dealing with the buffer pointers to the
	user info structure in a slightly different way.



****************************************
Date:	Saturday October 18, 1997 @ 3:05
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21661

Modified Files:
      Tag: BRANCH_1_9_17
	locking.c nameservresp.c 
Log Message:
locking.c: Fix for zero length share files from Gerald Werner <wernerg@mfldclin.edu>
           plus a mod to remove a race condition.
nameservresp.c: Improved debug message.
proto.h: The usuual.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 18, 1997 @ 3:59
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9070

Modified Files:
	pipeutil.c 
Log Message:

make_unihdr() was setting the length to 1/2 the required value. 



****************************************
Date:	Saturday October 18, 1997 @ 7:06
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16119

Modified Files:
	dir.c includes.h 
Log Message:
Simply moved the #include for ubi_dLinkList.h from within dir.c to
includes.h.  More consistent with current practice.



****************************************
Date:	Saturday October 18, 1997 @ 8:32
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv9313

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.default 
Log Message:
A lot of changes to the example smb.conf file. As I discussed with
John, I really didn't like having "dangerous" options in here. 






****************************************
Date:	Saturday October 18, 1997 @ 8:34
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv2777

Modified Files:
	smb.conf.default 
Log Message:
put the new example config file in here as well



****************************************
Date:	Saturday October 18, 1997 @ 8:40
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv26243

Modified Files:
	smb.conf.default 
Log Message:
add a note about running testparm after modifying smb.conf




****************************************
Date:	Saturday October 18, 1997 @ 8:41
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv3155

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.default 
Log Message:
add a note about running testparm after modifying smb.conf




****************************************
Date:	Saturday October 18, 1997 @ 9:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13721

Modified Files:
	.cvsignore interface.c locking.c nameannounce.c namedbresp.c 
	namedbserver.c namedbsubnet.c namepacket.c nameresp.c 
	nameserv.c nameserv.h nameservresp.c nmbd.c nmbsync.c proto.h 
	util.c 
Log Message:
.cvsignore: Added make_smbcodepage
interface.c: Added is_local_net().
locking.c: Added Fix for zero length share files from Gerald Werner <wernerg@mfldclin.edu>
           plus a race condition fix for the fix.
nameannounce.c: Made function static.
namedbresp.c: extern int ClientDGRAM removed - not used.
namedbserver.c: extern int ClientDGRAM removed - not used.
namedbsubnet.c: Added code to make sockets per subnet.
namepacket.c: Added code to read from all sockets & filter.
nameresp.c: extern int ClientDGRAM removed - not used.
nameserv.c: Indentation tidyup :-).
nameserv.h: Added sockets to struct subnet.
nameservresp.c: Improved debug message.
nmbd.c: Changed to terminte on listen_for_packets exiting.
nmbsync.c: extern int ClientDGRAM & ClientNMB removed - not used.
proto.h: The usual.
util.c: Fixed debug message.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 18, 1997 @ 10:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3655

Modified Files:
	loadparm.c namepacket.c proto.h 
Log Message:
After talking with Andrew added "interfaces only" parameter that
turns off the filtering on the broadcast socket by default.
Jeremy (jallison@whistle.com)



****************************************
Date:	Saturday October 18, 1997 @ 15:27
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv12567

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.default 
Log Message:
Fixed small typo.



****************************************
Date:	Saturday October 18, 1997 @ 15:28
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv28108

Modified Files:
	smb.conf.default 
Log Message:
Fixed small typo.



****************************************
Date:	Sunday October 19, 1997 @ 1:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14500

Modified Files:
	reply.c 
Log Message:

put the NT_STATUS_ALLOTTED_SPACE_EXCEEDED error in instead of 0x99.
whatever that means.



****************************************
Date:	Sunday October 19, 1997 @ 15:16
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv14730

Modified Files:
	smb.conf.default 
Log Message:
add a section on encryption and change the formatting a bit



****************************************
Date:	Sunday October 19, 1997 @ 15:18
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv27213

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.default 
Log Message:
add a section on encryption and change the formatting a bit



****************************************
Date:	Sunday October 19, 1997 @ 21:54
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv17568

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf 
Log Message:
Updated to reflect new examples/smb.conf.default contents.



****************************************
Date:	Sunday October 19, 1997 @ 22:03
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv21388

Modified Files:
	smb.conf 
Log Message:
Updated smb.conf to reflect new examples/smb.conf.default contents.



****************************************
Date:	Sunday October 19, 1997 @ 22:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24763

Modified Files:
	pipes.c 
Added Files:
	pipesrvsvc.c 
Log Message:

pipes.c pipesrvsvc.c :

	moved stub srvsvc pipe function into separate file, in preparation for
	further work.



****************************************
Date:	Sunday October 19, 1997 @ 22:28
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv18023

Modified Files:
	WinNT.txt 
Log Message:
Added comment submitted by Frank Varnavas.



****************************************
Date:	Sunday October 19, 1997 @ 22:38
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv20271/docs

Modified Files:
      Tag: BRANCH_1_9_17
	WinNT.txt 
Log Message:
Added Frank Varnavas comments.



****************************************
Date:	Monday October 20, 1997 @ 0:36
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16925

Modified Files:
	smb.h 
Log Message:

added the following structures:

	SH_INFO_1
	SH_INFO_1_STR
	SHARE_INFO_1_CTR
	SRV_Q_NET_SHARE_ENUM
	SRV_R_NET_SHARE_ENUM

the share info1 container can handle a maximum of 32 shares.  the share info1
string structures contain two unicode strings, with 1024 uint16 characters
_each_.  we're going to _have_ to dynamically allocate the unicode strings,
else we'll run out of stack space.  rapidly.



****************************************
Date:	Monday October 20, 1997 @ 1:33
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24086

Modified Files:
	Makefile pipenetlog.c proto.h smb.h util.c 
Added Files:
	srvparse.c 
Log Message:

Makefile :

	added srvparse.o and pipesrvsvc.o

smb.h :

	mods to the Net Share Enum stuff

srvparse.c :

	Net Share Enum parsing support.  more srvsvc pipe parsing to go here...

pipenetlog.c util.c:

	modified standard_sub_basic() so that you can set a global boolean
	and use a different string for the %U username substitution.

proto.h:

	the usual.



****************************************
Date:	Monday October 20, 1997 @ 3:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28002

Modified Files:
	pipesrvsvc.c smb.h srvparse.c 
Log Message:

creating NetShareEnum parsing / reply creation.  compiles, but untested.



****************************************
Date:	Monday October 20, 1997 @ 3:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv79

Modified Files:
	pipesrvsvc.c smb.h srvparse.c 
Log Message:

debugging the srvsvc Net Share Enum.  some padding issues; some string length
issues.  it works!



****************************************
Date:	Monday October 20, 1997 @ 9:22
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12415

Modified Files:
	loadparm.c 
Log Message:
update the timestamp on config files in our linked list when we notice
they have changed, otherwise we keep reading them again and again





****************************************
Date:	Monday October 20, 1997 @ 9:24
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1735

Modified Files:
      Tag: BRANCH_1_9_17
	loadparm.c 
Log Message:
update the timestamp on config files in our linked list when we notice
they have changed, otherwise we keep reading them again and again





****************************************
Date:	Monday October 20, 1997 @ 11:00
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10829

Modified Files:
	credentials.c proto.h smbdes.c 
Log Message:
move calls to smbhash() inside smbdes.c (for legal reasons)



****************************************
Date:	Monday October 20, 1997 @ 11:10
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Removed Files:
	arcfour.c arcfour.h 
Log Message:
I am removing these from the source code in preparation for an
upcoming 1.9.18alpha release. We can't release with this code in there
as it currently stands as it might breach ITAR export restrictions in
the US.

I've discussed ways around this with Jeremy and we can put the code
back in with appropriate modifications once it is needed.

Note that this code isn't actually used in Samba yet, so removing it
has no effect.

If anyone wants the code then look in ~samba-bugs/arcfour/ or grab it
from the CVS attic.




****************************************
Date:	Monday October 20, 1997 @ 12:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11869

Modified Files:
	credentials.c password.c proto.h smbdes.c util.c 
Log Message:
casting cleanups




****************************************
Date:	Monday October 20, 1997 @ 18:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv213

Modified Files:
	Makefile locking.c proto.h reply.c server.c smb.h status.c 
Added Files:
	locking_shm.c locking_slow.c 
Log Message:
a major share modes reorganisation.

The shares modes code is now split into separate files. The shared
memory implementation is in locking_shm.c. The slow implementation is
in locking_slow.c

It is all controlled by a struct share_ops structure that has function
pointers to the implementation of all the functions needed by a share
modes implementation. An initialisation function sets up this
structure. This will make adding new implementations easy and clean.

This also allowed me to get rid of the ugly code in smbstatus. Now
status.c links to the locking code and calls methods in share_ops.

I also renamed some things and generally organised things in a much
cleaner fashion. Defines and structures specific to each
implementation have been moved to the appropriate file and out of
smb.h.




****************************************
Date:	Monday October 20, 1997 @ 20:30
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6811

Modified Files:
	WinNT.txt 
Log Message:
Fixed Upper/Lower case typos.



****************************************
Date:	Monday October 20, 1997 @ 22:10
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18415

Modified Files:
	util.c proto.h password.c loadparm.c ipc.c pipenetlog.c 
Log Message:

util.c password.c :

	added automount_server() function which, if -DAUTOMOUNT is in use,
	returns the server name of the NIS auto.map entry.  otherwise,
	it returns local_server.

	added use of automount_server() for a new substitution %N for NIS
	home server.  this defaults, via automount_server(), to the same
	functionality as %L if -DAUTOMOUNT is not used.

	removed vuser->home_share.  moved code that grabbed the servername
	into the separate function automount_server().

loadparm.c :

	created "logon drive" (default of "")
	created "logon home"  (default of "\\%N\%U")
	changed default of "logon path" from NULL to "\\%N\%U\profile".

ipc.c pipenetlog.c :

	use lp_logon_drive(), lp_logon_home() and lp_logon_path() in their
	now easier-to-use form (don't have to check if *lp_logon_path() and
	manually substitute a default of \\%L\%U and do a standard_sub_basic()
	on the result, because the default automatically does this.



****************************************
Date:	Monday October 20, 1997 @ 22:13
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19244

Modified Files:
	smb.h 
Log Message:

removed home_share from user_info structure.



****************************************
Date:	Monday October 20, 1997 @ 23:00
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19276

Modified Files:
	DOMAIN.txt 
Log Message:

updated briefly to mention NT domain support as working, but experimental.



****************************************
Date:	Monday October 20, 1997 @ 23:14
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv18879

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.default 
Log Message:
Updated with DNS Proxy, Printing and [netlogon] share modes = no



****************************************
Date:	Monday October 20, 1997 @ 23:18
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv5632

Modified Files:
	smb.conf.default 
Log Message:
Added DNS Proxy, Printing, [netlogon] share modes = no.



****************************************
Date:	Monday October 20, 1997 @ 23:24
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15646

Modified Files:
	Makefile 
Log Message:
Updated for Digital Unix v4.0



****************************************
Date:	Monday October 20, 1997 @ 23:28
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7183

Modified Files:
      Tag: BRANCH_1_9_17
	Makefile 
Log Message:
Updated for Digital Unix v4.0



****************************************
Date:	Monday October 20, 1997 @ 23:34
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv26136

Added Files:
      Tag: BRANCH_1_9_17
	smbadduser 
Log Message:
Added back. Why did this evaporate? - My fault no doubt!



****************************************
Date:	Tuesday October 21, 1997 @ 0:43
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3216

Added Files:
	NTDOMAIN.txt cifsntdomain.txt 
Log Message:

NTDOMAIN.txt:

	describes how to set up samba as an NT PDC.  it includes debugging
	assisting info.  it is expected that this document turn into a
	user's document, rather than a debugger's document.

cifsntdomain.txt :

	this is the "NT Domain Authentication (draft)" white paper, current
	version.  if anyone think it's a bad idea to put a copy of this in
	here, i'm quite happy to remove it.




****************************************
Date:	Tuesday October 21, 1997 @ 0:46
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24203

Modified Files:
	NTDOMAIN.txt cifsntdomain.txt 
Log Message:

added copyright to headers.



****************************************
Date:	Tuesday October 21, 1997 @ 1:12
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv26391/packaging/redhat

Modified Files:
      Tag: BRANCH_1_9_17
	samba-axp.patch 
Log Message:
Updated DEC Alpha mods for RedHat Linux for Alpha.



****************************************
Date:	Tuesday October 21, 1997 @ 1:32
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv10505

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf 
Log Message:
Updated for release of p4.



****************************************
Date:	Tuesday October 21, 1997 @ 1:35
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv9267

Modified Files:
	smb.conf 
Log Message:
Updated to be consistent with 1.9.17p4



****************************************
Date:	Tuesday October 21, 1997 @ 2:24
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13347

Modified Files:
	smb.conf.5 
Log Message:

added description of parameters:

	domain sid
	domain groups
	logon drive
	logon path



****************************************
Date:	Tuesday October 21, 1997 @ 2:25
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24406

Modified Files:
	loadparm.c pipenetlog.c proto.h util.c 
Log Message:

added "domain groups" parameter, allowing you to specify the groups that
the user belongs to.

it would be nice to know exactly what the domain groups _are_....



****************************************
Date:	Tuesday October 21, 1997 @ 4:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2967

Modified Files:
	loadparm.c locking_shm.c namepacket.c proto.h reply.c server.c 
	system.c time.c trans2.c 
Log Message:
loadparm.c: Changed 'interfaces only' parameter to 'bind interfaces only'. Added
            'dos filetimes' parameter for UTIME fix.
locking_shm.c: Fixed typo (sorry Andrew :-).
namepacket.c: Changed lp_interfaces_only() to lp_bind_interfaces_only().
proto.h: The usual.
reply.c: Made filetime calls use new file_utime call (wrapper for sys_utime).
server.c: Made filetime calls use new file_utime call (wrapper for sys_utime).
system.c: Added Andrew's sanity checks to times in sys_utime().
time.c: Moved set_filetime() to server.c. Made null_mtime()global.
trans2.c: Made filetime calls use new file_utime call (wrapper for sys_utime).
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 21, 1997 @ 6:34
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv14544

Modified Files:
	Support.txt smb.conf.5 
Added Files:
	make_smbcodepage.1 
Log Message:
Adding make_smbcodepage.1 man page.
Updated smb.conf with dos filetimes.
Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 21, 1997 @ 7:50
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv21063

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
WHATSNEW.txt: Updated in preparation for p4.
Support.txt: One more consultant.
smb.conf: dos filetimes added.
loadparm.c: dos filetimes added.
proto.h: The usual.
reply.c: dos filetimes added.
server.c: dos filetimes added.
time.c: dos filetimes added. 
trans2.c: dos filetimes added.
Jeremy (jallison@whistle.com)




****************************************
Date:	Tuesday October 21, 1997 @ 7:50
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv21063/docs

Modified Files:
      Tag: BRANCH_1_9_17
	Support.txt smb.conf.5 
Log Message:
WHATSNEW.txt: Updated in preparation for p4.
Support.txt: One more consultant.
smb.conf: dos filetimes added.
loadparm.c: dos filetimes added.
proto.h: The usual.
reply.c: dos filetimes added.
server.c: dos filetimes added.
time.c: dos filetimes added. 
trans2.c: dos filetimes added.
Jeremy (jallison@whistle.com)




****************************************
Date:	Tuesday October 21, 1997 @ 7:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21063/source

Modified Files:
      Tag: BRANCH_1_9_17
	loadparm.c proto.h reply.c server.c time.c trans2.c 
Log Message:
WHATSNEW.txt: Updated in preparation for p4.
Support.txt: One more consultant.
smb.conf: dos filetimes added.
loadparm.c: dos filetimes added.
proto.h: The usual.
reply.c: dos filetimes added.
server.c: dos filetimes added.
time.c: dos filetimes added. 
trans2.c: dos filetimes added.
Jeremy (jallison@whistle.com)




****************************************
Date:	Tuesday October 21, 1997 @ 19:09
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19955

Modified Files:
	ipc.c 
Log Message:
add some debug info



****************************************
Date:	Tuesday October 21, 1997 @ 19:11
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28389

Modified Files:
	local.h 
Log Message:
get rid of the KEEP_PASSWORD_SERVER_OPEN define




****************************************
Date:	Tuesday October 21, 1997 @ 19:12
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1056

Added Files:
	clientgen.c 
Log Message:
This is a set of generic SMB client routines. I needed this in a hurry
to fix the password server code, so I didn't use SMBlib. This code is
fairly generic and uses a "struct cli_state" to hold the client
state. 





****************************************
Date:	Tuesday October 21, 1997 @ 19:34
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8604

Modified Files:
	Makefile password.c reply.c server.c smb.h 
Log Message:
rewrote the password server code using the new clientgen.c client
interface

The new code uses a source netbios name equal to the Samba servers
name, not the client name. It also uses NetWkstaUserLogon to do a full
network logon. This means it will honour the servers logon
restrictions (such as login times etc). 




****************************************
Date:	Tuesday October 21, 1997 @ 19:39
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12697

Modified Files:
	client.c clientutil.c 
Log Message:
some cleanups in the clientutil.c code.

I'm actually hoping to remove this module completely once we convert
nmbd to using the new (much cleaner) clientgen.c 

smbclient now also reports if it connects as a guest user



****************************************
Date:	Tuesday October 21, 1997 @ 19:39
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1911

Modified Files:
	proto.h 
Log Message:
prototype updates



****************************************
Date:	Tuesday October 21, 1997 @ 19:43
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv23421

Modified Files:
	smb.conf.5 
Log Message:
added a note about which netbios name is use in server level security




****************************************
Date:	Tuesday October 21, 1997 @ 20:09
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28053

Modified Files:
      Tag: BRANCH_1_9_17
	Makefile client.c clientutil.c ipc.c local.h password.c 
	proto.h reply.c server.c smb.h 
Log Message:
add the new password server code to the 1.9.17 tree. This needed to be
fixed as the previous code could provide a security hole if the NT
server was misconfigured



****************************************
Date:	Tuesday October 21, 1997 @ 20:12
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv28096

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.5 
Log Message:
update the password server docs



****************************************
Date:	Tuesday October 21, 1997 @ 20:30
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25785

Modified Files:
	smb.conf.5 
Log Message:
add a note on how to map usernames with spaces in them




****************************************
Date:	Tuesday October 21, 1997 @ 20:31
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv27253

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.5 
Log Message:
add a note on how to map usernames with spaces in them




****************************************
Date:	Tuesday October 21, 1997 @ 20:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25059

Added Files:
      Tag: BRANCH_1_9_17
	clientgen.c 
Log Message:
add the generic client code to 1.9.17





****************************************
Date:	Tuesday October 21, 1997 @ 21:50
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv1594

Modified Files:
	Support.txt 
Log Message:
Updating an entry.Paul



****************************************
Date:	Tuesday October 21, 1997 @ 21:54
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10072

Modified Files:
	server.c uid.c 
Log Message:
fix the order of become_uid() and become_gid() in become_root(). This
was a harmless bug but left log entries

code cleanup in reply_lanman2()



****************************************
Date:	Tuesday October 21, 1997 @ 21:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25082

Modified Files:
      Tag: BRANCH_1_9_17
	uid.c 
Log Message:
fix the order of become_uid() and become_gid() in become_root(). This
was a harmless bug but left log entries



****************************************
Date:	Tuesday October 21, 1997 @ 22:09
Author:	ictinus

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv23872/docs

Modified Files:
      Tag: BRANCH_1_9_17
	Support.txt 
Removed Files:
      Tag: BRANCH_1_9_17
	samba.faq 
Log Message:
Updated Support entry.
Hmm.. I thought I removed samba.faq in this branch before.




****************************************
Date:	Tuesday October 21, 1997 @ 22:22
Author:	ictinus

Update of /data/cvs/samba/docs/faq
In directory samba:/tmp/cvs-serv20593/docs/faq

Modified Files:
      Tag: BRANCH_1_9_17
	Samba-Server-FAQ.html Samba-Server-FAQ.sgml 
	Samba-meta-FAQ-2.html Samba-meta-FAQ.html Samba-meta-FAQ.sgml 
	Samba-meta-FAQ.txt sambafaq-1.html sambafaq-3.html 
	sambafaq.html sambafaq.sgml sambafaq.txt 
Log Message:
Update 1.9.17 branch with faq docs from 1.9.18
I don't think I've clobbered anything I shouldn't have.




****************************************
Date:	Tuesday October 21, 1997 @ 22:38
Author:	ictinus

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv26699

Modified Files:
      Tag: BRANCH_1_9_17
	README 
Log Message:
Removed references to samba.canberra, replacing with samba.anu
Added mirror sites.



****************************************
Date:	Tuesday October 21, 1997 @ 22:38
Author:	ictinus

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26699/docs

Modified Files:
      Tag: BRANCH_1_9_17
	BUGS.txt MIRRORS.txt UNIX_INSTALL.txt announce samba.7 
Log Message:
Removed references to samba.canberra, replacing with samba.anu
Added mirror sites.



****************************************
Date:	Tuesday October 21, 1997 @ 22:55
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21693

Modified Files:
	server.c 
Log Message:
don't check lp_alternate_permissions() in the new utime workaround
code. lp_alternate_permissions() is intended only to affect the
display of file permissions, not what you can actually do with the
files.





****************************************
Date:	Tuesday October 21, 1997 @ 23:03
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6354

Modified Files:
	server.c 
Log Message:
check for EPERM or EACCESS in file_utime()



****************************************
Date:	Tuesday October 21, 1997 @ 23:07
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13762

Modified Files:
      Tag: BRANCH_1_9_17
	server.c 
Log Message:
check for EPERM or EACCESS in file_utime()

only use lp_alternate_permissions() for display purposes






****************************************
Date:	Tuesday October 21, 1997 @ 23:15
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23614

Modified Files:
	server.c 
Log Message:
damn, I spelt EACCES wrong. 

actually it's wrong in the linux man page for utime ...



****************************************
Date:	Tuesday October 21, 1997 @ 23:16
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2485

Modified Files:
      Tag: BRANCH_1_9_17
	server.c 
Log Message:
for 1.9.17 as well



****************************************
Date:	Wednesday October 22, 1997 @ 2:34
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv10301

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
Updated for p4 release.
Jeremy.



****************************************
Date:	Wednesday October 22, 1997 @ 2:43
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/docs

Modified Files:
      Tag: BRANCH_1_9_17
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.17p4


****************************************
Date:	Wednesday October 22, 1997 @ 2:43
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/source

Modified Files:
      Tag: BRANCH_1_9_17
	version.h 
Log Message:
preparing for release of 1.9.17p4


****************************************
Date:	Wednesday October 22, 1997 @ 4:25
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25562

Modified Files:
	ipc.c loadparm.c pipenetlog.c proto.h smb.h util.c 
Log Message:

loadparm.c :

	added "domain admin users" parameter
	added "domain guest users" parameter

	these two complement the "domain groups" parameter.  the "domain groups"
	parameter should be for your own groups, and well-known aliases.

util.c :

	added ability to do "domain groups = power_users admin_users backup_ops"
	which are well-known RID aliases, not well-known RID groups.

pipenetlog.c :

	combine the "domain admin users"; "domain guest users" and "domain groups"
	parameters to give an array of RID groups to include in the SAM Logon
	response.

ipc.c smb.h :

	moved REALLOC() into smb.h
	added RID #defines.

proto.h:

	usual.



****************************************
Date:	Wednesday October 22, 1997 @ 4:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13891

Modified Files:
	chgpasswd.c includes.h server.c 
Log Message:
chgpasswd.c:
includes.h: SCO changes.
server.c: Added code in open_sockets to allow 'bind interfaces only' to
          work as documented.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 22, 1997 @ 5:55
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv12928

Modified Files:
	WHATSNEW.txt 
Log Message:
WHATSNEW.txt: Preparing for 1.9.18alpha2 release.
smb.conf.5: Added 'bind interfaces only' parameter.
version.h: Updated to 1.9.18alpha2.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 22, 1997 @ 5:55
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12928/docs

Modified Files:
	DOMAIN_CONTROL.txt smb.conf.5 
Log Message:
WHATSNEW.txt: Preparing for 1.9.18alpha2 release.
smb.conf.5: Added 'bind interfaces only' parameter.
version.h: Updated to 1.9.18alpha2.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 22, 1997 @ 5:55
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12928/source

Modified Files:
	version.h 
Log Message:
WHATSNEW.txt: Preparing for 1.9.18alpha2 release.
smb.conf.5: Added 'bind interfaces only' parameter.
version.h: Updated to 1.9.18alpha2.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 22, 1997 @ 7:17
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt Passwords.txt Printing.txt 
	SCO.txt Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha2


****************************************
Date:	Wednesday October 22, 1997 @ 7:43
Author:	crh

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv4151

Added Files:
	README.UBI 
Log Message:
The ubi_* modules are under LGPL, not standard GPL.  This README explains
that.



****************************************
Date:	Wednesday October 22, 1997 @ 8:51
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv19158

Modified Files:
	WHATSNEW.txt 
Log Message:
WHATSNEW.txt: Updated for alpha3.
server.c: int16 -> uint16 fix for port comparisons in oplock code.
          Needed for Solaris.
version.h: Updated to alpha3.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 22, 1997 @ 8:51
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19158/source

Modified Files:
	server.c version.h 
Log Message:
WHATSNEW.txt: Updated for alpha3.
server.c: int16 -> uint16 fix for port comparisons in oplock code.
          Needed for Solaris.
version.h: Updated to alpha3.
Jeremy (jallison@whistle.com)



****************************************
Date:	Wednesday October 22, 1997 @ 8:56
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt Passwords.txt Printing.txt 
	SCO.txt Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha3


****************************************
Date:	Wednesday October 22, 1997 @ 13:16
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28592

Modified Files:
	nameservreply.c 
Log Message:
don't send any statistics in the node status reply



****************************************
Date:	Wednesday October 22, 1997 @ 13:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9752

Modified Files:
      Tag: BRANCH_1_9_17
	nameservreply.c 
Log Message:
don't send any statistics in the node status reply



****************************************
Date:	Wednesday October 22, 1997 @ 20:13
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9447

Modified Files:
	Support.txt 
Log Message:

updated tel no and email address for my entry.



****************************************
Date:	Wednesday October 22, 1997 @ 21:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25422

Modified Files:
	namedbname.c namepacket.c nameserv.h nameservreply.c nmbd.c 
	nmblib.c nmblookup.c 
Added Files:
	asyncdns.c 
Log Message:
Implemented asynchronous DNS lookups in nmbd.

I realised this afternoon just how easy it is to add this, so I
thought I'd implement it while the idea was fresh.

nmbd forks at startup and uses a pipe to talk to its child. The child
does the DNS lookups and the file descriptor of the child is added to
the main select loop.

While I was doing this I discovered a bug in nmbd that explains why
the dns proxy option has been so expensive. The DNS cache entries in
the WINS list were never being checked, which means we always did a
DNS lookup even if we have done it before and it is in cache. I'm sure
this used to work (I tested the DNS cache when I added it) so someone
broke it :-(

Anyway, the async DNS gets rid of the problem completely. I'll commit
just the fix to the DNS cache bug to the 1.9.17 tree.

You can disable async DNS by adding -DSYNC_DNS to the compile flags.




****************************************
Date:	Wednesday October 22, 1997 @ 21:10
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6022

Modified Files:
	Makefile 
Log Message:
add asyncdns.o to the Makefile



****************************************
Date:	Wednesday October 22, 1997 @ 21:15
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15259

Modified Files:
	locking_shm.c proto.h shmem.c smb.h 
Log Message:
shared memory code cleanups (partly preparing for a possible sysV
shared memory implementation)



****************************************
Date:	Wednesday October 22, 1997 @ 21:21
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9636

Modified Files:
      Tag: BRANCH_1_9_17
	nameservreply.c 
Log Message:
fixed the DNS cache bug in the 1.9.17 tree.

With this fix the dns proxy option won't be nearly so bad. 




****************************************
Date:	Wednesday October 22, 1997 @ 21:31
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11293

Modified Files:
	loadparm.c pipenetlog.c pipentlsa.c pipesrvsvc.c pipeutil.c 
	proto.h smb.h smbparse.c util.c 
Log Message:

loadparm.c :

	added "domain other sids" parameter

pipenetlog.c :

	using "domain other sids" parameter in SAM Logon response.
	using new name_to_rid() function for r_uid and r_gid.

pipentlsa.c :

	minor mods to do with new name_to_rid() function.

pipesrvsvc.c :

	in the "net share enum" response, allocate some more space for the buffer.
	there can be only 32 share entries in the response anyway.  this needs
	to be dealt with.

pipeutil.c :

	modified name_to_rid() function to use new parameters "domain admin users"
	and "domain guest users", but will otherwise do unix uid + 1000.

	moved make_dom_gids() here.

proto.h:

	the usual.

smb.h smbparse.c :

	renamed sid_no to sid_rev_num in DOM_SID, and gid to r_gid in DOM_GID.

util.c :

	moved make_dom_gids() from here.
	created char *unistrn2(uint16* uni_buffer, int max_len)




****************************************
Date:	Thursday October 23, 1997 @ 0:28
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5994

Modified Files:
	Makefile client.c clientutil.c clitar.c nmbsync.c pipenetlog.c 
	proto.h smb.h 
Log Message:

Makefile client.c clientutil.c clitar.c nmbsync.c :

	redid the split that i did a year ago, taking the functions in client.c
	out into clientutil.c.  guess what?  we could now do encrypted password
	NetServerEnum2 calls in nmbd, if we wanted to.
	
	i can now use cli_call_api() to send to different pipes.  i hope.

pipenetlog.c:

	allow adding to users group _and_ to admin group.  if adding to
	guest group, don't allow adding to users or admin as well.

smb.h :

	added some pipe #defines (\PIPE\NETLOGON \PIPE\srvsvc ...)

proto.h : 

	usual.



****************************************
Date:	Thursday October 23, 1997 @ 3:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27266

Modified Files:
	Makefile client.c lsaparse.c pipenetlog.c pipentlsa.c 
	pipesrvsvc.c pipeutil.c proto.h smb.h smbparse.c 
Log Message:

Makefile client.c :

	adding start of undocumented options to do NT domain logons, client-side.
	starting with LSA_REQCHAL.

	the code here happily crashes smbd: i'll investigate this further... :-)

smbparse.c pipeutil.c lsaparse.c :

	moved some of the common make_xxxx() functions out of pipeutil.c
	so that the make_xxxx and (smb/lsa)_io_xxxx functions now sit
	together.  makes sense, really...

	added a make_q_req_chal() function.

	restructured make_rpc_reply() and called it make_rpc_hdr().  created
	functions create_rpc_reply() and create_rpc_response().

pipenetlog.c pipentlsa.c pipesrvsvc.c

	calling new create_rpc_reply() function instead of old make_rpc_reply().

proto.h :

	usual.

smb.h:

	added enum for RPC_PACKET_TYPE




****************************************
Date:	Thursday October 23, 1997 @ 4:37
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24619

Modified Files:
	client.c ipc.c 
Log Message:

client.c :

	send to \PIPE\ not \PIPE\NETLOGON.

ipc.c :

	fstring name not being bzero'd caused problems when calling named_pipe().




****************************************
Date:	Thursday October 23, 1997 @ 23:38
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2997

Modified Files:
	client.c clientutil.c namelogon.c namepacket.c proto.h util.c 
Log Message:

playing about, trying to SMBopenX a \PIPE\NETLOGON (should be a SMBopen)
and then send a LSA_REQ_CHAL down it.



****************************************
Date:	Friday October 24, 1997 @ 0:36
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv15035

Modified Files:
	NTDOMAIN.txt 
Log Message:

missed one of the files (lsarpc) in the touch and chmod instructions.



****************************************
Date:	Friday October 24, 1997 @ 2:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16400

Modified Files:
	client.c ipc.c pipenetlog.c pipentlsa.c pipesrvsvc.c 
	pipeutil.c proto.h smbparse.c 
Log Message:

general sorting out, from crashes generated by do_lsa_req_chal() in client.c

trying to set up the data parameters etc and not understanding what's going on.

in api_netlogTNP, added smb_io_rpc_hdr() call to decode the header received
(and in this instance, generated by do_lsa_req_chal()).  and then noticed
that it's two bytes out.  but i don't know how to do "byte parameters"
and it's not the same format as the LSA_REQCHAL received from nt workstations.

agh!



****************************************
Date:	Friday October 24, 1997 @ 3:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11013

Modified Files:
	client.c nmbsync.c 
Log Message:

missed nmbsync.c when adding setup count and setup pointer arguments to
cli_call_api().  sorting this for jeremy.

there is a discrepancy between the client.c list_servers() and the nmbsync.c
add_info() calls to cli_call_api() - one has an mdrcount of 1024, the other
of zero.

i don't know what difference this makes.



****************************************
Date:	Friday October 24, 1997 @ 5:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8611

Modified Files:
	nmbsync.c 
Log Message:

commas in the wrong places...



****************************************
Date:	Friday October 24, 1997 @ 5:27
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1778

Modified Files:
	clientgen.c 
Log Message:

renamed static cli_setup_pkt() to static cli_setup_packet() because it
clashed with the currently-used cli_setup_pkt() in clientutil.c



****************************************
Date:	Friday October 24, 1997 @ 8:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3913

Modified Files:
	asyncdns.c interface.c nameannounce.c namebrowse.c 
	namedbname.c namedbsubnet.c nameelect.c namepacket.c 
	nameresp.c nameserv.c nameserv.h nameservreply.c 
	nameservresp.c namework.c nmbd.c nmbsync.c proto.h server.c 
Log Message:
Big change to make nmbd code more readable/understandable.

Main change is removal of find_name_search() confusion.
This has been replaced with find_name_on_subnet() which
makes it explicit what is being searched.

Also changed wins_subnet to be wins_client_subnet in
preparation for splitting the wins subnet into client
and server pieces.

This is a big nmbd change and I'd appreciate any
bug reports.

Specific changes follow :

asyncdns.c:
     Removed wins entry from add_netbios_entry(). This is now
     explicit in the subnet_record parameter.

interface.c:
     iface_bcast(), iface_nmask(), iface_ip() return the
     default interface if none can be found. Made this
     behavior explicit - some code in nmbd incorrectly
     depended upon this (reply_name_status() for instance).

nameannounce.c:
     find_name_search changes to find_name_on_subnet.

namebrowse.c:
     wins_subnet renamed to wins_client_subnet.

namedbname.c:
     find_name_search removed. find_name_on_subnet added.
     add_netbios_entry - wins parameter removed.

namedbsubnet.c:
     find_req_subnet removed - not explicit enough.

nameelect.c:
     wins_subnet renamed to wins_client_subnet.

namepacket.c:
     listening() simplified.

nameresp.c:
     wins_subnet renamed to wins_client_subnet.

nameserv.c:
     find_name_search moved to find_name_on_subnet.

nameserv.h:
     FIND_XXX  -> changed to FIND_SELF_NAME, FIND_ANY_NAME.

nameservreply.c:
     find_name_search moved to find_name_on_subnet.
     Debug entries changed.

nameservresp.c:
     wins_subnet renamed to wins_client_subnet.

namework.c:
     wins_subnet renamed to wins_client_subnet.

nmbd.c:
     wins parameter removed from add_netbios_entry.

nmbsync:
     wins_subnet renamed to wins_client_subnet.

proto.h: The usual.

server.c:
     remove accepted fd from fd_set.

Jeremy (jallison@whistle.com)



****************************************
Date:	Friday October 24, 1997 @ 23:15
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20291

Modified Files:
	Makefile client.c ipc.c pipenetlog.c pipentlsa.c pipesrvsvc.c 
	proto.h smbparse.c util.c 
Added Files:
	ntclient.c nterr.c 
Log Message:

nterr.c :

	added a structure that wraps nt errors as strings and enums, so we
	can do a smb_nt_error() function.

Makefile ntclient.c :

	added ntclient.c, broken out nt domain stuff into a separate file.
	getting fed up of compile-times and size of client.c.

	fixed the do_lsa_req_chal() function.  made it read the response,
	and return the challenge credentials received from the server.

	next stop: do_lsa_auth_2().

client.c :

	removed nt domain logon functions into a separate file.

pipenetlog.c pipentlsa.c pipesrvsvc.c smbparse.c :

	i'd broken the offsets of the RPC_HDR while trying to sort out the
	nt client code.  fixed it again.  added some robustness stuff.

util.c :

	the unistrn2() function was null-terminating the string at one
	character too many.



****************************************
Date:	Friday October 24, 1997 @ 23:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7463

Modified Files:
	nmblib.c pipenetlog.c pipentlsa.c pipesrvsvc.c 
Log Message:

nmblib.c :

	adding some debug info

pipenetlog.c pipentlsa.c pipesrvsvc.c :

	using unistrn2 instead of unistr2 in the SAM logon username.
	wrong offset for command in request (use "reserved" field 
	not cancel_count.  AGH i'll get there) 



****************************************
Date:	Friday October 24, 1997 @ 23:58
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15672

Modified Files:
	util.c 
Log Message:

default server_name if NIS server is unavailable should be the local
machine, not a NULL string.



****************************************
Date:	Saturday October 25, 1997 @ 0:36
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv9885

Modified Files:
	WHATSNEW.txt 
Log Message:

updated to reflect the current state of play:

	- jeremy's nmbd restructure (wins client / wins server stuff)
	- which parameters are documented in smb.conf and which aren't
	- mentioning the new smbclient work-in-progress



****************************************
Date:	Saturday October 25, 1997 @ 0:39
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt Passwords.txt Printing.txt 
	SCO.txt Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of samba-1.9.18alpha4


****************************************
Date:	Saturday October 25, 1997 @ 0:39
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of samba-1.9.18alpha4


****************************************
Date:	Saturday October 25, 1997 @ 0:40
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt Passwords.txt Printing.txt 
	SCO.txt Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha4


****************************************
Date:	Saturday October 25, 1997 @ 0:40
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha4


****************************************
Date:	Saturday October 25, 1997 @ 4:22
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv12319

Modified Files:
      Tag: BRANCH_1_9_17
	sambalp Makefile relnotes.html samba.idb samba.spec smb.conf 
Added Files:
      Tag: BRANCH_1_9_17
	psfixes.pl 
Removed Files:
      Tag: BRANCH_1_9_17
	psfixes.sed 
Log Message:
update to SGI build files to sync with current sources




****************************************
Date:	Saturday October 25, 1997 @ 4:41
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv1960

Modified Files:
	sambalp Makefile relnotes.html samba.idb samba.spec smb.conf 
Added Files:
	psfixes.pl 
Removed Files:
	psfixes.sed 
Log Message:
update SGI build files to latest source



****************************************
Date:	Saturday October 25, 1997 @ 20:58
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11778

Modified Files:
	Makefile byteorder.h client.c credentials.c ipc.c lsaparse.c 
	ntclient.c pipenetlog.c pipentlsa.c pipesrvsvc.c proto.h 
	reply.c server.c smb.h smbdes.c smbencrypt.c smbparse.c uid.c 
Log Message:

Makefile :

	adding bits for new nt domain code

byteorder.h :

	trying to get macros right, and not to crash on SUNOS5...

client.c :

	added #ifdef NTDOMAIN, and created do_nt_login() function.  don't
	want to have to recompile client.c unless absolutely necessary.

credentials.c :

	moved deal_with_creds() [possibly inappropriately] into credentials.c

ipc.c reply.c server.c uid.c :

	attempting to make (un)become_root() functions calleable from smbclient.
	this is a little tricky: smbclient might have to be another setuid
	root program, immediately setuid'ing to non-root, so that we can
	reset-uid to root to get at the smbpasswd file.  or, have a secure
	pipe mechanism to smbd to grab smbpasswd entries.  or the like.

smbdes.c smbencrypt.c :

	created a function to generate lm and nt owf hashes.

lsaparse.c ntclient.c smbparse.c :

	added nt client LSA_AUTH2 code.  it works, too!

pipenetlog.c pipentlsa.c pipesrvsvc.c :

	simplification.  code-shuffling.  getting that damn offset right
	for the opcode in RPC_HDR.

smb.h :

	changed dcinfo xxx_creds to DOM_CRED structures instead of DOM_CHAL.
	we might need to store the server times as well.

proto.h :

	the usual.



****************************************
Date:	Saturday October 25, 1997 @ 23:15
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28556

Modified Files:
	smbparse.c proto.h 
Log Message:

sam logon query creation functions.  written twice because i deleted it.



****************************************
Date:	Sunday October 26, 1997 @ 1:49
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12878

Modified Files:
	ntclient.c pipenetlog.c smb.h smbparse.c 
Log Message:

got the SAM logon request generated, and received a SAM logon response back.
YEAH!

need to add:

	- client-side credential calculation
	- client-side parsing of the SAM logon response.



****************************************
Date:	Sunday October 26, 1997 @ 3:38
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17066

Modified Files:
	lsaparse.c ntclient.c smb.h 
Log Message:

added correct client-side credential generation / checking to the LSA SAM
Logon query.  i think i even got the client-side checking of the response
credentials right!



****************************************
Date:	Sunday October 26, 1997 @ 3:58
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6201

Modified Files:
	pipenetlog.c 
Log Message:

oops!



****************************************
Date:	Sunday October 26, 1997 @ 3:59
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv10158

Modified Files:
	cifsntdomain.txt 
Log Message:

latest version



****************************************
Date:	Sunday October 26, 1997 @ 4:13
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv25799

Modified Files:
	WHATSNEW.txt 
Log Message:

updated to describe smbclient work recently done.



****************************************
Date:	Sunday October 26, 1997 @ 5:13
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18alpha5


****************************************
Date:	Sunday October 26, 1997 @ 5:13
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt Passwords.txt Printing.txt 
	SCO.txt Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha5


****************************************
Date:	Sunday October 26, 1997 @ 5:13
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha5


****************************************
Date:	Sunday October 26, 1997 @ 18:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7731

Modified Files:
	Makefile clientgen.c clientutil.c nmbsync.c proto.h 
Log Message:
The browse synchronisation code in nmbsync.c now uses the clientgen.c
code, which means we don't have to link with a fake getpass routine
and we don't have a whole pile of global variables that really have
nothing to do with nmbd and were there to keep the client code happy.

The code should function identically to what it did before (hopefully
it was correct)

The only thing that now uses the horrible clientutil.c code is
smbclient.



****************************************
Date:	Sunday October 26, 1997 @ 18:45
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8440

Modified Files:
	client.c clientutil.c smbdes.c smbencrypt.c 
Log Message:
fix some casting errors in smbencrypt and some multiply-defined errors
in clientutil.c (Luke, you can't just copy a global variable
declaration from one file to another, you need to declare one of them
extern)



****************************************
Date:	Sunday October 26, 1997 @ 18:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8631

Modified Files:
	nmblookup.c 
Log Message:
added -U option to nmblookup. This is similar to -B except that it
forces the client to send a unicast instead of a broadcast netbios
packet. This is useful for diagnostics.



****************************************
Date:	Monday October 27, 1997 @ 5:42
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4823

Modified Files:
	Makefile credentials.c ntclient.c pipenetlog.c proto.h 
Log Message:

hooray.  hooray some more.  hooray a lot.  got the client-side working.

Q/R LSA_REQ_CHAL; Q/R LSA_AUTH2; Q/R LSA_SAMLOGON; Q/R LSA_SAMLOGOFF.
the last (non-essential right now) bit is the LSA_SRV_PWSET.

the next stage is to do LSA_OPENPOLICY; add the pipe binds (missing right
now); then we can test against an NT Server.



****************************************
Date:	Monday October 27, 1997 @ 22:11
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv3241

Modified Files:
	Roadmap 
Log Message:

added mention of compile-time experimentational NT Domain code.



****************************************
Date:	Monday October 27, 1997 @ 23:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28497

Modified Files:
	reply.c smb.h 
Log Message:
Fixed 2 oplock bugs:

1) the oplock macros in smb.h used | where they should have used
&. This means that smbd thought that all clients were always
requesting oplocks. This would have _really_ confused smbclient
and smbfs when they started receiving async oplock break requests when
they don't even know what an oplock is!

2) an oplock break request from a client can be embedded in a normal
lockingX request, and will be if the client has batched any lock
requests internally. The smbd code assumed that all oplock break
requests had num_locks==num_ulocks==0 which is not true. The only
thing special about a oplock break request with
num_locks==num_ulocks==0 is that no reply is sent. Otherwise it is
processed as a normal locking request in addition to the oplock break
processing.

These two fixes get the MS mail system in Win98 working on a Samba
1.9.18 network drive.

Andrew



****************************************
Date:	Tuesday October 28, 1997 @ 0:23
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5802

Modified Files:
      Tag: BRANCH_1_9_17
	predict.c reply.c server.c 
Log Message:
disable read prediction until we rewrite it. The code was written when
we didn't have proper share mode support and did not have multiple
opens of the one fd. The code was never updated to take this into
account and can now cause data corruption problems.

It needs to be rewritten from scratch. Probably by implementing a mini
filesystem abstraction layer (more shopisticated than our current
read_file() code).

Meanwhile, we can disable this code and wear the slight slow
down. It's better to be slow than wrong.



****************************************
Date:	Tuesday October 28, 1997 @ 0:38
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6579

Modified Files:
	local.h predict.c reply.c server.c 
Log Message:
also disable read prediction in 1.9.18



****************************************
Date:	Tuesday October 28, 1997 @ 1:27
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8135

Modified Files:
	locking.c locking_shm.c locking_slow.c proto.h server.c 
	shmem.c status.c 
Log Message:
change the default file permissions on the SHARE_MEM_FILE* to
0644. smbstatus now gets only read permission on the share files and
does no locking. 

also get rid of some unnecessary umask(0) calls. smbd always runs with
umask(0)





****************************************
Date:	Tuesday October 28, 1997 @ 2:09
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9899

Modified Files:
	lsaparse.c ntclient.c pipentlsa.c proto.h smb.h smbparse.c 
Log Message:

added LSA Open Policy query and response processing to smbclient



****************************************
Date:	Tuesday October 28, 1997 @ 2:10
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12116

Modified Files:
	cifsntdomain.txt 
Log Message:

documented LSA Open Policy Query.



****************************************
Date:	Tuesday October 28, 1997 @ 3:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15839

Modified Files:
	ipc.c 
Log Message:

checks against file handle in api_fd_reply().  i don't know what error
message should be returned, so i just let it fall through to sending an
"api_unsupported"



****************************************
Date:	Tuesday October 28, 1997 @ 4:04
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21664

Modified Files:
	byteorder.h lsaparse.c ntclient.c pipentlsa.c proto.h 
Log Message:

added LSA Query Info Policy.
fixed a problem with byte ordering (doing an SIVAL of the setup parameters
which was _also_ being done in the creation of the SMB header.  oops).



****************************************
Date:	Tuesday October 28, 1997 @ 4:09
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:

updated header to 1.9.18alpha6



****************************************
Date:	Tuesday October 28, 1997 @ 4:12
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv21711

Modified Files:
	NTDOMAIN.txt 
Log Message:

updated to indicate reported success with NT 3.51 as well as NT 4.0



****************************************
Date:	Tuesday October 28, 1997 @ 4:18
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:

spelling mistake



****************************************
Date:	Tuesday October 28, 1997 @ 4:18
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt Passwords.txt Printing.txt 
	SCO.txt Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha6


****************************************
Date:	Tuesday October 28, 1997 @ 4:18
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha6


****************************************
Date:	Tuesday October 28, 1997 @ 5:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25829

Modified Files:
	ntclient.c 
Log Message:
Fixed ntclient.c so it would compile.
Jeremy.



****************************************
Date:	Tuesday October 28, 1997 @ 5:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26085

Modified Files:
      Tag: BRANCH_1_9_17
	nameannounce.c 
Log Message:
Fixed bug where we are a WINS server but not a domain master
browser. We were doing a name query instead of a name status.

Jeremy.




****************************************
Date:	Tuesday October 28, 1997 @ 5:28
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26338

Modified Files:
	nameannounce.c 
Log Message:
Fixed bug where we are a WINS server but not a domain master
browser. We were doing a name query instead of a name status.
Jeremy.



****************************************
Date:	Tuesday October 28, 1997 @ 6:00
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28402

Modified Files:
	lsaparse.c ntclient.c pipeutil.c proto.h smb.h smbparse.c 
Log Message:

added LSA_Q_CLOSE and LSA_R_CLOSE (also to smb.h).  implemented in smbclient.
updated Query Info Policy to report domain name and domain sid for info levels
3 and 5.
fixed bug in dom_sid_to_string (idauths decoded wrong).  fixed bug in DOM_SID:
subauths are 32 bit not 16.



****************************************
Date:	Tuesday October 28, 1997 @ 12:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15608

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namepacket.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	namerequest.c 
Log Message:
Fist of the checkins for the new nmbd. 

namerequest.c: Contains code to process netbios requests on all subnets except WINS.
namepacket.c: Re-written to split up incoming/outgoing packets.

Jeremy (jallison@whistle.com)



****************************************
Date:	Tuesday October 28, 1997 @ 17:07
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19469

Modified Files:
	reply.c 
Log Message:
refuse pathworks type R connect (patch from Stephen Tweedie)




****************************************
Date:	Wednesday October 29, 1997 @ 1:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8959

Modified Files:
	Makefile includes.h locking_shm.c proto.h shmem.c smb.h 
Added Files:
	shmem_sysv.c 
Log Message:
SYSV IPC implementation of fast share modes.

It will try sysv IPC first, then if that fails it will try mmap(),
then after that it will try share files.

I have defined USE_SYSV_IPC for Linux, Solaris and HPUX at the
moment. Probably a lot more could have it defined. In fact, the vast
majority of systems support it. Need autoconf again :-)

It should actually be faster than the mmap() version, and doesn't need
any lock files. This means the problem of the share mem file being on
a NFS drive will be gone.




****************************************
Date:	Wednesday October 29, 1997 @ 1:22
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11126

Modified Files:
	includes.h 
Log Message:
define USE_SYSV_IPC on a bunch more systems.

Needs some testing though.



****************************************
Date:	Wednesday October 29, 1997 @ 1:25
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9686

Modified Files:
	includes.h 
Log Message:
define USE_SYSV_IPC on sunos4




****************************************
Date:	Wednesday October 29, 1997 @ 1:40
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11537

Modified Files:
	locking_shm.c smb.h 
Log Message:
lower the default hash size if SEMMSL isn't defined 





****************************************
Date:	Wednesday October 29, 1997 @ 1:55
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14662

Modified Files:
	includes.h 
Log Message:
define semun for broken solaris sysvipc


****************************************
Date:	Wednesday October 29, 1997 @ 1:55
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14104

Modified Files:
	smbpasswd.c 
Log Message:
fix cast


****************************************
Date:	Wednesday October 29, 1997 @ 1:59
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13741

Modified Files:
	shmem_sysv.c 
Log Message:
fix for broken sunos4 includes (doesn't have SHM_R)



****************************************
Date:	Wednesday October 29, 1997 @ 2:00
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12028

Modified Files:
	Makefile 
Log Message:
define FAST_SHARE_MODES on sunos4



****************************************
Date:	Wednesday October 29, 1997 @ 2:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13142

Modified Files:
	ubi_dLinkList.c 
Log Message:
need includes.h to compile on some systems (eg. sunos4)



****************************************
Date:	Wednesday October 29, 1997 @ 2:07
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17246

Modified Files:
	Makefile includes.h 
Log Message:
enable sysv ipc and fast share modes on OSF1



****************************************
Date:	Wednesday October 29, 1997 @ 4:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27169

Modified Files:
	ntclient.c pipenetlog.c pipentlsa.c pipesrvsvc.c pipeutil.c 
	proto.h smb.h smbparse.c 
Log Message:

smb.h smbparse.c pipeutil.c :

	added bind and bind ack structures and parsing functions.  restructured
	rpc header stuff.

ntclient.c pipenetlog.c pipentlsa.c pipesrvsvc.c :

	having to deal with restructuring above.



****************************************
Date:	Wednesday October 29, 1997 @ 5:15
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2775

Added Files:
	PRINTER_DRIVER.txt 
Log Message:
Adding printer drivers patch from Jean-Francois Micouleau
<Jean-Francois.Micouleau@utc.fr>. We can expand on this after
we have tested it out.
Jeremy.



****************************************
Date:	Wednesday October 29, 1997 @ 6:18
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv6128

Modified Files:
	mkrelease.sh 
Log Message:
tired of updating Makefile - use perl script to generate it now




****************************************
Date:	Wednesday October 29, 1997 @ 6:20
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv5750

Added Files:
	makefile.pl 
Removed Files:
	Makefile 
Log Message:
removing Makefile and adding perl script to generate it form source tree



****************************************
Date:	Wednesday October 29, 1997 @ 6:21
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv6303

Modified Files:
	README 
Log Message:
mention that Perl is required for build scripts



****************************************
Date:	Wednesday October 29, 1997 @ 6:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25186

Modified Files:
	.cvsignore Makefile ipc.c loadparm.c proto.h 
Log Message:
Adding Windows 95 printer driver code donated by Jean-Francois.Micouleau@utc.fr.
New program, make_printerdef, plus two new parameters :

[global] "printer driver file"
[local] "printer driver location"

Jeremy.



****************************************
Date:	Wednesday October 29, 1997 @ 6:35
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv7649

Modified Files:
	PRINTER_DRIVER.txt Support.txt 
Log Message:
Adding PRINTER_DRIVER.txt docs.



****************************************
Date:	Wednesday October 29, 1997 @ 6:54
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8754

Modified Files:
	smb.conf.5 
Log Message:
Added "printer driver location", "printer driver file" parameters.
Jeremy.



****************************************
Date:	Wednesday October 29, 1997 @ 8:55
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18645

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmblib.c 
Log Message:
Added copy_packet function. Needed for response_records.



****************************************
Date:	Wednesday October 29, 1997 @ 8:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19265

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namerequest.c 
Log Message:
Updated simplification of handling broadcast request packets.



****************************************
Date:	Wednesday October 29, 1997 @ 10:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1620

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namedbresp.c nameserv.h 
Log Message:
nameserv.h: Heavily changed.
namedbresp.c: Changed to use new response records containing packets.



****************************************
Date:	Wednesday October 29, 1997 @ 10:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5282

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namepacket.c 
Log Message:
Fixed up with new queues & response code.



****************************************
Date:	Wednesday October 29, 1997 @ 10:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3497

Added Files:
      Tag: JRA_NMBD_REWRITE
	wins.c 
Log Message:
Placeholder for wins server.



****************************************
Date:	Wednesday October 29, 1997 @ 10:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2473

Added Files:
	make_printerdef.c 
Log Message:
Utility code to produce printer definition files from MS files.
Part of code to support Windows 95 automated printer driver installs.
Written by Jean-Francois Micouleau <Jean-Francois.Micouleau@utc.fr>.




****************************************
Date:	Wednesday October 29, 1997 @ 11:04
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27790

Modified Files:
	byteorder.h ipc.c lsaparse.c ntclient.c pipenetlog.c 
	pipentlsa.c pipes.c pipesrvsvc.c proto.h smb.h smbparse.c 
	util.c 
Log Message:

byteorder.h :

	added mode for printing debug array data as chars not uint8/16/32s.
	only really useful for (uint8) strings or (uint16) unicode strings

lsaparse.c smbparse.c smb.h :

	rpc bind and rpc bind ack structures and parsing and creation functions.

ipc.c pipes.c pipenetlog.c pipentlsa.c pipesrvsvc.c :

	using rpc bind / bind ack parsing routines instead of incorrect use of
	api_LsarpcTNP1 function.

ntclient.c :

	creation of do_rpc_bind() function.

THAT'S IT, FOLKS!



****************************************
Date:	Wednesday October 29, 1997 @ 12:05
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6758

Modified Files:
	ipc.c ntclient.c proto.h smbparse.c 
Log Message:

added frag field to make_rpc_hdr() function



****************************************
Date:	Wednesday October 29, 1997 @ 12:59
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11633

Modified Files:
	loadparm.c locking_shm.c proto.h shmem.c shmem_sysv.c smb.h 
Log Message:
clean up the hash entry code a bit. Got rid of lp_shmem_hash_size()
and made it private to the 2 shmem implementations. Added new
shmops->hash_size() function.

Added code to handle the IPC system limits by looping decreasing the
size of the resources (semaphores and shared memory) that we request
until we get under the system limits, which can be quite low on some
systems!

Added checks that the creator of the IPC objects is root. Otherwise we
would be open to a security hole where someone pre-creates the shared
memory segment and attaches.




****************************************
Date:	Wednesday October 29, 1997 @ 13:18
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9283

Modified Files:
	locking.c 
Log Message:
- don't allow locking to initialise twice
- check that it is initialised before de-initialising it!




****************************************
Date:	Wednesday October 29, 1997 @ 13:59
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14265

Modified Files:
	Makefile shmem_sysv.c status.c 
Log Message:
damn. We need root privilages to do semaphore operations even if we
have done the semget() as root.  The problem is that become_root() and
unbecome_root() are so slow!

I've provided two options. The default is to set the semaphores (but
_not_ the shared memory) world writeable so that a become_root() isn't
needed. Otherwise you can define SECURE_SEMAPHORES and pay the
performance penalty.





****************************************
Date:	Thursday October 30, 1997 @ 0:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7677

Modified Files:
	Makefile ntclient.c proto.h smb.h smbparse.c 
Added Files:
	ntclientlsa.c ntclientnet.c ntclientpipe.c 
Log Message:

split ntclient.c down into appropriate modules.



****************************************
Date:	Thursday October 30, 1997 @ 1:34
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22411

Modified Files:
	ipc.c ntclientpipe.c 
Log Message:

ipc.c :

	bind ack should contain \PIPE\pipename not just pipename.

ntclientpipe.c :

	sanity in bind ack: pipe name checks; transfer syntax checks; reason checks.  



****************************************
Date:	Thursday October 30, 1997 @ 2:35
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3648

Modified Files:
	util.c 
Log Message:

called dump_data() from show_msg().



****************************************
Date:	Thursday October 30, 1997 @ 2:37
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:

updated to current version number.



****************************************
Date:	Thursday October 30, 1997 @ 2:38
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha7


****************************************
Date:	Thursday October 30, 1997 @ 2:38
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha7


****************************************
Date:	Thursday October 30, 1997 @ 6:05
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9985

Modified Files:
	ipc.c ntclientpipe.c proto.h smb.h smbparse.c util.c 
Log Message:

ipc.c ntclientpipe.c:

	response to Bind Acknowledgment needs a lookup table for the PIPE string
	(secondary address in RPC_HDR_BA structure).

smbparse.c util.c :

	interesting problem, i think caused by us typecasting a uint16* buffer
	to char*.  found on a SPARC.



****************************************
Date:	Thursday October 30, 1997 @ 6:58
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17409

Modified Files:
	byteorder.h 
Log Message:

typecast in calls to print_asc() wrong



****************************************
Date:	Thursday October 30, 1997 @ 7:08
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19725

Modified Files:
	ipc.c 
Log Message:

zero data parameter being passed to smb_io_rpc_hdr(), which couldn't cope.



****************************************
Date:	Thursday October 30, 1997 @ 7:23
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15269

Modified Files:
	byteorder.h srvparse.c 
Log Message:

byteorder.h :

	have another go at reporting stuff the right way round (on SPARCs)

srvparse.c :

	copyright messages



****************************************
Date:	Thursday October 30, 1997 @ 8:20
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18alpha8


****************************************
Date:	Thursday October 30, 1997 @ 8:20
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha8


****************************************
Date:	Thursday October 30, 1997 @ 8:20
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha8


****************************************
Date:	Thursday October 30, 1997 @ 10:00
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24527

Modified Files:
	cifsntdomain.txt 
Log Message:

update



****************************************
Date:	Thursday October 30, 1997 @ 10:18
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26005

Added Files:
      Tag: JRA_NMBD_REWRITE
	nameregister.c 
Log Message:
Name registration module.



****************************************
Date:	Thursday October 30, 1997 @ 10:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26176

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namedbsubnet.c 
Log Message:
Subnet module.



****************************************
Date:	Thursday October 30, 1997 @ 12:05
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2312

Modified Files:
	ipc.c lsaparse.c ntclient.c ntclientpipe.c pipes.c proto.h 
	reply.c smb.h 
Log Message:

removed mechanism that created actual files NETLOGON, lsarpc and the like,
which are pipes on the IPC$ connection.

created mechanism to record pipe names in a separate pipes_struct.  it
is planned to expand this, to return sensible things like interface
structures, and policy handles (RPC_IFACE and LSA_POL_HND).  and the like.



****************************************
Date:	Thursday October 30, 1997 @ 12:11
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2872

Modified Files:
	NTDOMAIN.txt 
Log Message:

updated documentation as chmodding files /tmp/lsarpc and /tmp/netlogon
is not needed any more.



****************************************
Date:	Thursday October 30, 1997 @ 12:13
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18alpha9


****************************************
Date:	Thursday October 30, 1997 @ 12:13
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha9


****************************************
Date:	Thursday October 30, 1997 @ 12:13
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha9


****************************************
Date:	Thursday October 30, 1997 @ 13:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6583

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namedbsubnet.c 
Log Message:
Subnet database module.



****************************************
Date:	Thursday October 30, 1997 @ 13:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3442

Added Files:
      Tag: JRA_NMBD_REWRITE
	namedbnamelist.c 
Log Message:
Module to handle nameslists on subnets.



****************************************
Date:	Thursday October 30, 1997 @ 14:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2184

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namerequest.c 
Log Message:
Updated for latest compile.



****************************************
Date:	Thursday October 30, 1997 @ 14:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5875

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namerequest.c 
Log Message:
Removed code that saved names we don't own.



****************************************
Date:	Thursday October 30, 1997 @ 14:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19537

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namedbnamelist.c namepacket.c nmblib.c 
Log Message:
Commiting modules that compile.



****************************************
Date:	Thursday October 30, 1997 @ 16:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10700

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namedbserver.c namedbsubnet.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	namedbworkgroup.c 
Log Message:
Latest versions.



****************************************
Date:	Thursday October 30, 1997 @ 19:42
Author:	tridge

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv22427

Removed Files:
	COPYING.LGPL README.UBI 
Log Message:
moved ubi_ modules back into the ubiqx directory. 

I've added a very simple (and portable) method for having separate
source directories.

This should also help when we add directories for the various ports. A
unix directory would make sense.







****************************************
Date:	Thursday October 30, 1997 @ 19:42
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17505

Modified Files:
	Makefile includes.h 
Log Message:
moved ubi_ modules back into the ubiqx directory. 

I've added a very simple (and portable) method for having separate
source directories.

This should also help when we add directories for the various ports. A
unix directory would make sense.







****************************************
Date:	Thursday October 30, 1997 @ 19:44
Author:	tridge

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv16085

Added Files:
	COPYING.LGPL README.UBI ubi_dLinkList.c ubi_dLinkList.h 
Log Message:
moved ubi_ modules back into the ubiqx directory. 

I've added a very simple (and portable) method for having separate
source directories.

This should also help when we add directories for the various ports. A
unix directory would make sense.







****************************************
Date:	Thursday October 30, 1997 @ 19:44
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22711

Removed Files:
	ubi_dLinkList.c ubi_dLinkList.h 
Log Message:
moved ubi_ modules back into the ubiqx directory. 

I've added a very simple (and portable) method for having separate
source directories.

This should also help when we add directories for the various ports. A
unix directory would make sense.







****************************************
Date:	Thursday October 30, 1997 @ 19:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18737

Modified Files:
	proto.h 
Log Message:
Chris will be pleased to know that mkproto.awk no longer runs on the
ubiqx files :-)




****************************************
Date:	Friday October 31, 1997 @ 1:48
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv4721/rpc_pipes

Log Message:
Directory /data/cvs/samba/source/rpc_pipes added to the repository



****************************************
Date:	Friday October 31, 1997 @ 1:52
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv21694

Added Files:
	Makefile lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipenetlog.c pipentlsa.c pipes.c pipesrvsvc.c pipeutil.c 
	smbparse.c srvparse.c 
Log Message:

creating rpc pipe library.



****************************************
Date:	Friday October 31, 1997 @ 2:42
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13365

Modified Files:
	Makefile includes.h proto.h 
Added Files:
	Makefile.lib 
Log Message:

Makefiles for libraries.  the dependencies aren't quite right, and i
don't know how to sort them.

make proto in each library directory.  over-ride the make proto for ubiqx,
so that it doesn't happen, but throws up a warning instead.



****************************************
Date:	Friday October 31, 1997 @ 2:42
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv13365/rpc_pipes

Modified Files:
	Makefile 
Added Files:
	rpc_proto.h 
Log Message:

Makefiles for libraries.  the dependencies aren't quite right, and i
don't know how to sort them.

make proto in each library directory.  over-ride the make proto for ubiqx,
so that it doesn't happen, but throws up a warning instead.



****************************************
Date:	Friday October 31, 1997 @ 2:42
Author:	lkcl

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv13365/ubiqx

Added Files:
	Makefile 
Log Message:

Makefiles for libraries.  the dependencies aren't quite right, and i
don't know how to sort them.

make proto in each library directory.  over-ride the make proto for ubiqx,
so that it doesn't happen, but throws up a warning instead.



****************************************
Date:	Friday October 31, 1997 @ 3:33
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14902

Modified Files:
	Makefile 
Log Message:
added -g3 compile option on SGI to make debugging core dumps easier.
Made format for each OS version the same to make autogeneration of
SGI Makefile easier.



****************************************
Date:	Friday October 31, 1997 @ 3:48
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv16113

Modified Files:
	Makefile lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipenetlog.c pipentlsa.c pipesrvsvc.c pipeutil.c rpc_proto.h 
	smbparse.c srvparse.c 
Added Files:
	COPYING.LGPL 
Log Message:

GLPL license on these files instead of GPL.



****************************************
Date:	Friday October 31, 1997 @ 3:49
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv7199

Added Files:
	pipe_hnd.c 
Log Message:

pipe handles file, for use by SMBopenX and SMBclose on IPC$ share.



****************************************
Date:	Friday October 31, 1997 @ 4:05
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8209

Modified Files:
      Tag: BRANCH_1_9_17
	Makefile 
Log Message:
Made format for each OS version the same to make autogeneration of
SGI Makefile easier.



****************************************
Date:	Friday October 31, 1997 @ 4:08
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13142

Modified Files:
	Makefile ipc.c pipes.c proto.h server.c 
Log Message:

Makefile:

	simply adding pipes.o to SMBDOBJ3.

rpc_pipes/pipe_hnd.c :

	created pipe handles module.  

pipes.c server.c :

	use of pipe_hnd functions in SMBopenX and SMBclose, on the IPC$ pipe.



****************************************
Date:	Friday October 31, 1997 @ 4:08
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv13142/rpc_pipes

Modified Files:
	pipe_hnd.c 
Log Message:

Makefile:

	simply adding pipes.o to SMBDOBJ3.

rpc_pipes/pipe_hnd.c :

	created pipe handles module.  

pipes.c server.c :

	use of pipe_hnd functions in SMBopenX and SMBclose, on the IPC$ pipe.



****************************************
Date:	Friday October 31, 1997 @ 4:24
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv19819

Modified Files:
	pipe_hnd.c rpc_proto.h 
Added Files:
	README.RPC 
Log Message:

added initialisation routine for pipe handles

added README.RPC file for GLPL.



****************************************
Date:	Friday October 31, 1997 @ 4:27
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv17431

Added Files:
	README.RPC 
Log Message:

GLPL notice on the rpc_pipes/ directory



****************************************
Date:	Friday October 31, 1997 @ 4:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14619

Added Files:
      Tag: JRA_NMBD_REWRITE
	namedbresponserecords.c 
Removed Files:
      Tag: JRA_NMBD_REWRITE
	namedbresp.c 
Log Message:
Changing name from namedbresp.c to namedbresponserecords.c




****************************************
Date:	Friday October 31, 1997 @ 4:46
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16308

Removed Files:
      Tag: JRA_NMBD_REWRITE
	namedbname.c 
Log Message:
Renamed to namedbnamelist.c



****************************************
Date:	Friday October 31, 1997 @ 4:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10746

Removed Files:
      Tag: JRA_NMBD_REWRITE
	namedbwork.c 
Log Message:
Renamed to namedbworkgroup.c



****************************************
Date:	Friday October 31, 1997 @ 5:05
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv20526/ubiqx

Modified Files:
	Makefile README.UBI 
Added Files:
	COPYING.LIB ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c 
	ubi_BinTree.h ubi_SplayTree.c ubi_SplayTree.h ubi_StackQueue.c 
	ubi_StackQueue.h ubi_sLinkList.c ubi_sLinkList.h 
Removed Files:
	COPYING.LGPL 
Log Message:
Modified Files:
        ubiqx/Makefile ubiqx/README.UBI 

Added new modules to the Makefile.  Changed the text of the README to
reflect the directory change.

Added Files:
        ubiqx/ubi_AVLtree.c ubiqx/ubi_AVLtree.h                   
        ubiqx/ubi_BinTree.c ubiqx/ubi_BinTree.h
        ubiqx/ubi_SplayTree.c ubiqx/ubi_SplayTree.h
        ubiqx/ubi_StackQueue.c ubiqx/ubi_StackQueue.h
        ubiqx/ubi_sLinkList.c ubiqx/ubi_sLinkList.h

This is the remainder of the toolkit.  A quick rundown:
  sLinkList  = A simple singly-linked list.
  StackQueue = Implements both a stack and a queue.
  dLinkList  = (Not added 'cause it's already there.)  A doubly-linked list.

  BinTree    = Base level binary tree module.  (No height balancing, just
               the basics.)
  AVLtree    = Descendant type of BinTree.  Implements a height-balanced
               (AVL) binary tree.
  SplayTree  = Descendant type of BinTree.  Implements a splay-balanced
               binary tree.

Renamed Files:
        ubiqx/COPYING.LGPL ==> ubiqx/COPYING.LIB

This matches the naming that GNU suggests.



****************************************
Date:	Friday October 31, 1997 @ 8:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13748

Modified Files:
	Makefile ipc.c pipes.c proto.h 
Log Message:

storing pipe name state (from set named pipe handle state call) in the
pipes array.



****************************************
Date:	Friday October 31, 1997 @ 8:52
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv9667

Added Files:
	COPYING.LIB 
Removed Files:
	COPYING.LGPL 
Log Message:

following chris' lead on the GLPL stuff for ubiqx/



****************************************
Date:	Friday October 31, 1997 @ 9:21
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15185

Modified Files:
	Makefile ntclient.c 
Log Message:

added a client-side "set named pipe handle state" function.  not known
exactly when you call this (before or after a bind).  can sort that out
later.



****************************************
Date:	Friday October 31, 1997 @ 9:21
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv15185/rpc_pipes

Modified Files:
	ntclientpipe.c rpc_proto.h 
Log Message:

added a client-side "set named pipe handle state" function.  not known
exactly when you call this (before or after a bind).  can sort that out
later.



****************************************
Date:	Friday October 31, 1997 @ 9:33
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15003

Modified Files:
	lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipenetlog.c pipentlsa.c pipesrvsvc.c pipeutil.c smbparse.c 
	srvparse.c 
Log Message:

blanked out these files, so that if someone does make proto, they don't
interfere with the files in the rpc_pipes/ directory.

andrew doesn't want to lose any cvs history by moving files around, so
he's going to look into that tomorrow.



****************************************
Date:	Friday October 31, 1997 @ 12:19
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv24300

Modified Files:
      Tag: BRANCH_1_9_17
	mkrelease.sh psfixes.pl relnotes.html 
Added Files:
      Tag: BRANCH_1_9_17
	idb.pl spec.pl makefile.pl .cvsignore 
Removed Files:
      Tag: BRANCH_1_9_17
	samba.idb samba.spec Makefile 
Log Message:
automatically generate the Makefile and packaging files from perl scripts



****************************************
Date:	Friday October 31, 1997 @ 12:36
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv326

Modified Files:
      Tag: BRANCH_1_9_17
	idb.pl 
Log Message:
fix typo and remove generated files from package



****************************************
Date:	Friday October 31, 1997 @ 13:06
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv26219

Modified Files:
      Tag: BRANCH_1_9_17
	README 
Log Message:
update description of build process



****************************************
Date:	Friday October 31, 1997 @ 13:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2775

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namedbnamelist.c namepacket.c nameregister.c namerequest.c 
	namequery.c nameserv.h 
Log Message:
Updating latest compiling snapshot.



****************************************
Date:	Friday October 31, 1997 @ 13:38
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23972

Modified Files:
	Makefile 
Log Message:
fixed the Makefile. 1.9.18 should now compile again. 




****************************************
Date:	Friday October 31, 1997 @ 13:40
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2703

Modified Files:
	locking_shm.c proto.h smbpasswd.c 
Log Message:
- cleanup some warnings 

- redo the prototypes





****************************************
Date:	Friday October 31, 1997 @ 13:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4977

Removed Files:
	lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipenetlog.c pipentlsa.c pipesrvsvc.c pipeutil.c smbparse.c 
	srvparse.c 
Log Message:
removing the files that are now in rpc_pipes

For future reference, if you want to move files about then don't do it
this way. The history info is lost.

Instead contact me first and tell me what you want moved and why. Then
I'll decide if we can do it while retaining the history info.




****************************************
Date:	Friday October 31, 1997 @ 13:48
Author:	tridge

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv25227

Removed Files:
	README.RPC 
Log Message:
this is now in the rpc_pipes directory



****************************************
Date:	Friday October 31, 1997 @ 13:49
Author:	tridge

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv2218

Removed Files:
	Makefile 
Log Message:
we don't need a Makefile in each directory




****************************************
Date:	Friday October 31, 1997 @ 13:50
Author:	tridge

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv21383

Removed Files:
	Makefile 
Log Message:
no Makefile needed here either





****************************************
Date:	Friday October 31, 1997 @ 15:27
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10703

Modified Files:
	params.c 
Log Message:
pm_process() never closed the file (a memory and file descriptor leak)



****************************************
Date:	Friday October 31, 1997 @ 15:51
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12755

Modified Files:
	includes.h 
Log Message:
OSF1 doesn't define union semun either. 






****************************************
Date:	Friday October 31, 1997 @ 16:54
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6749

Modified Files:
	includes.h 
Log Message:
define NO_SEMUN for svr4







****************************************
Date:	Friday October 31, 1997 @ 16:56
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8696

Modified Files:
	locking_shm.c 
Log Message:
change from * to ^ in hashing of device/inode. Using * meant that if
the device number happened to divide the number of hash buckets we
would only use a small fraction of the hash buckets, which would slow
things down.









****************************************
Date:	Saturday November 1, 1997 @ 4:33
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv14975

Modified Files:
	README makefile.pl mkrelease.sh psfixes.pl relnotes.html 
Added Files:
	.cvsignore idb.pl spec.pl 
Removed Files:
	samba.idb samba.spec 
Log Message:
Update file for automatically generating a release



****************************************
Date:	Saturday November 1, 1997 @ 6:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13107

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c nmbd_responserecordsdb.c nmbd_serverlistdb.c 
	nmbd_subnetdb.c nmbd_workgroupdb.c 
Log Message:
Finally decided on naming scheme.



****************************************
Date:	Saturday November 1, 1997 @ 6:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17805

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_packets.c 
Log Message:
Decided on naming scheme - moved namepacket.c



****************************************
Date:	Saturday November 1, 1997 @ 6:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10363

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_nameregister.c nmbd_namequery.c 
Log Message:
Fixed naming scheme.



****************************************
Date:	Saturday November 1, 1997 @ 6:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2792

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c 
Log Message:
Fixed naming scheme.



****************************************
Date:	Saturday November 1, 1997 @ 6:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6039

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c nmbd_namequery.c nmbd_packets.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namerelease.c 
Log Message:
Adding in nmbd_namerelease.c.




****************************************
Date:	Saturday November 1, 1997 @ 6:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv59

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_winsserver.c 
Log Message:
Got naming consistant.



****************************************
Date:	Saturday November 1, 1997 @ 8:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23923

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_winsserver.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_lmhosts.c 
Log Message:
Added lmhosts functionality. Namequeries/registrations/releases/ are now
completely regular. Add nodestatus next.



****************************************
Date:	Saturday November 1, 1997 @ 11:47
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv432

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_packets.c nmbd_subnetdb.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_nodestatus.c 
Log Message:
Added nodestatus calls. This caused large re-arrangements (including
userdata modifications) to allow a name_query to be followed by a
node status from one call.



****************************************
Date:	Saturday November 1, 1997 @ 12:13
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6677

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_packets.c nameserv.h 
Log Message:
Added retransmit_or_expire_response_records function to nmbd_packets.c
Fixes to nmbd_responserecordsdb.c nameserv.h in line with this.



****************************************
Date:	Saturday November 1, 1997 @ 18:22
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16925

Modified Files:
	server.c 
Log Message:
re-initialise the timezone on each new connection. This means you
don't need to restart smbd after a DST change.



****************************************
Date:	Saturday November 1, 1997 @ 18:33
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17268

Modified Files:
	locking_shm.c shmem.c shmem_sysv.c smb.h 
Log Message:
some locking code cleanups




****************************************
Date:	Saturday November 1, 1997 @ 19:13
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25614

Modified Files:
	shmem_sysv.c 
Log Message:
don't use SEM_UNDO because of ridiculously small undo limits on some
OSes. Instead add explicit checks for dead locks at startup.



****************************************
Date:	Saturday November 1, 1997 @ 19:13
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23440

Modified Files:
	interface.c 
Log Message:
change a debug level



****************************************
Date:	Sunday November 2, 1997 @ 0:21
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1703

Added Files:
	smberr.c torture.c 
Log Message:
a simple SMB torture tester. This will allow us to evaluate locking
techniques more accurately. 




****************************************
Date:	Sunday November 2, 1997 @ 0:22
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv165

Modified Files:
	Makefile client.c clientgen.c clientutil.c nmbsync.c 
	password.c proto.h 
Log Message:
a simple SMB torture tester. This will allow us to evaluate locking
techniques more accurately. 




****************************************
Date:	Sunday November 2, 1997 @ 0:25
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26870

Modified Files:
	Makefile 
Log Message:
add smberr to Makefile





****************************************
Date:	Sunday November 2, 1997 @ 0:28
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22611

Modified Files:
	torture.c 
Log Message:
set O_CREAT on lock file






****************************************
Date:	Sunday November 2, 1997 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13418

Modified Files:
	cifsntdomain.txt 
Log Message:

updating to latest version



****************************************
Date:	Sunday November 2, 1997 @ 6:20
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20583

Modified Files:
	client.c clientutil.c ntclient.c proto.h 
Log Message:

client.c clientutil.c proto.h
rpc_pipes/ntclientlsa.c rpc_pipes/ntclientnet.c
rpc_pipes/ntclientpipe.c :

	added extra argument to cli_call_api() to allow specifying the length of
	the \PIPE\ name.  it appears that, like when the name of the pipe is NULL
	and OS-2 requires two extra bytes _after_ the NULL name, that NT requires
	two bytes after the NULL-terminated name "\PIPE\".  these two bytes vary,
	but values seen so far are: 0x72 0x70; 0x63 0x65; 0x44 0x65; 0x4E 0x00.

	there appears not to be much logic to this.  purpose unknown.

ntclient.c:

	put Set Named Pipe Handle State call directly after SMBopenX call.



****************************************
Date:	Sunday November 2, 1997 @ 6:20
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv20583/rpc_pipes

Modified Files:
	ntclientlsa.c ntclientnet.c ntclientpipe.c 
Log Message:

client.c clientutil.c proto.h
rpc_pipes/ntclientlsa.c rpc_pipes/ntclientnet.c
rpc_pipes/ntclientpipe.c :

	added extra argument to cli_call_api() to allow specifying the length of
	the \PIPE\ name.  it appears that, like when the name of the pipe is NULL
	and OS-2 requires two extra bytes _after_ the NULL name, that NT requires
	two bytes after the NULL-terminated name "\PIPE\".  these two bytes vary,
	but values seen so far are: 0x72 0x70; 0x63 0x65; 0x44 0x65; 0x4E 0x00.

	there appears not to be much logic to this.  purpose unknown.

ntclient.c:

	put Set Named Pipe Handle State call directly after SMBopenX call.



****************************************
Date:	Sunday November 2, 1997 @ 6:31
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv17641

Modified Files:
	NTDOMAIN.txt 
Log Message:

added instructions advising people to set up 1.9.18alpha as a Win95 Domain
Logon server, with encrypted passwords *prior* to trying out the NT Domain
Logons.



****************************************
Date:	Sunday November 2, 1997 @ 6:32
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv12202

Modified Files:
	WHATSNEW.txt 
Log Message:

updated version number.



****************************************
Date:	Sunday November 2, 1997 @ 6:35
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv21396

Modified Files:
	WHATSNEW.txt 
Log Message:

mention of GLPL for the rpc_pipe/ directory



****************************************
Date:	Sunday November 2, 1997 @ 6:36
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha10


****************************************
Date:	Sunday November 2, 1997 @ 6:36
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha10


****************************************
Date:	Sunday November 2, 1997 @ 10:42
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2725

Modified Files:
	asyncdns.c nmbd.c 
Log Message:
minor async DNS cleanups

- start it earlier
- set DEBUGLEVEL to -1 to prevent any debug calls in child
- exit with _exit() to prevent logfile corruption



****************************************
Date:	Sunday November 2, 1997 @ 10:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv182

Modified Files:
	torture.c 
Log Message:
don't print the progress so often - it slows down the client too much



****************************************
Date:	Sunday November 2, 1997 @ 12:25
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3678

Modified Files:
	asyncdns.c 
Log Message:
to avoid any possibility of the pipe getting full and blocking we now
only allow one query in the async dns pipe at a time. The others are
queued in the parent.




****************************************
Date:	Sunday November 2, 1997 @ 12:33
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25007

Modified Files:
	asyncdns.c 
Log Message:
fix comments




****************************************
Date:	Sunday November 2, 1997 @ 14:10
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12320

Modified Files:
	includes.h 
Log Message:
got rid of redundent rpc_pipes/rpc_proto.h





****************************************
Date:	Sunday November 2, 1997 @ 14:10
Author:	tridge

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv8393

Removed Files:
	rpc_proto.h 
Log Message:
got rid of redundent rpc_pipes/rpc_proto.h





****************************************
Date:	Sunday November 2, 1997 @ 15:01
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4807

Modified Files:
	clientutil.c credentials.c ntclient.c proto.h smb.h 
Log Message:
convert the credentials code back to uchar[8] from uint32[2]

This should fix the byte order problems (maybe!)







****************************************
Date:	Sunday November 2, 1997 @ 15:02
Author:	tridge

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv7129

Modified Files:
	ntclientnet.c pipenetlog.c smbparse.c 
Log Message:
convert the credentials code back to uchar[8] from uint32[2]

This should fix the byte order problems (maybe!)







****************************************
Date:	Sunday November 2, 1997 @ 15:11
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8245

Modified Files:
	credentials.c proto.h 
Log Message:
fix some uchar/char conflicts






****************************************
Date:	Monday November 3, 1997 @ 6:27
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4494

Modified Files:
	loadparm.c proto.h smbpass.c 
Log Message:

loadparm.c :

	added "domain hosts allow" and "domain hosts deny".  these are to be
	used to specify which workstations can log in to a samba PDC from.
	it is also used to check whether to add an initial machine password
	into the smbpasswd database or not

smbpass.c :

	added capability to add a machine password to the smbpasswd database.
	***** the default uid is zero ***** 

rpc_pipes/pipenetlog.c :

	use of "domain hosts allow/deny" parameters to allow login access.

proto.h :

	usual.



****************************************
Date:	Monday November 3, 1997 @ 6:27
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv4494/rpc_pipes

Modified Files:
	pipenetlog.c 
Log Message:

loadparm.c :

	added "domain hosts allow" and "domain hosts deny".  these are to be
	used to specify which workstations can log in to a samba PDC from.
	it is also used to check whether to add an initial machine password
	into the smbpasswd database or not

smbpass.c :

	added capability to add a machine password to the smbpasswd database.
	***** the default uid is zero ***** 

rpc_pipes/pipenetlog.c :

	use of "domain hosts allow/deny" parameters to allow login access.

proto.h :

	usual.



****************************************
Date:	Monday November 3, 1997 @ 6:40
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3999

Modified Files:
	smb.conf.5 
Log Message:

documented "domain hosts allow/deny" parameters



****************************************
Date:	Monday November 3, 1997 @ 6:47
Author:	lkcl

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv7444

Modified Files:
	WHATSNEW.txt 
Log Message:

updated



****************************************
Date:	Monday November 3, 1997 @ 6:59
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv688

Modified Files:
	NTDOMAIN.txt 
Log Message:

updated



****************************************
Date:	Monday November 3, 1997 @ 7:35
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6677

Modified Files:
	loadparm.c proto.h reply.c server.c util.c 
Log Message:

Christian Lademann's contribution:  new capabilities in smb.conf.

'<' and '|' characters indicate read file and execute command respectively,
and feed the output into the parameter (!!!).

'<$' and '|$' means run standard_sub_basic() on them.

this is going to be fun to document in smb.conf.5....

also, Christian created a new "online" service parameter.  services can
be taken "off-line"....



****************************************
Date:	Monday November 3, 1997 @ 7:47
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha11


****************************************
Date:	Monday November 3, 1997 @ 7:47
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha11


****************************************
Date:	Tuesday November 4, 1997 @ 2:47
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12206

Modified Files:
	Makefile clientutil.c ntclient.c proto.h 
Log Message:

added code that _uses_ arcfour.  arcfour itself, or anything remotely
like it, has *not* been added.

this is the client and server side of the SAM Logon NT and LM OWF password
obfuscation (rc4 with the long-term session key).



****************************************
Date:	Tuesday November 4, 1997 @ 2:47
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv12206/rpc_pipes

Modified Files:
	pipenetlog.c smbparse.c 
Log Message:

added code that _uses_ arcfour.  arcfour itself, or anything remotely
like it, has *not* been added.

this is the client and server side of the SAM Logon NT and LM OWF password
obfuscation (rc4 with the long-term session key).



****************************************
Date:	Tuesday November 4, 1997 @ 6:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20973

Modified Files:
	loadparm.c proto.h reply.c server.c util.c 
Log Message:
Rolling back the files 
loadparm.c : to equivalent to version 1.67
reply.c : to equivalent to version 1.69
server.c : to equivalent to version 1.122
util.c : to equivalent to version 1.98

to remove the incorrect changes.

proto.h: The usual.

rpc_pipes/smbparse.c : Backeting stuff that SHOULD NOT BE IN THE
                       none-NTDOMAIN build !

Jeremy.



****************************************
Date:	Tuesday November 4, 1997 @ 6:24
Author:	jra

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv20973/rpc_pipes

Modified Files:
	smbparse.c 
Log Message:
Rolling back the files 
loadparm.c : to equivalent to version 1.67
reply.c : to equivalent to version 1.69
server.c : to equivalent to version 1.122
util.c : to equivalent to version 1.98

to remove the incorrect changes.

proto.h: The usual.

rpc_pipes/smbparse.c : Backeting stuff that SHOULD NOT BE IN THE
                       none-NTDOMAIN build !

Jeremy.



****************************************
Date:	Tuesday November 4, 1997 @ 7:35
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7805

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c nmbd_lmhosts.c nmbd_namelistdb.c 
	nmbd_namequery.c nmbd_nameregister.c nmbd_namerelease.c 
	nmbd_nodestatus.c nmbd_packets.c nmbd_responserecordsdb.c 
	nmbd_subnetdb.c nameserv.h 
Log Message:
nmbd_incomingrequests.c: Fixedup mess with NB_FLAGS.
nmbd_lmhosts.c: Fixedup mess with NB_FLAGS.
nmbd_namelistdb.c: Changed ip_flags to ip.
nmbd_namequery.c: Use new struct userdata_struct.
nmbd_nameregister.c: Use new struct userdata_struct.
nmbd_namerelease.c: Use new struct userdata_struct.
nmbd_nodestatus.c: Use new struct userdata_struct.
nmbd_packets.c: Use new struct userdata_struct.
nmbd_responserecordsdb.c: Use new struct userdata_struct.
nameserv.h: Fixedup mess with NB_FLAGS.





****************************************
Date:	Tuesday November 4, 1997 @ 10:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12240

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd.c nmbd_namelistdb.c nmbd_namerelease.c nmbd_subnetdb.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_mynames.c 
Log Message:
Latest compiling snapshot. Added nmbd_mynames.c



****************************************
Date:	Tuesday November 4, 1997 @ 13:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12474

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_nodestatus.c nmbd_packets.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_logonnames.c 
Log Message:
Added nmbd_logonnames.c - not finished but close.



****************************************
Date:	Wednesday November 5, 1997 @ 4:54
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv6200

Modified Files:
	lsaparse.c pipenetlog.c pipesrvsvc.c pipeutil.c smbparse.c 
	srvparse.c 
Removed Files:
	pipes.c 
Log Message:

pipes.c :

	old copy of this file: shouldn't be here.

lsaparse.c pipenetlog.c pipesrvsvc.c pipeutil.c smbparse.c srvparse.c:

	added #ifdef NTDOMAIN round everything...





****************************************
Date:	Wednesday November 5, 1997 @ 6:16
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv5439

Modified Files:
	lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipe_hnd.c pipenetlog.c pipentlsa.c pipesrvsvc.c pipeutil.c 
	smbparse.c srvparse.c 
Removed Files:
	COPYING.LIB README.RPC 
Log Message:

revert to GPL instead of LGPL



****************************************
Date:	Wednesday November 5, 1997 @ 6:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9611

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c 
Log Message:
Adding file to handle becoming a domain master browser.



****************************************
Date:	Wednesday November 5, 1997 @ 7:27
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12750

Modified Files:
	smb.h 
Log Message:

smb.h :

	LSA_OPENSECRET and three other unknown #defines are commented as not
	being the real defines for these!!!

rpc_pipes/pipenetlog.c :

	USE_ARCFOUR for Server Password Set.  and then ignore the password (agh!)
	this will *fail* to do logins, by the way.  i need to add a routine
	to update the smb password (next job).




****************************************
Date:	Wednesday November 5, 1997 @ 7:27
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv12750/rpc_pipes

Modified Files:
	pipenetlog.c 
Log Message:

smb.h :

	LSA_OPENSECRET and three other unknown #defines are commented as not
	being the real defines for these!!!

rpc_pipes/pipenetlog.c :

	USE_ARCFOUR for Server Password Set.  and then ignore the password (agh!)
	this will *fail* to do logins, by the way.  i need to add a routine
	to update the smb password (next job).




****************************************
Date:	Wednesday November 5, 1997 @ 9:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12165

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_logonnames.c nmbd_namelistdb.c 
	nmbd_serverlistdb.c nmbd_subnetdb.c nmbd_winsserver.c 
	nmbd_workgroupdb.c nameserv.h 
Log Message:
Updated logic to do dmb & logon name processing.



****************************************
Date:	Wednesday November 5, 1997 @ 14:37
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20169

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_namelistdb.c nmbd_nameregister.c 
	nmbd_serverlistdb.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_lmb.c 
Log Message:
Added local master browser functions. Updated dmb function.
Added auxiliary functions to namelist code.



****************************************
Date:	Wednesday November 5, 1997 @ 23:21
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24744

Modified Files:
	includes.h 
Log Message:
add NO_SEMUN for HP

I really wish you could say 

	#ifndef "struct foo_struct"

in C :-)



****************************************
Date:	Thursday November 6, 1997 @ 9:09
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18920

Modified Files:
	namedbsubnet.c 
Log Message:
Change to always register the WORKGROUP<1e> name as does Win95.
Jeremy.



****************************************
Date:	Thursday November 6, 1997 @ 13:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11187

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_packets.c 
	nmbd_serverlistdb.c nameserv.h 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_sendannounce.c 
Log Message:
Adding re-written announce code.



****************************************
Date:	Thursday November 6, 1997 @ 13:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7803

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_processlogon.c 
Log Message:
Modified slightly for new nmbd.



****************************************
Date:	Thursday November 6, 1997 @ 14:46
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22949

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c nmbd_packets.c nmbd_sendannounce.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingdgrams.c 
Log Message:
Started the task of processing incoming browse datagram packets.



****************************************
Date:	Thursday November 6, 1997 @ 14:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16383

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_packets.c 
Log Message:
Fixed compile errors.



****************************************
Date:	Thursday November 6, 1997 @ 16:41
Author:	dan

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2288

Added Files:
      Tag: JRA_NMBD_REWRITE
	architecture.doc 
Log Message:
Some of "why isn't Samba built like this" comments recently are old chestnuts.
I have pulled some of the recent answers together plus put down some common
questions and put them in this file. Hopefully Jeremy will add a bit when the
major nmbd redesign is finished, so I put it in his branch. The section on
security has some obvious answers but hasn't been started.

Dan



****************************************
Date:	Thursday November 6, 1997 @ 17:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11340

Modified Files:
	includes.h torture.c ufc.c 
Log Message:
no asm/signal.h for linux as this is not portable

add auto username from LOGNAME for smbtorture

proto fix in ufc.c



****************************************
Date:	Friday November 7, 1997 @ 0:45
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11433

Modified Files:
	time.c 
Log Message:
change from %D to %m/%d/%Y in timestring(). This doesn't really matter
as it is only for logging but it will prevent people from writing in
to say that we are not y2k compliant after running auto-diagnostic
tests.



****************************************
Date:	Friday November 7, 1997 @ 6:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17271

Modified Files:
	local.h server.c 
Log Message:
local.h: Added OPLOCK_BREAK_TIMEOUT_FUDGEFACTOR.
proto.h: The usual.
server.c: Added timestring() messages to oplock logs. Added fix
          to allow file open processing to continue is an oplock
          break message times out.
Jeremy.



****************************************
Date:	Friday November 7, 1997 @ 10:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14764

Modified Files:
	Makefile ipc.c loadparm.c namedbwork.c nameelect.c namelogon.c 
	password.c pipes.c proto.h reply.c server.c smb.h smbpass.c 
Log Message:

following a cvs error, i am rewriting this monster-commit.  with bad grace.


Modified Files:
---------------

Makefile:

	adding extra files

ipc.c :

	send_trans_reply() - alignment issue.  this makes the alignment
	the same as that in NT.  this should be looked at by people who
	understand the SMB stuff better than i.

	api_fd_commands[] - added samr and wkssvc pipes.

loadparm.c :

	lp_domain_controller() changed to mean "samba is a domain controller".
	it's a "yes/no" parameter, now.  no, it isn't used _anywhere_.

namedbwork.c nameelect.c :

	if "domain controller = yes" then add SV_TYPE_DOMAIN_CTRL to the
	host _and_ workgroup announcements.  yes, you must do both: nt does.

namelogon.c :

	important NETLOGON bug in SAMLOGON request parsing, which may be
	the source of some people's problems with logging on to the Samba PDC.

password.c :

	get_smbpwnam() renamed to get_smbpwd_entry().

pipes.c :

	added samr and wkssvc pipes.

proto.h :

	usual.  can we actually _remove_ proto.h from the cvs tree, and
	have it as one of the Makefile dependencies, or something?

reply.c :

	get_smbpwnam() renamed to get_smbpwd_entry() - also changed response
	error code when logging in from a WORKSTATION$ account.  yes, paul
	is right: we need to know when to return the right error code, and why.

server.c :

	added call to reset_chain_pnum().

	#ifdef NTDOMAIN added call to init_lsa_policy_hnd() #endif.  jeremy,
	you'd be proud: i did a compile without NTDOMAIN, and caught a link
	error for this function.

smb.h :

	defines and structures for samr and wkssvc pipes.

smbpass.c :

	modified get_smbpwnam() to get_smbpwd_entry() and it now takes
	two arguments.  one for the name; if this is null, it looks up
	by smb_userid instead.

	oh, by the way, smb_userids are actually domain relative ids
	(RIDs).  concatenate a RID with the domain SID, and you have
	an internet globally unique way of identifying a user.

	we're using RIDs in the wrong way....

	added mod_smbpwnam() function.  this was based on code in smbpasswd.c

rpc_pipes/lsaparse.c :

	added enum trusted domain parsing.  this is incomplete: i need
	a packet trace to write it properly.

rpc_pipes/pipe_hnd.c :
	
	added reset_chain_pnum() function.

rpc_pipes/pipenetlog.c :

	get_smbpwnam() function renamed to get_smbpwd_entry().

	arcfour() issues.

	removed capability of get_md4pw() function to automatically add
	workstation accounts.  this should either be done using
	smbpasswd -add MACHINE$, or by using \PIPE\samr.

rpc_pipes/pipe_util.c :

	create_pol_hnd() - creates a unique LSA Policy Handle.  overkill
	function: uses a 64 bit sequence number; current unix time and
	the smbd pid.

rpc_pipes/smbparse.c :

	arcfour() issues.

	smb_io_unistr2() should advance by uni_str_len not uni_max_len.

	smb_io_smb_hdr_rb() - request bind uses uint16 for the context
	id, and uint8 for the num_syntaxes.  oops, i put these both as
	uint32s.


Added Files:
------------

rpc_pipes/lsa_hnd.c :

	on the samr pipe, allocate and associate an LSA Policy Handle
	with a SID.  you receive queries with the LSA Policy Handle,
	and have to turn this back into a SID in order to answer the
	query...

rpc_pipes/pipesamr.c rpc_pipes/samrparse.c 

	\PIPE\samr processing.  samr i presume is the SAM Replication pipe.

rpc_pipes/pipewkssvc.c rpc_pipes/wksparse.c 

	\PIPE\wkssvc processing.  the Workstation Service pipe?


holy cow.



****************************************
Date:	Friday November 7, 1997 @ 10:04
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv14764/rpc_pipes

Modified Files:
	lsaparse.c pipe_hnd.c pipenetlog.c pipeutil.c smbparse.c 
Added Files:
	lsa_hnd.c pipesamr.c pipewkssvc.c samrparse.c wksparse.c 
Log Message:

following a cvs error, i am rewriting this monster-commit.  with bad grace.


Modified Files:
---------------

Makefile:

	adding extra files

ipc.c :

	send_trans_reply() - alignment issue.  this makes the alignment
	the same as that in NT.  this should be looked at by people who
	understand the SMB stuff better than i.

	api_fd_commands[] - added samr and wkssvc pipes.

loadparm.c :

	lp_domain_controller() changed to mean "samba is a domain controller".
	it's a "yes/no" parameter, now.  no, it isn't used _anywhere_.

namedbwork.c nameelect.c :

	if "domain controller = yes" then add SV_TYPE_DOMAIN_CTRL to the
	host _and_ workgroup announcements.  yes, you must do both: nt does.

namelogon.c :

	important NETLOGON bug in SAMLOGON request parsing, which may be
	the source of some people's problems with logging on to the Samba PDC.

password.c :

	get_smbpwnam() renamed to get_smbpwd_entry().

pipes.c :

	added samr and wkssvc pipes.

proto.h :

	usual.  can we actually _remove_ proto.h from the cvs tree, and
	have it as one of the Makefile dependencies, or something?

reply.c :

	get_smbpwnam() renamed to get_smbpwd_entry() - also changed response
	error code when logging in from a WORKSTATION$ account.  yes, paul
	is right: we need to know when to return the right error code, and why.

server.c :

	added call to reset_chain_pnum().

	#ifdef NTDOMAIN added call to init_lsa_policy_hnd() #endif.  jeremy,
	you'd be proud: i did a compile without NTDOMAIN, and caught a link
	error for this function.

smb.h :

	defines and structures for samr and wkssvc pipes.

smbpass.c :

	modified get_smbpwnam() to get_smbpwd_entry() and it now takes
	two arguments.  one for the name; if this is null, it looks up
	by smb_userid instead.

	oh, by the way, smb_userids are actually domain relative ids
	(RIDs).  concatenate a RID with the domain SID, and you have
	an internet globally unique way of identifying a user.

	we're using RIDs in the wrong way....

	added mod_smbpwnam() function.  this was based on code in smbpasswd.c

rpc_pipes/lsaparse.c :

	added enum trusted domain parsing.  this is incomplete: i need
	a packet trace to write it properly.

rpc_pipes/pipe_hnd.c :
	
	added reset_chain_pnum() function.

rpc_pipes/pipenetlog.c :

	get_smbpwnam() function renamed to get_smbpwd_entry().

	arcfour() issues.

	removed capability of get_md4pw() function to automatically add
	workstation accounts.  this should either be done using
	smbpasswd -add MACHINE$, or by using \PIPE\samr.

rpc_pipes/pipe_util.c :

	create_pol_hnd() - creates a unique LSA Policy Handle.  overkill
	function: uses a 64 bit sequence number; current unix time and
	the smbd pid.

rpc_pipes/smbparse.c :

	arcfour() issues.

	smb_io_unistr2() should advance by uni_str_len not uni_max_len.

	smb_io_smb_hdr_rb() - request bind uses uint16 for the context
	id, and uint8 for the num_syntaxes.  oops, i put these both as
	uint32s.


Added Files:
------------

rpc_pipes/lsa_hnd.c :

	on the samr pipe, allocate and associate an LSA Policy Handle
	with a SID.  you receive queries with the LSA Policy Handle,
	and have to turn this back into a SID in order to answer the
	query...

rpc_pipes/pipesamr.c rpc_pipes/samrparse.c 

	\PIPE\samr processing.  samr i presume is the SAM Replication pipe.

rpc_pipes/pipewkssvc.c rpc_pipes/wksparse.c 

	\PIPE\wkssvc processing.  the Workstation Service pipe?


holy cow.



****************************************
Date:	Friday November 7, 1997 @ 10:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1285

Modified Files:
	ipc.c uid.c 
Log Message:
ipc.c: Changing back arbitrary alignment change until I know *why*
luke changed it.
proto.h: The usual.
uid.c: Fix crash bug when attaching with smbclient -mCORE. A vuid
pointer was being used when it was null.
Jeremy.



****************************************
Date:	Friday November 7, 1997 @ 12:51
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11199

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_lmb.c nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_logonnames.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_packets.c nmbd_serverlistdb.c 
	nmbd_subnetdb.c nmbd_workgroupdb.c nameserv.h 
Log Message:
Rewrite that removes unneeded server entry representing a workgroup.
We already have a data structure for that so we shouldn't need a 
bogus server entry instead. Added code to handle writing out a
workgroup record into browse.dat for smbd communication. Added
code that times out unused workgroups.

Jeremy.



****************************************
Date:	Friday November 7, 1997 @ 14:06
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28001

Modified Files:
	mangle.c server.c proto.h 
Log Message:

Modified Files:
	mangle.c server.c proto.h 

mangle.c
  I am planning to replace the mangled_stack array with a proper stack,
  but found many style inconsistencies (no, really).  As you might expect,
  I have standardized on my own preferences.  ;)

  I also found a potential problem in create_mangled_stack (which I've
  renamed as reset_mangled_stack).  If the stack size were passed into
  the function as 0 or less, there was the possibility that the array
  would have been freed twice.  I doubt that this ever happens, but I
  don't like to leave holes.

  Of course, the fix will be irrelevent once I replace the array with
  a linked-list-based stack.

server.c
  Changed the call to create_mangled_stack() to a call to reset_mangled_stack().

proto.h
  Regenerated to match the above changes.  (A real comment!  How unusual!)




****************************************
Date:	Friday November 7, 1997 @ 14:28
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10755

Modified Files:
	ipc.c proto.h reply.c smb.h 
Log Message:

ipc.c :

	added a #define around the alignment thing: it's a way to stop
	NetMonitor from decoding your packets!!!!
	
proto.h :

	usual.

reply.c :

	added what i believe to be the correct error messages for getting
	correct domain joining.

smb.h :

	some guesses at good names of the SAMR_XXXX functions.  sorting
	out the SAMR_LOOKUP_RIDS function.  this is *not* the same as
	the LSA_LOOKUP_RIDS function, unless paul accidentally put it
	on the ntlsa pipe by mistake, instead of the samr pipe :-)

rpc_pipes/lsa_hnd.c rpc_pipes/pipe_hnd.c :

	moved creation and allocation of unique policy handles into this module.

rpc_pipes/pipesamr.c rpc_pipes/samrparse.c rpc_pipes/smbparse.c :

	SAMR_LOOKUP_RIDS is beginning to look _suspiciously_ like the 
	LSA_LOOKUP_RIDS function.  but i know that there are subtle
	discrepancies.



****************************************
Date:	Friday November 7, 1997 @ 14:28
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv10755/rpc_pipes

Modified Files:
	lsa_hnd.c pipesamr.c pipeutil.c samrparse.c smbparse.c 
Log Message:

ipc.c :

	added a #define around the alignment thing: it's a way to stop
	NetMonitor from decoding your packets!!!!
	
proto.h :

	usual.

reply.c :

	added what i believe to be the correct error messages for getting
	correct domain joining.

smb.h :

	some guesses at good names of the SAMR_XXXX functions.  sorting
	out the SAMR_LOOKUP_RIDS function.  this is *not* the same as
	the LSA_LOOKUP_RIDS function, unless paul accidentally put it
	on the ntlsa pipe by mistake, instead of the samr pipe :-)

rpc_pipes/lsa_hnd.c rpc_pipes/pipe_hnd.c :

	moved creation and allocation of unique policy handles into this module.

rpc_pipes/pipesamr.c rpc_pipes/samrparse.c rpc_pipes/smbparse.c :

	SAMR_LOOKUP_RIDS is beginning to look _suspiciously_ like the 
	LSA_LOOKUP_RIDS function.  but i know that there are subtle
	discrepancies.



****************************************
Date:	Friday November 7, 1997 @ 14:37
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11261

Modified Files:
	proto.h 
Log Message:

local time discrepancies between the date on my computer and the date on
chris' computer (probably about four minutes) meant that chris' commits
didn't get downloaded when i did a cvs update.

therefore, i did a cvs update; make proto; cvs commit, and still got problems.

so, five minutes later, i do a cvs update, and _then_ chris' server.c and
mangle.c mods get downloaded, and i have to do another make proto.


this particular problem has hit us *really* badly in the past, because i
was taking files home (onto a portable that i hadn't reset the time on
since i went to the states) and then recopying them back onto the computer
here.  if i do this, i do a touch *.c *.h; cvs -t update.  *then* a cvs commit.



****************************************
Date:	Saturday November 8, 1997 @ 7:59
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv14498/rpc_pipes

Modified Files:
	pipenetlog.c 
Log Message:

added function dividers



****************************************
Date:	Saturday November 8, 1997 @ 11:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19811

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_lmb.c nmbd_incomingdgrams.c nmbd_packets.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_workgroupdb.c 
Log Message:
Working through the port 138 announce requests & responses.
Nearly done.



****************************************
Date:	Saturday November 8, 1997 @ 13:02
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23471

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingdgrams.c nmbd_packets.c 
Log Message:
Tidied up subnet allocation for dgram packets.



****************************************
Date:	Saturday November 8, 1997 @ 15:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13128

Modified Files:
	clientgen.c proto.h torture.c 
Log Message:
added two more sets of tests to the smbtorture test. The tests I added
are ones that I know Samba fails. They are:

  1) correct support for retaining locks over a close (ie. the server
     must not use posix semantics)
  2) support for lock timeouts
  3) the server supports multiple locking contexts on the one SMB
  connection, distinguished by PID.  
  4) the server correctly fails overlapping locks made by the same PID (this
     goes against POSIX behaviour, which is why it is tricky to implement)
  5) the server denies unlock requests by an incorrect client PID

I've been discussing with Jeremy ways that we can re-implement the
locking code to handle these correctly. This test code will be useful
to see that we have got it right.




****************************************
Date:	Saturday November 8, 1997 @ 16:33
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23882

Modified Files:
	torture.c 
Log Message:
a few more tests added, including one that tests whether the server
understand the full range of byte offsets in locking requests. Samba
doesn't (due to the 31 bit limitation in fcntl locking)



****************************************
Date:	Sunday November 9, 1997 @ 1:23
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12756

Modified Files:
	smbpass.c 
Log Message:

mod_smbpasswd() was junking the smbpasswd file...
uninitialised variable warnings.



****************************************
Date:	Monday November 10, 1997 @ 4:30
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21644

Modified Files:
	Makefile client.c clientgen.c nmbsync.c ntclient.c nterr.c 
	password.c proto.h reply.c server.c smb.h smbencrypt.c 
	smberr.c smbpass.c torture.c 
Added Files:
	pwd_validate.c 
Log Message:

attempting to mark up 32 bit error codes, needed for NT domains.
separated out smb server-mode password validation into a separate file.
added called and calling netbios names to client gen state: referenced
section in rfc1002.txt.
created workstation trust account checking code in ntclient.c

there might be a bug in reply_session_setup_andX.  i indented and added { }
around single-line if statements: the lm password checking code now doesn't
look right (around the GUEST_SESSSETUP bits).  *no code semantics have been
changed by the indentation process*.



****************************************
Date:	Monday November 10, 1997 @ 4:30
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv21644/rpc_pipes

Modified Files:
	lsaparse.c pipenetlog.c 
Log Message:

attempting to mark up 32 bit error codes, needed for NT domains.
separated out smb server-mode password validation into a separate file.
added called and calling netbios names to client gen state: referenced
section in rfc1002.txt.
created workstation trust account checking code in ntclient.c

there might be a bug in reply_session_setup_andX.  i indented and added { }
around single-line if statements: the lm password checking code now doesn't
look right (around the GUEST_SESSSETUP bits).  *no code semantics have been
changed by the indentation process*.



****************************************
Date:	Monday November 10, 1997 @ 7:42
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6409

Modified Files:
	byteorder.h ntclient.c proto.h 
Log Message:

byteorder.h :

	typecasting for the debug messages of the data dump.  hm.

#ifdef NTDOMAIN

ntclient.c rpc_pipes/lsaparse.c rpc_pipes/ntclientnet.c rpc_pipes/smbparse.c :

	adding "Net Server Password Set" functionality to smbclient.

#endif



****************************************
Date:	Monday November 10, 1997 @ 7:42
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv6409/rpc_pipes

Modified Files:
	lsaparse.c ntclientnet.c smbparse.c 
Log Message:

byteorder.h :

	typecasting for the debug messages of the data dump.  hm.

#ifdef NTDOMAIN

ntclient.c rpc_pipes/lsaparse.c rpc_pipes/ntclientnet.c rpc_pipes/smbparse.c :

	adding "Net Server Password Set" functionality to smbclient.

#endif



****************************************
Date:	Monday November 10, 1997 @ 21:33
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv6533

Modified Files:
      Tag: BRANCH_1_9_17
	samba.spec smb.conf 
Log Message:
Minor fixes only. smb.conf dropped files in /var/samba, correct /var/log/samba
samba.spec doubled up on docs/faq which caused some confusion.



****************************************
Date:	Tuesday November 11, 1997 @ 6:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8167

Modified Files:
	Makefile byteorder.h client.c clientgen.c nmbsync.c ntclient.c 
	nterr.c password.c proto.h reply.c server.c smb.h smbencrypt.c 
	smberr.c smbpass.c torture.c 
Log Message:
Rolled back tree state to 11:59pm 8th November 1997 EST to
remove problems.
Jeremy



****************************************
Date:	Tuesday November 11, 1997 @ 6:38
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8043

Removed Files:
	pwd_validate.c 
Log Message:
Removed pwd_validate.c as no longer in main branch.
Jeremy



****************************************
Date:	Tuesday November 11, 1997 @ 11:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10260

Modified Files:
	nmbd.c server.c 
Log Message:
auto-create the locks directory on startup



****************************************
Date:	Tuesday November 11, 1997 @ 12:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9885

Modified Files:
	server.c 
Log Message:
Left global_oplock_break set while request to break oplock is
outstanding to client. Done to allay Andrews' fears about
readbraw crossing on the wire :-).
Jeremy.



****************************************
Date:	Tuesday November 11, 1997 @ 13:38
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22003

Modified Files:
	clientgen.c 
Log Message:
fixed a bug which caused nmbd to core dump.  The problem was incorrect
parameters to cli_NetServerEnum()




****************************************
Date:	Tuesday November 11, 1997 @ 13:51
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23757

Modified Files:
	torture.c 
Log Message:
added code to test the cli_NetServerEnum() function in clientgen.c






****************************************
Date:	Tuesday November 11, 1997 @ 13:53
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23763

Modified Files:
	Makefile 
Log Message:
need getsmbpass.o in link of smbtorture on some systems







****************************************
Date:	Thursday November 13, 1997 @ 1:46
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv22706

Modified Files:
	ntclientpipe.c 
Log Message:

a SIVAL that should have been an SSVAL...



****************************************
Date:	Thursday November 13, 1997 @ 4:07
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14598

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile byteorder.h client.c clientgen.c includes.h nmbsync.c 
	ntclient.c nterr.c password.c proto.h reply.c server.c smb.h 
	smbencrypt.c smberr.c smbpass.c torture.c 
Added Files:
      Tag: BRANCH_NTDOM
	ntdomain.h pwd_validate.c 
Log Message:

First commit to BRANCH_NTDOM.  the -DNTDOMAIN stuff was getting risky...

Makefile :

	put "# " in front of FLAGS1 = -O.  i can now put FLAGS1 = -g -g in
	makefile.

	added nterr.o

byteorder.h :

	typecasting the data from unsigned to signed: the DEBUG printf was
	sign extending signed numbers...

client.c :

	do_nt_login() takes the destination ip address as an extra argument.

clientgen.c :

	use cli_error() instead of direct reading of the smb_rcls SMB field.
	you can enable 32 bit error codes, and detect them properly.
	
	cli_state sec_mode is a bit-field.  made some #defines.

	changed cli_state "desthost" parameter to "called_netbios_name".
	added "calling_netbios_name".  added called_name_type and
	calling_name_type to cli_session_request().  documented microsoft's
	arse-farmer method of turning fully-qualified DNS names into
	NetBIOS names, and put a #ifdef around it which is always enabled.

includes.h ntdomain.h :

	ntdomain stuff was getting a bit big...

nmbsync.c :

	cli_session_request takes full netbios name, source and destination.

ntclient.c :

	workstation trust account session establishment - client side.

	NETLOGON Logon Control2 testing - client side

	Net Server Password Set - client side

nterr.c :

	decoding of NT_STATUS_xxxxxx error messages.  very basic at the moment.

password.c reply.c pwd_validate.c server.c :

	moved the password server code out into pwd_validate.c.  

	not sure what to do in reply.c for "workstation trust accounts".
	deny all IPC$ access at the moment for all accounts ending in $.

smbencrypt.c :

	added SMBOWF and SMBNTOWF functions.

smberr.c :

	modified to report 32 bit errors if they are enabled.

rpc_pipes/lsaparse.c rpc_pipes/ntclientnet.c :

	added LSA Query Logon Control2.

rpc_pipes/ntclientpipe.c :

	errors in and experimentation with rpc bind / bind ack stuff, to
	an NT server not just to a samba server (wow!).

rpc_pipes/smbparse.c :

	oops!  there is an extra byte "reserved" just after the opnum.
	this didn't actually matter unless the memory was uninitialised,
	because the rpc header is 4-byte aligned!




****************************************
Date:	Thursday November 13, 1997 @ 4:07
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv14598/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientnet.c ntclientpipe.c smbparse.c 
Log Message:

First commit to BRANCH_NTDOM.  the -DNTDOMAIN stuff was getting risky...

Makefile :

	put "# " in front of FLAGS1 = -O.  i can now put FLAGS1 = -g -g in
	makefile.

	added nterr.o

byteorder.h :

	typecasting the data from unsigned to signed: the DEBUG printf was
	sign extending signed numbers...

client.c :

	do_nt_login() takes the destination ip address as an extra argument.

clientgen.c :

	use cli_error() instead of direct reading of the smb_rcls SMB field.
	you can enable 32 bit error codes, and detect them properly.
	
	cli_state sec_mode is a bit-field.  made some #defines.

	changed cli_state "desthost" parameter to "called_netbios_name".
	added "calling_netbios_name".  added called_name_type and
	calling_name_type to cli_session_request().  documented microsoft's
	arse-farmer method of turning fully-qualified DNS names into
	NetBIOS names, and put a #ifdef around it which is always enabled.

includes.h ntdomain.h :

	ntdomain stuff was getting a bit big...

nmbsync.c :

	cli_session_request takes full netbios name, source and destination.

ntclient.c :

	workstation trust account session establishment - client side.

	NETLOGON Logon Control2 testing - client side

	Net Server Password Set - client side

nterr.c :

	decoding of NT_STATUS_xxxxxx error messages.  very basic at the moment.

password.c reply.c pwd_validate.c server.c :

	moved the password server code out into pwd_validate.c.  

	not sure what to do in reply.c for "workstation trust accounts".
	deny all IPC$ access at the moment for all accounts ending in $.

smbencrypt.c :

	added SMBOWF and SMBNTOWF functions.

smberr.c :

	modified to report 32 bit errors if they are enabled.

rpc_pipes/lsaparse.c rpc_pipes/ntclientnet.c :

	added LSA Query Logon Control2.

rpc_pipes/ntclientpipe.c :

	errors in and experimentation with rpc bind / bind ack stuff, to
	an NT server not just to a samba server (wow!).

rpc_pipes/smbparse.c :

	oops!  there is an extra byte "reserved" just after the opnum.
	this didn't actually matter unless the memory was uninitialised,
	because the rpc header is 4-byte aligned!




****************************************
Date:	Thursday November 13, 1997 @ 4:50
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26134

Modified Files:
      Tag: BRANCH_NTDOM
	reply.c 
Log Message:

guest access bug introduced in reply_sesssetup_X()



****************************************
Date:	Thursday November 13, 1997 @ 7:28
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2775

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_incomingdgrams.c 
	nmbd_packets.c nmbd_sendannounce.c nmbd_serverlistdb.c 
	nameserv.h 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_browserdb.c 
Log Message:
Added capability to loopback dgram packets.
Started on browse sync list code.



****************************************
Date:	Thursday November 13, 1997 @ 7:47
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19515

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c ntclient.c ntdomain.h password.c proto.h smb.h 
Log Message:

Status Report
-------------

1) dce/rpc

i eventually realised that DCE/RPC pipe "bind requests" have meaning :-)
therefore, when you specify the "abstract interface syntax", you are
specifying the service and the *version* of that service that you wish
to talk to.

this check-in adds some empirically observed rpc binds that i've seen,
along with their version numbers (\PIPE\srvsvc is at version 3!).


2) nltest.exe

this msdn resource kit program is providing useful test information,
some of which is undocumented.  the only way to get it is to run nltest
against an NT server, and sniff the wire.  that having been said, this
program is for informational purposes only, and is probably a massive
red herring.

still, it's instructive, if nothing else :-)


3) workstation trust accounts

i still don't understand these.  what's going on.  i think, as john said,
a connection is established _and then kept open_.  if you do this, then
you have a "trust relationship" with that machine.



Modified Files
--------------

ipc.c :

	misunderstanding of pipe "bind" stuff.  lsass handles the TNP replies.

ntclient.c :

	wksta_trust_acct() - needed to get the initial passwords sorted out

	made rpc_pipe_bind() responsible for allocating the abstract syntax
	and version number etc, depending on the PIPE service you want to
	talk to.

ntdomain.h :

	structures for Logon Ctrl2 Query Levels 1, 2 and 3.  LSA Query Trusted
	Domains stuff.  all this is generated by NLTEST.EXE, which is probably
	a red herring in disguise.  interesting to note that "LSA Query Trusted
	Domains" comes up as a "bad opnum" in Net Monitor!

rpc_pipes/lsaparse.c :

	Logon Ctrl and Query Trust Domain parsing.

rpc_pipes/ntclientlsa.c rpc_pipes/ntclientnet.c :

	use get_nt_error_msg() to report 32 bit status errors back

rpc_pipes/ntclientpipe.c rpc_pipes/pipe_util.c :

	rpc_pipe_bind() - doing the right thing on the abstract syntax etc
	i _think_.  the ground-work is here: there is more to be done, in
	supporting different _versions_ of the various RPC pipes, and such.

rpc_pipes/pipenetlog.c :

	server-implementation of Logon Ctrl and Query Trust Domain lists.
	not very good ones: it was a bit late.  the info came from NLTEST.EXE
	so its usefulness is questionable.  for a purely diagnostic point of
	view, it's useful.

rpc_pipes/smbparse.c :

	smb_io_unistr2() - experimenting here, to get query trust domain
	lists working (this is the one that's unsupported in NetMonitor,
	but is generated by NLTEST.EXE and NT server _does_ respond).

	net_info 1 to 3 - these are part of the Logon Control2 query stuff.
	



****************************************
Date:	Thursday November 13, 1997 @ 7:47
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv19515/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipenetlog.c pipeutil.c smbparse.c 
Log Message:

Status Report
-------------

1) dce/rpc

i eventually realised that DCE/RPC pipe "bind requests" have meaning :-)
therefore, when you specify the "abstract interface syntax", you are
specifying the service and the *version* of that service that you wish
to talk to.

this check-in adds some empirically observed rpc binds that i've seen,
along with their version numbers (\PIPE\srvsvc is at version 3!).


2) nltest.exe

this msdn resource kit program is providing useful test information,
some of which is undocumented.  the only way to get it is to run nltest
against an NT server, and sniff the wire.  that having been said, this
program is for informational purposes only, and is probably a massive
red herring.

still, it's instructive, if nothing else :-)


3) workstation trust accounts

i still don't understand these.  what's going on.  i think, as john said,
a connection is established _and then kept open_.  if you do this, then
you have a "trust relationship" with that machine.



Modified Files
--------------

ipc.c :

	misunderstanding of pipe "bind" stuff.  lsass handles the TNP replies.

ntclient.c :

	wksta_trust_acct() - needed to get the initial passwords sorted out

	made rpc_pipe_bind() responsible for allocating the abstract syntax
	and version number etc, depending on the PIPE service you want to
	talk to.

ntdomain.h :

	structures for Logon Ctrl2 Query Levels 1, 2 and 3.  LSA Query Trusted
	Domains stuff.  all this is generated by NLTEST.EXE, which is probably
	a red herring in disguise.  interesting to note that "LSA Query Trusted
	Domains" comes up as a "bad opnum" in Net Monitor!

rpc_pipes/lsaparse.c :

	Logon Ctrl and Query Trust Domain parsing.

rpc_pipes/ntclientlsa.c rpc_pipes/ntclientnet.c :

	use get_nt_error_msg() to report 32 bit status errors back

rpc_pipes/ntclientpipe.c rpc_pipes/pipe_util.c :

	rpc_pipe_bind() - doing the right thing on the abstract syntax etc
	i _think_.  the ground-work is here: there is more to be done, in
	supporting different _versions_ of the various RPC pipes, and such.

rpc_pipes/pipenetlog.c :

	server-implementation of Logon Ctrl and Query Trust Domain lists.
	not very good ones: it was a bit late.  the info came from NLTEST.EXE
	so its usefulness is questionable.  for a purely diagnostic point of
	view, it's useful.

rpc_pipes/smbparse.c :

	smb_io_unistr2() - experimenting here, to get query trust domain
	lists working (this is the one that's unsupported in NetMonitor,
	but is generated by NLTEST.EXE and NT server _does_ respond).

	net_info 1 to 3 - these are part of the Logon Control2 query stuff.
	



****************************************
Date:	Tuesday November 18, 1997 @ 5:07
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17637

Modified Files:
      Tag: BRANCH_NTDOM
	loadparm.c ntdomain.h password.c proto.h reply.c smb.h 
	smbpass.c 
Log Message:


loadparm.c :

	added "domain trusted" and "domain trusting" parameters, currently unused.

ntdomain.h :

	a little more work on SAMR_UNKNOWN_32 and on LSA_R_ENUM_TRUSTED_DOMAINS

password.c :

	split the SMB password checking into a separate function smb_password_ok().
	this is used in password_ok() and is also called directly for the trust
	accounts (SMBsesssetupX with an account ending in $).  you never actually
	allow a login with the trust accounts, therefore you don't have a unix id.
	therefore, password_ok() fails.

	an alternative way to do this would be to have a separate trust-smbpasswd
	file.  there are advantages to this approach: some extra fields may be needed.

reply.c :

	still not allowing trust accounts to log in: always returning an error code.
	jht's comments at one stage about opening \PIPE\wkssvc i think is done on
	the anonymous IPC$ connection, not on a "trust account" login.  therefore
	we just need to verify the trust account password, and return the appropriate
	error code:

	no trust account                 : NT_STATUS_NO_SUCH_USER
	trust account, but wrong password: NT_STATUS_LOGON_FAILURE
	wksta trust account, password ok : NT_STATUS_NOLOGON_WKSTA_TRUST_ACCT
	domain trust account, password ok: NT_STATUS_NOLOGON_INTERDOMAIN_TRUST_ACCT
	server trust account, password ok: NT_STATUS_NOLOGON_SERVER_TRUST_ACCT

	this still needs to be looked at, and is still an outstanding issue...

smb.h :

	smb_passwd - added acct_ctrl field, which describes the type of SMB account.
	see ACB_XXXX #defines at the top of ntdomain.h.

smbpass.c :

	reading the acct_ctrl details (4 bytes of hex, e.g :0080: is ACB_WKSTRUST)
	from the smbpasswd file.  need to talk to the guy who's been rewriting this
	code, because this is a temporary hack.

rpc_pipes/lsaparse.c :

	updating enum trust domains code.  this may end up calling "trusted domains"
	and "trusting domains" parameters.  the trust account code needs to be
	explored, first.

rpc_pipes/pipentlsa.c :

	there is a bug in NT's LSA parsing code, which warrants putting a warning
	about different frag_len and alloc_hints.  sadly.

rpc_pipes/pipenetlog.c :

	when modifying the smbpasswd trust account entry, the acct_ctrl field
	needs to be set to ACT_WKSTRUST.

rpc_pipes/pipentlsa.c :

	enum trusted domains processing...

rpc_pipes/pipesamr.c :

	a tiny bit more work on the (totally undocumented) samr pipe

rpc_pipes/pipesrvsvc.c :

	bug in the NetShareEnum response.  oops.

rpc_pipes/samrparse.c :

	a bit more work on the (totally undocumented) samr pipe

rpc_pipes/samrparse.c :

	bzero'ed the domain name and domain sid in smb_io_clnt_srv() because
	if the data-stream-pointers are NULL the domain name and SID are not
	included in the data stream.




****************************************
Date:	Tuesday November 18, 1997 @ 5:07
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv17637/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlsa.c pipenetlog.c pipentlsa.c pipesamr.c 
	pipesrvsvc.c samrparse.c smbparse.c 
Log Message:


loadparm.c :

	added "domain trusted" and "domain trusting" parameters, currently unused.

ntdomain.h :

	a little more work on SAMR_UNKNOWN_32 and on LSA_R_ENUM_TRUSTED_DOMAINS

password.c :

	split the SMB password checking into a separate function smb_password_ok().
	this is used in password_ok() and is also called directly for the trust
	accounts (SMBsesssetupX with an account ending in $).  you never actually
	allow a login with the trust accounts, therefore you don't have a unix id.
	therefore, password_ok() fails.

	an alternative way to do this would be to have a separate trust-smbpasswd
	file.  there are advantages to this approach: some extra fields may be needed.

reply.c :

	still not allowing trust accounts to log in: always returning an error code.
	jht's comments at one stage about opening \PIPE\wkssvc i think is done on
	the anonymous IPC$ connection, not on a "trust account" login.  therefore
	we just need to verify the trust account password, and return the appropriate
	error code:

	no trust account                 : NT_STATUS_NO_SUCH_USER
	trust account, but wrong password: NT_STATUS_LOGON_FAILURE
	wksta trust account, password ok : NT_STATUS_NOLOGON_WKSTA_TRUST_ACCT
	domain trust account, password ok: NT_STATUS_NOLOGON_INTERDOMAIN_TRUST_ACCT
	server trust account, password ok: NT_STATUS_NOLOGON_SERVER_TRUST_ACCT

	this still needs to be looked at, and is still an outstanding issue...

smb.h :

	smb_passwd - added acct_ctrl field, which describes the type of SMB account.
	see ACB_XXXX #defines at the top of ntdomain.h.

smbpass.c :

	reading the acct_ctrl details (4 bytes of hex, e.g :0080: is ACB_WKSTRUST)
	from the smbpasswd file.  need to talk to the guy who's been rewriting this
	code, because this is a temporary hack.

rpc_pipes/lsaparse.c :

	updating enum trust domains code.  this may end up calling "trusted domains"
	and "trusting domains" parameters.  the trust account code needs to be
	explored, first.

rpc_pipes/pipentlsa.c :

	there is a bug in NT's LSA parsing code, which warrants putting a warning
	about different frag_len and alloc_hints.  sadly.

rpc_pipes/pipenetlog.c :

	when modifying the smbpasswd trust account entry, the acct_ctrl field
	needs to be set to ACT_WKSTRUST.

rpc_pipes/pipentlsa.c :

	enum trusted domains processing...

rpc_pipes/pipesamr.c :

	a tiny bit more work on the (totally undocumented) samr pipe

rpc_pipes/pipesrvsvc.c :

	bug in the NetShareEnum response.  oops.

rpc_pipes/samrparse.c :

	a bit more work on the (totally undocumented) samr pipe

rpc_pipes/samrparse.c :

	bzero'ed the domain name and domain sid in smb_io_clnt_srv() because
	if the data-stream-pointers are NULL the domain name and SID are not
	included in the data stream.




****************************************
Date:	Tuesday November 18, 1997 @ 6:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16575

Modified Files:
	loadparm.c make_printerdef.c proto.h quotas.c server.c smb.h 
Log Message:
loadparm.c : Added "veto oplock files" parameter.
make_printerdef.c: Fixed warning.
quotas.c: Fixed irix root errors.
server.c: Fixed oplock reference count bug.
smb.h: Added IS_VETO_OPLOCK_PATH().
Jeremy.



****************************************
Date:	Tuesday November 18, 1997 @ 15:12
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1692

Modified Files:
	nameservreply.c 
Log Message:
don't do the 255.255.255.255 mapping for group names if the name type
is 0x1c. This allows remote logon servers when using a Samba WINS server.

I did some experiments with a real NT WINS server and this behaviour
is much closer to being correct. It will only be totally correct when
we add proper group name support.



****************************************
Date:	Tuesday November 18, 1997 @ 15:16
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27947

Modified Files:
      Tag: BRANCH_1_9_17
	nameservreply.c 
Log Message:
change this in 1.9.17 as well:

---------
don't do the 255.255.255.255 mapping for group names if the name type
is 0x1c. This allows remote logon servers when using a Samba WINS server.

I did some experiments with a real NT WINS server and this behaviour
is much closer to being correct. It will only be totally correct when
we add proper group name support.



****************************************
Date:	Wednesday November 19, 1997 @ 7:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21780

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_browserdb.c nmbd_incomingdgrams.c 
	nmbd_namelistdb.c nmbd_nodestatus.c nmbd_sendannounce.c 
	nmbd_serverlistdb.c nmbd_workgroupdb.c nameserv.h 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_browsesync.c 
Log Message:
Browser sync functions done, only election functions to write before
we have a working browse client, WINS functions needed before we
have a working WINS server.
Jeremy.



****************************************
Date:	Wednesday November 19, 1997 @ 8:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25719

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbsync.c 
Log Message:
Updated to use new nmbd code.
Jeremy



****************************************
Date:	Wednesday November 19, 1997 @ 10:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22462

Modified Files:
	ipc.c proto.h reply.c server.c trans2.c 
Log Message:
ipc.c: Changed reply_trans to use receive_next_smb() to cope
       with local message processing.
reply.c: Added check to reply_lockingX for chain after oplock break.
server.c: Added receive_next_smb().
trans2.c: Changed reply_trans2 to use receive_next_smb() to cope
       with local message processing.



****************************************
Date:	Wednesday November 19, 1997 @ 13:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv769

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_browsesync.c 
	nmbd_namequery.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_elections.c 
Log Message:
Added nmbd_elections.c to process elections.
Stoped nmbd syncing with itself if it is a local
and domain master browser.
Jeremy.



****************************************
Date:	Wednesday November 19, 1997 @ 13:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13686

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namequery.c nmbd_nameregister.c nmbd_namerelease.c 
	nmbd_nodestatus.c nmbd_packets.c nameserv.h 
Log Message:
nameserv.h: Split out definitions of success and fail function typedef
prototypes so that proto-mismatches can be caught at compile time
(there are still many :-).
Jeremy.



****************************************
Date:	Wednesday November 19, 1997 @ 15:12
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv15572

Modified Files:
	DOMAIN.txt 
Log Message:
fixed typo



****************************************
Date:	Thursday November 20, 1997 @ 4:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2819

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c clientutil.c ntclient.c 
	ntdomain.h password.c proto.h pwd_validate.c reply.c server.c 
	smb.h smbpass.c util.c 
Log Message:

[hee hee hee been at it again].

Issues
------

- domain client:

this is the *first* version that successfully logs in to an NT 4.0 server
using smbclient.  hooray!  this means that we can start exploring the other
trust relationships (the SERVER and DOMAIN, not just the WORKSTATION).  this
means that we can possibly do backup domain controller and inter-domain trust
relationships.  it also means that pam-ntdom can easily be written.

oh, by the way, the implementation (in microsoft code) of the rpc pipes is
over anonymous IPC$ connection.  therefore, andrew, you are absolutely right:
we can't shut down anonymous IPC$ access, because you close off access to
DCE/RPC if you do that!

[if you put in an invalid username or password, then yes you can refuse it].

i also modified the nt client code to use clientgen.c and cli_state...


- code moving:

i split ntclient.c down into separate modules, because a) it was getting
cumbersome b) we need separate functions for logins, for status checks,
for trust account checks etc.


- smb_io_unistr2() and smb_io_unihdr():

this one's a pain.  every unicode string has a pointer before it.  if the
pointer is NULL, the unicode string is NOT put into the data stream.
sometimes this is done explicitly; sometimes it is done using a UNIHDR
structure.  eventually, i added an extra argument to smb_io_unistr2() to
tell it whether to bother to transfer the unicode string into/out of the
data stream, or whether to bzero the unicode string structure.

i got caught out on the SMB login, because some of the profile parameters
were NULL strings :-)


Modified Files:
---------------

Makefile :

	split ntclient.c into rpc_pipes/ntclient[login/trust/status].c

client.c :

	don't use clientutil.c, use clientgen.c.  new way of calling nt
	client code.

clientgen.c :

	- cli_send_trans()

	due to bugs in microsoft's code, they don't initialise their
	buffers before writing data to them.  therefore, there are some
	random bits of data appearing in between the 4-byte word-aligned
	sections.  in _case_ these are important (they are to os/2), i
	modified cli_send_trans to take not only the pipe name but the
	pipe name length, and to use memcpy() instead of strcpy.
	
	- cli_api_pipe()

	the generic version cli_api().  cli_api() is specifically for
	\PIPE\LANMAN.  this function can also take setup arguments as
	well as param and data arguments.

	- cli_api()

	only calls cli_api_pipe() in #ifdef NTDOMAIN.

	- cli_initialise()

	if the dest_ip address is zero, then assume that actually, we
	want to do a gethostbyname(), rather than connect to ip address
	0.0.0.0

clientutil.c :

	removed temporary hack which made a copy of the clear-text
	password.......

ntclient.c :

	contains one simple function now, which is a test-wrapper for the
	actual nt domain client code.

ntdomain.h :

	renamed unicode string "undoc" to "buffer_ptr".

	whoops!  baad one!  missed out a switch value (3) on the end of the
	SAM Logon and SAM Logoff Queries!  this was interesting, as it
	caused an "rpc fail" from the NT server...

password.c :

	- password_ok()

	removed smb password checking: calling smb_password_ok() instead.
	this is to avoid code duplication.  had to add explicit checking
	of the smb and unix userids, because this is deliberately *not*
	done in smb_password_ok().

pwd_validate.c :

	- server_validate2()

	was disconnecting after the SMBtconX.  got my true/false checks
	the wrong way round...

reply.c :

	- reply_sesssetup_X()

	made sess_trust_acct variable local.

server.c :

	not using (no-longer-global) sess_trust_acct variable.

smbpass.c :

	got the ACB_xxxx thingy to print out in |:0080:| format, not |:  80:|.
	also, specified the correct length.  i hope.

rpc_pipes/smbparse.c :
rpc_pipes/srvparse.c :
rpc_pipes/wksparse.c :
rpc_pipes/lsaparse.c :
rpc_pipes/samrparse.c :
rpc_pipes/pipesrvsvc.c :

	smb_io_unistr2() added extra buffer parameter.
	true: read/write data stream.  false: zero structure.

	- make_sam_info() and smb_io_sam_info()

	added missing switch_value2 parameter, used at the end of SAM
	Logon and SAM Logoff data streams.
	
rpc_pipes/ntclientlsa.c :
rpc_pipes/ntclientnet.c :
rpc_pipes/ntclientpipe.c :
rpc_pipes/pipeutil.c :

	removed explicit call_id parameter: use get_rpc_call_id() to make it.
	use of cli_state and client_gen.c functions instead of explicit
	Client and cnum stuff, which was using clientutil.c...

	- do_lsa_sam_logon() and do_lsa_sam_logoff()

	missing an extra parameter at the end (switch value of 3).

	- rpc_pipe_open()

	not needed: it's actually cli_open() from clientgen.c, with a few
	extra parameters.  you then call rpc set named pipe state, and you're
	happy.  if we supported NT create X, we'd probably not need the set
	named pipe state...


rpc_pipes/



****************************************
Date:	Thursday November 20, 1997 @ 4:17
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv2819/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	pipesrvsvc.c pipeutil.c samrparse.c smbparse.c srvparse.c 
	wksparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	ntclientlogin.c ntclientstatus.c ntclienttrust.c 
Log Message:

[hee hee hee been at it again].

Issues
------

- domain client:

this is the *first* version that successfully logs in to an NT 4.0 server
using smbclient.  hooray!  this means that we can start exploring the other
trust relationships (the SERVER and DOMAIN, not just the WORKSTATION).  this
means that we can possibly do backup domain controller and inter-domain trust
relationships.  it also means that pam-ntdom can easily be written.

oh, by the way, the implementation (in microsoft code) of the rpc pipes is
over anonymous IPC$ connection.  therefore, andrew, you are absolutely right:
we can't shut down anonymous IPC$ access, because you close off access to
DCE/RPC if you do that!

[if you put in an invalid username or password, then yes you can refuse it].

i also modified the nt client code to use clientgen.c and cli_state...


- code moving:

i split ntclient.c down into separate modules, because a) it was getting
cumbersome b) we need separate functions for logins, for status checks,
for trust account checks etc.


- smb_io_unistr2() and smb_io_unihdr():

this one's a pain.  every unicode string has a pointer before it.  if the
pointer is NULL, the unicode string is NOT put into the data stream.
sometimes this is done explicitly; sometimes it is done using a UNIHDR
structure.  eventually, i added an extra argument to smb_io_unistr2() to
tell it whether to bother to transfer the unicode string into/out of the
data stream, or whether to bzero the unicode string structure.

i got caught out on the SMB login, because some of the profile parameters
were NULL strings :-)


Modified Files:
---------------

Makefile :

	split ntclient.c into rpc_pipes/ntclient[login/trust/status].c

client.c :

	don't use clientutil.c, use clientgen.c.  new way of calling nt
	client code.

clientgen.c :

	- cli_send_trans()

	due to bugs in microsoft's code, they don't initialise their
	buffers before writing data to them.  therefore, there are some
	random bits of data appearing in between the 4-byte word-aligned
	sections.  in _case_ these are important (they are to os/2), i
	modified cli_send_trans to take not only the pipe name but the
	pipe name length, and to use memcpy() instead of strcpy.
	
	- cli_api_pipe()

	the generic version cli_api().  cli_api() is specifically for
	\PIPE\LANMAN.  this function can also take setup arguments as
	well as param and data arguments.

	- cli_api()

	only calls cli_api_pipe() in #ifdef NTDOMAIN.

	- cli_initialise()

	if the dest_ip address is zero, then assume that actually, we
	want to do a gethostbyname(), rather than connect to ip address
	0.0.0.0

clientutil.c :

	removed temporary hack which made a copy of the clear-text
	password.......

ntclient.c :

	contains one simple function now, which is a test-wrapper for the
	actual nt domain client code.

ntdomain.h :

	renamed unicode string "undoc" to "buffer_ptr".

	whoops!  baad one!  missed out a switch value (3) on the end of the
	SAM Logon and SAM Logoff Queries!  this was interesting, as it
	caused an "rpc fail" from the NT server...

password.c :

	- password_ok()

	removed smb password checking: calling smb_password_ok() instead.
	this is to avoid code duplication.  had to add explicit checking
	of the smb and unix userids, because this is deliberately *not*
	done in smb_password_ok().

pwd_validate.c :

	- server_validate2()

	was disconnecting after the SMBtconX.  got my true/false checks
	the wrong way round...

reply.c :

	- reply_sesssetup_X()

	made sess_trust_acct variable local.

server.c :

	not using (no-longer-global) sess_trust_acct variable.

smbpass.c :

	got the ACB_xxxx thingy to print out in |:0080:| format, not |:  80:|.
	also, specified the correct length.  i hope.

rpc_pipes/smbparse.c :
rpc_pipes/srvparse.c :
rpc_pipes/wksparse.c :
rpc_pipes/lsaparse.c :
rpc_pipes/samrparse.c :
rpc_pipes/pipesrvsvc.c :

	smb_io_unistr2() added extra buffer parameter.
	true: read/write data stream.  false: zero structure.

	- make_sam_info() and smb_io_sam_info()

	added missing switch_value2 parameter, used at the end of SAM
	Logon and SAM Logoff data streams.
	
rpc_pipes/ntclientlsa.c :
rpc_pipes/ntclientnet.c :
rpc_pipes/ntclientpipe.c :
rpc_pipes/pipeutil.c :

	removed explicit call_id parameter: use get_rpc_call_id() to make it.
	use of cli_state and client_gen.c functions instead of explicit
	Client and cnum stuff, which was using clientutil.c...

	- do_lsa_sam_logon() and do_lsa_sam_logoff()

	missing an extra parameter at the end (switch value of 3).

	- rpc_pipe_open()

	not needed: it's actually cli_open() from clientgen.c, with a few
	extra parameters.  you then call rpc set named pipe state, and you're
	happy.  if we supported NT create X, we'd probably not need the set
	named pipe state...


rpc_pipes/



****************************************
Date:	Thursday November 20, 1997 @ 5:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7388

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_browsesync.c 
	nmbd_elections.c nmbd_logonnames.c nmbd_mynames.c 
	nmbd_workgroupdb.c nameserv.h 
Log Message:
All success and fail function now match prototypes correctly.
Jeremy.



****************************************
Date:	Thursday November 20, 1997 @ 8:13
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7847

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientgen.c ntclient.c password.c proto.h 
	pwd_validate.c 
Log Message:

Issues
------

calling the server password set code.  the default trust account password is
used.  _somehow_ we're going to have to get, or store, trust account passwords.
these are going to have to be two-way obfuscated, but that's just tough luck.

we _could_ put up a message, saying "due to insecurities in microsoft's domain
authentication scheme, please type in your inter-domain trust account password:"
and "due to.... please type in your backup domain controller trust account
password:" ... etc.

*sigh*.

Modified Files:
---------------

client.c :

	don't pass the new machine account password around

clientgen.c :

	debugging information display in cli_session_setup() and cli_tcon_X().
	also, use BIT_SET() macro instead of direct bit checking.  hm.  really
	should call this macro IS_BIT_SET().

ntclient.c :

	call trust_account_check() with a workstation trust account (machine$)

password.c :

	return True instead of 1 as a boolean.

pwd_validate.c :

	turned the debug printing round (if pwd_ok instead of if !pwd_ok :-)

rpc_pies/ntclienttrust.c :

	made mach_pwd local to the trust_account_check() function.




****************************************
Date:	Thursday November 20, 1997 @ 8:13
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv7847/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclienttrust.c 
Log Message:

Issues
------

calling the server password set code.  the default trust account password is
used.  _somehow_ we're going to have to get, or store, trust account passwords.
these are going to have to be two-way obfuscated, but that's just tough luck.

we _could_ put up a message, saying "due to insecurities in microsoft's domain
authentication scheme, please type in your inter-domain trust account password:"
and "due to.... please type in your backup domain controller trust account
password:" ... etc.

*sigh*.

Modified Files:
---------------

client.c :

	don't pass the new machine account password around

clientgen.c :

	debugging information display in cli_session_setup() and cli_tcon_X().
	also, use BIT_SET() macro instead of direct bit checking.  hm.  really
	should call this macro IS_BIT_SET().

ntclient.c :

	call trust_account_check() with a workstation trust account (machine$)

password.c :

	return True instead of 1 as a boolean.

pwd_validate.c :

	turned the debug printing round (if pwd_ok instead of if !pwd_ok :-)

rpc_pies/ntclienttrust.c :

	made mach_pwd local to the trust_account_check() function.




****************************************
Date:	Thursday November 20, 1997 @ 10:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11405

Modified Files:
	namequery.c nmblookup.c 
Log Message:
changed nmblookup to only set recursion_desired in queries if the -R
option is used.



****************************************
Date:	Thursday November 20, 1997 @ 12:36
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21924

Modified Files:
	reply.c 
Log Message:
added some debug lines to the rename code



****************************************
Date:	Thursday November 20, 1997 @ 12:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14699

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_incomingrequests.c 
	nmbd_lmhosts.c nmbd_logonnames.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_nameregister.c nmbd_namerelease.c 
	nmbd_packets.c nmbd_winsserver.c nmbd_workgroupdb.c nameserv.h 
Log Message:
nmbd_packets.c: Re-written and remove the appaling initiate_netbios_packet
and queue_netbios_packet functions. Each packet type is now sent by a
separate function. You've *no* idea how much this clean up the code :-).

Also added support for registering multi-homed names with a WINS server.

Jeremy.



****************************************
Date:	Friday November 21, 1997 @ 5:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25851

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_namelistdb.c 
	nmbd_nameregister.c nmbd_namerelease.c nmbd_packets.c 
	nameserv.h 
Log Message:
Fully implemented multi-homed names on the client side.
Registering/releasing and refreshing a name are now done
on all registered IP addresses.

Jeremy.



****************************************
Date:	Friday November 21, 1997 @ 8:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17505

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_elections.c nmbd_namelistdb.c nmbd_winsserver.c nmbd.c 
Log Message:
Fist version that links - fixed nmbd.c to call the new functions.
Also added a dump function used by SIGHUP to dump out the namelists
for debugging purposes.
Jeremy.



****************************************
Date:	Friday November 21, 1997 @ 9:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17667

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile asyncdns.c client.c interface.c loadparm.c nameserv.h 
	nmbd_namelistdb.c nmbd_nameregister.c nmbd_packets.c 
	nmbd_responserecordsdb.c nmbd_subnetdb.c nmblib.c proto.h 
Removed Files:
      Tag: JRA_NMBD_REWRITE
	nameannounce.c nameannounce.doc namebrowse.c namebrowse.doc 
	namedbname.doc namedbnamelist.c namedbresp.doc 
	namedbresponserecords.c namedbserver.c namedbsubnet.c 
	namedbworkgroup.c nameelect.c nameelect.doc namelogon.c 
	namelogon.doc namepacket.c namepacket.doc namequery.c 
	namequery.doc nameregister.c namerequest.c nameresp.c 
	nameresp.doc nameserv.c nameserv.doc nameservreply.c 
	nameservreply.doc nameservresp.c nameservresp.doc namework.c 
	namework.doc 
Log Message:
Removing files no longer needed for nmbd.
Jeremy.



****************************************
Date:	Friday November 21, 1997 @ 11:05
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3749

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nameserv.h nmbd.c nmbd_become_dmb.c nmbd_browsesync.c 
	nmbd_elections.c nmbd_incomingrequests.c nmbd_namelistdb.c 
	nmbd_namequery.c nmbd_nameregister.c nmbd_packets.c 
	nmbd_responserecordsdb.c proto.h 
Log Message:
nmbd seems to work - now for the tests....
Jeremy.



****************************************
Date:	Friday November 21, 1997 @ 13:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15053

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_browsesync.c nmbd_namelistdb.c nmbd_packets.c 
	nmbd_workgroupdb.c 
Log Message:
Current testing version.
Jeremy.



****************************************
Date:	Friday November 21, 1997 @ 15:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16535

Modified Files:
	time.c 
Log Message:
use LocTimeDiff() not TimeDiff() to ensure that longdate conversion is
consistent (this is really just a cosmetic change)




****************************************
Date:	Saturday November 22, 1997 @ 0:08
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8467/docs

Modified Files:
      Tag: BRANCH_1_9_17
	smb.conf.5 
Log Message:
Added "remote browse sync" option to smb.conf prior to release to the
Red Hat Linux contrib area. This option has been proven nessary in at
least one site that has multiple workgroups across a segmented network
that wanted all workgroups and clients to appear in the browser.

This update means Red Hat Linux users can install servers that allow M$
Windows 95 clients to log onto remote segmented networks also (providing
the remote segment has it's own workgroup AND only one centrally located
WINS server is being used for all clients!

Files affected by the change are:
	loadparm.c nameannounce.c nameservreply.c nmbd.c proto.h smb.conf.5

Red Hat RPM build files affected are:
	smb.conf samba.spec

Note: The new "remote browse sync" option has NOT been added to the default
smb.conf file in the examples directory.

Note2: The resulting modified sources are being released as version 1.9.17p4jht.



****************************************
Date:	Saturday November 22, 1997 @ 0:08
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv8467/packaging/redhat

Modified Files:
      Tag: BRANCH_1_9_17
	samba.spec smb.conf 
Log Message:
Added "remote browse sync" option to smb.conf prior to release to the
Red Hat Linux contrib area. This option has been proven nessary in at
least one site that has multiple workgroups across a segmented network
that wanted all workgroups and clients to appear in the browser.

This update means Red Hat Linux users can install servers that allow M$
Windows 95 clients to log onto remote segmented networks also (providing
the remote segment has it's own workgroup AND only one centrally located
WINS server is being used for all clients!

Files affected by the change are:
	loadparm.c nameannounce.c nameservreply.c nmbd.c proto.h smb.conf.5

Red Hat RPM build files affected are:
	smb.conf samba.spec

Note: The new "remote browse sync" option has NOT been added to the default
smb.conf file in the examples directory.

Note2: The resulting modified sources are being released as version 1.9.17p4jht.



****************************************
Date:	Saturday November 22, 1997 @ 0:08
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8467/source

Modified Files:
      Tag: BRANCH_1_9_17
	loadparm.c nameannounce.c nmbd.c proto.h 
Log Message:
Added "remote browse sync" option to smb.conf prior to release to the
Red Hat Linux contrib area. This option has been proven nessary in at
least one site that has multiple workgroups across a segmented network
that wanted all workgroups and clients to appear in the browser.

This update means Red Hat Linux users can install servers that allow M$
Windows 95 clients to log onto remote segmented networks also (providing
the remote segment has it's own workgroup AND only one centrally located
WINS server is being used for all clients!

Files affected by the change are:
	loadparm.c nameannounce.c nameservreply.c nmbd.c proto.h smb.conf.5

Red Hat RPM build files affected are:
	smb.conf samba.spec

Note: The new "remote browse sync" option has NOT been added to the default
smb.conf file in the examples directory.

Note2: The resulting modified sources are being released as version 1.9.17p4jht.



****************************************
Date:	Saturday November 22, 1997 @ 1:01
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6784/docs

Modified Files:
	smb.conf.5 
Log Message:
Added in mods for new smb.conf "remote browse sync" option as posted to
the samba-1.9.17 tree moments ago.



****************************************
Date:	Saturday November 22, 1997 @ 1:01
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6784/source

Modified Files:
	loadparm.c nameannounce.c nmbd.c proto.h 
Log Message:
Added in mods for new smb.conf "remote browse sync" option as posted to
the samba-1.9.17 tree moments ago.



****************************************
Date:	Saturday November 22, 1997 @ 6:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26975

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nameserv.h nmbd_become_dmb.c nmbd_become_lmb.c 
	nmbd_browsesync.c nmbd_elections.c nmbd_incomingdgrams.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_workgroupdb.c 
	proto.h 
Log Message:
Fixed two stage becoming local master browser. Clarified states.
Fixed writing of browse.dat file to list correct servers.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 8:06
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19960

Modified Files:
	nameelect.c 
Log Message:
Just fixed a *serious* bug in nameelect.c to do with local
master browsers. Once we have become a local master, we would
*NEVER* stop announcing ourselves as such. This has serious
implications for the new nmbd code.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 8:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3318

Modified Files:
      Tag: BRANCH_1_9_17
	nameelect.c 
Log Message:
Just fixed a *serious* bug in nameelect.c to do with local
master browsers. Once we have become a local master, we would
*NEVER* stop announcing ourselves as such. This has serious
implications for the new nmbd code.
Jeremy.




****************************************
Date:	Saturday November 22, 1997 @ 9:18
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3047

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nameserv.h nmbd_become_lmb.c nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_lmhosts.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_serverlistdb.c proto.h 
Log Message:
Fixed problems with a GetBackupListRequest from an NT server.
Fixed problems with a node status request from an NT server.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 9:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1130

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmblib.c 
Log Message:
Fixed problem with struct nmb_name creation.
Jeremy



****************************************
Date:	Saturday November 22, 1997 @ 11:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27569

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingdgrams.c nmbd_packets.c nmbd_sendannounce.c 
	proto.h 
Log Message:
Fixed bug with interaction with Samba 1.9.17-1.9.17p4 browsers
by sending a reset browser packet of type 0x2 to the __SAMBA__
name.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 11:35
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25900

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_become_lmb.c nmbd_incomingdgrams.c 
Log Message:
Fixed up incorrect debug messages.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 11:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6574

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_serverlistdb.c 
Log Message:
Ensure we write out known workgroups even if we don't know the
master browser.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 12:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12521

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c nmbd_mynames.c nmbd_workgroupdb.c 
Log Message:
Removed uses of GET_TTL(0) - made lp_max_ttl() explicit.
Fixed bug where workgroup death time was set incorrectly.
Jeremy.



****************************************
Date:	Saturday November 22, 1997 @ 18:09
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28324

Modified Files:
	charcnv.c client.c kanji.c kanji.h loadparm.c 
Log Message:
added true enumerated types in loadparm.c. Now we don't need all those
"interpret_security" and similar functions. This also means that
testparm produces string values for these enumerated types rather than
an integer. This was done to make the web interface much cleaner.

While I was doing this I found a couple of very nasty bugs in the
parm_table code. Someone had added a handle_character_set() function
that treated the char** pointer for a P_STRING as an integer! This
would have caused memory corruption for anyone using the "character
set" option. The loadparm code is delicate - please be careful about
using it's more esoteric features!

I've also removed the "coding system" global and made it a
P_STRING. The integer value was never used anywhere in Samba.




****************************************
Date:	Saturday November 22, 1997 @ 18:10
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24111

Modified Files:
	proto.h 
Log Message:
the usual :-)



****************************************
Date:	Saturday November 22, 1997 @ 18:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27966

Modified Files:
	smbpass.c 
Log Message:
fixed some typecasts of (char *) to (unsigned char *)





****************************************
Date:	Saturday November 22, 1997 @ 18:51
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27444

Modified Files:
	cgi.c 
Log Message:
this new cgi code includes the ability to act as a mini web server,
allowing people to use web configuration of Samba without installing a
web server






****************************************
Date:	Saturday November 22, 1997 @ 21:41
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv25772/RH50

Log Message:
Directory /data/cvs/samba/packaging/redhat/RH50 added to the repository



****************************************
Date:	Saturday November 22, 1997 @ 21:41
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv2948/RH42

Log Message:
Directory /data/cvs/samba/packaging/redhat/RH42 added to the repository



****************************************
Date:	Saturday November 22, 1997 @ 21:54
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv3860

Modified Files:
	Instructions 
Removed Files:
	makerpms.sh samba-axp.patch samba.log samba.pamd samba.spec 
	smb.conf smb.init smbadduser smbprint 
Log Message:
A simple rearrangment to give the impression of progress!
Since we will now have to deal with multiple concurrent versions of Red Hat
Linux it is perhaps better to put all the RPM production tools for each
version of RHL in it's own directory.

New Structure:
==============
Modified Files:
	Instructions 
Added Files:
	RH42/makeldirs.sh RH42/makerpms.sh RH42/samba-axp.patch 
	RH42/samba-make.patch RH42/samba.log RH42/samba.pamd 
	RH42/samba.spec RH42/smb.conf RH42/smb.init RH42/smbadduser 
	RH42/smbprint RH50/makeldirs.sh RH50/makerpms.sh 
	RH50/samba-make.patch RH50/samba.log RH50/samba.pamd 
	RH50/samba.spec RH50/smb.conf RH50/smb.init RH50/smbadduser 
	RH50/smbprint 
Removed Files:
	makerpms.sh samba-axp.patch samba.log samba.pamd samba.spec 
	smb.conf smb.init smbadduser smbprint 



****************************************
Date:	Saturday November 22, 1997 @ 21:54
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv3860/RH42

Added Files:
	makeldirs.sh makerpms.sh samba-axp.patch samba-make.patch 
	samba.log samba.pamd samba.spec smb.conf smb.init smbadduser 
	smbprint 
Log Message:
A simple rearrangment to give the impression of progress!
Since we will now have to deal with multiple concurrent versions of Red Hat
Linux it is perhaps better to put all the RPM production tools for each
version of RHL in it's own directory.

New Structure:
==============
Modified Files:
	Instructions 
Added Files:
	RH42/makeldirs.sh RH42/makerpms.sh RH42/samba-axp.patch 
	RH42/samba-make.patch RH42/samba.log RH42/samba.pamd 
	RH42/samba.spec RH42/smb.conf RH42/smb.init RH42/smbadduser 
	RH42/smbprint RH50/makeldirs.sh RH50/makerpms.sh 
	RH50/samba-make.patch RH50/samba.log RH50/samba.pamd 
	RH50/samba.spec RH50/smb.conf RH50/smb.init RH50/smbadduser 
	RH50/smbprint 
Removed Files:
	makerpms.sh samba-axp.patch samba.log samba.pamd samba.spec 
	smb.conf smb.init smbadduser smbprint 



****************************************
Date:	Saturday November 22, 1997 @ 21:54
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv3860/RH50

Added Files:
	makeldirs.sh makerpms.sh samba-make.patch samba.log samba.pamd 
	samba.spec smb.conf smb.init smbadduser smbprint 
Log Message:
A simple rearrangment to give the impression of progress!
Since we will now have to deal with multiple concurrent versions of Red Hat
Linux it is perhaps better to put all the RPM production tools for each
version of RHL in it's own directory.

New Structure:
==============
Modified Files:
	Instructions 
Added Files:
	RH42/makeldirs.sh RH42/makerpms.sh RH42/samba-axp.patch 
	RH42/samba-make.patch RH42/samba.log RH42/samba.pamd 
	RH42/samba.spec RH42/smb.conf RH42/smb.init RH42/smbadduser 
	RH42/smbprint RH50/makeldirs.sh RH50/makerpms.sh 
	RH50/samba-make.patch RH50/samba.log RH50/samba.pamd 
	RH50/samba.spec RH50/smb.conf RH50/smb.init RH50/smbadduser 
	RH50/smbprint 
Removed Files:
	makerpms.sh samba-axp.patch samba.log samba.pamd samba.spec 
	smb.conf smb.init smbadduser smbprint 



****************************************
Date:	Saturday November 22, 1997 @ 21:58
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv5030/redhat/RH42

Modified Files:
	samba.spec 
Log Message:
Modified spec files in preparation for release of 1.9.18 (wishfully!)



****************************************
Date:	Saturday November 22, 1997 @ 21:58
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv5030/redhat/RH50

Modified Files:
	samba.spec 
Log Message:
Modified spec files in preparation for release of 1.9.18 (wishfully!)



****************************************
Date:	Saturday November 22, 1997 @ 22:00
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv13562

Removed Files:
	makeldirs.sh samba-make.patch 
Log Message:
Oops. I left a couple of file behind. Gone now though!



****************************************
Date:	Sunday November 23, 1997 @ 0:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6581

Modified Files:
      Tag: BRANCH_1_9_17
	charcnv.c loadparm.c proto.h 
Log Message:
fix the handle_character_set() bug in 1.9.17 as well.



****************************************
Date:	Sunday November 23, 1997 @ 13:41
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12042

Modified Files:
	clientgen.c proto.h torture.c 
Log Message:
added a test for the NT SMBgetatr bug in smbtorture

added support for choosing the protocol level in smbtorture (-m option)

use -1 for null date in cli_close()

get the attributes right in cli_open()




****************************************
Date:	Sunday November 23, 1997 @ 13:42
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17082

Modified Files:
	cgi.c wsmbconf.c 
Log Message:
minor wsmbconf and cgi changes



****************************************
Date:	Sunday November 23, 1997 @ 13:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22646

Modified Files:
	Makefile 
Log Message:
updates for building wsmbconf




****************************************
Date:	Sunday November 23, 1997 @ 14:09
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10606

Modified Files:
	clientgen.c proto.h torture.c 
Log Message:
test SMBsetatr as well





****************************************
Date:	Sunday November 23, 1997 @ 16:55
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4943

Modified Files:
	clientgen.c proto.h torture.c trans2.h 
Log Message:
added some QPATHINFO and QFILEINFO tests into smbtorture.

This tests for things like midnight access times, sticky create times
and word reversed INFO_STANDARD returns





****************************************
Date:	Sunday November 23, 1997 @ 18:26
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7576

Modified Files:
	clientgen.c torture.c 
Log Message:
added a SMB_QUERY_FILE_ALL_INFO test into smbtorture

W95 doesn't seem to support this call.





****************************************
Date:	Monday November 24, 1997 @ 20:53
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv22686

Modified Files:
      Tag: BRANCH_1_9_17
	samba.spec 
Log Message:
Just updating a tad.



****************************************
Date:	Tuesday November 25, 1997 @ 0:44
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28101

Modified Files:
	clientgen.c proto.h torture.c 
Log Message:
added cli_rmdir and cli_mkdir

added test in smbtorture for the server updating the directory modify
time when a file is added to a directory

cleanup in smbtorture so no garbage files are left on the server



****************************************
Date:	Tuesday November 25, 1997 @ 6:10
Author:	dan

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9275

Modified Files:
	UNIX_INSTALL.txt 
Log Message:
Remind them to read the man page about needing to be root.



****************************************
Date:	Tuesday November 25, 1997 @ 6:23
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18935

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile chgpasswd.c client.c clientgen.c clientutil.c 
	clitar.c ipc.c loadparm.c nmbsync.c ntclient.c password.c 
	proto.h pwd_validate.c reply.c server.c smb.h smbpass.c 
	torture.c username.c util.c 
Log Message:

Issues
------

updated smbclient to no longer need / use clientutil.c.  this involved moving
lots of code from client.c and clitar.c into clientgen.c.  the higher order
function calls (do_dir, do_action) i moved into clientgen.c, as well, because
you can use them to do recursive actions on directories, and unfortunately
the directory parsing code is quite embedded into these functions.

i gave cli_put and cli_get some higher order functions, too.  this is so that
they can be used by clitar.c's do_atar() function.  the code in clitar.c:do_atar()
appeared to be a cut-and-paste job from client.c:do_get().  do_get() was being
kept up to date: do_atar() was not...


on the smbd side, i've split reply_session_setup() down into sub-functions.
it wasn't obvious how and why guest access was being allowed / created, and
how the username could sometimes be modified, and ultimately by which function(s).
Get_Pwnam() i _think_ is the final link, so i added an extra parameter
(BOOL *changed_to_guest) which you can use to detect whether the username has
been modified (by map_username()) to the guest account or not...


the NIS auto-map support isn't quite operational.  there's been a couple of
requests for this.  i don't fully understand it, but i'm getting there.
created a get_home_dir_and_server() function which uses get_home_dir() and
local_machine if NIS auto-map support isn't used.


i messed up the BITS_SET macro: it's now called IS_BITS_SET, and works properly.


ntclient code.  trying to get the server password set working.



Modified Files
--------------

Makefile:

	removed clientgen.o

chgpasswd.c loadparm.c password.c server.c util.c rpc_pipes/pipeutil.c :

	Get_Pwnam takes an extra argument, which knocks on through to several
	other functions.

	use get_home_dir_and_server().

client.c clientgen.c clitar.c : 

	no more global variables.  created tar_info and client_info structures.
	use in client.c and clitar.c of higher order functions in cli_put, cli_get
	and do_dir, all of which are now in clientgen.c

	created cli_NetShareEnum, which again uses higher order functions just
	like cli_NetServerEnum.

nmbsync.c :

	bzero the (static) cli_state structure, just in case there are broken
	c compilers (e.g the sunos 4.1.3 non-ansi-c compliant one) which don't
	initialise static structures with zeros

reply.c :

	split reply_session_setup() into separate functions, so that it's easy
	to read and understand exactly what's going on.

smbpass.c :

	bug in writing out acct_ctrl in smb_modpwd function.

rpc_pipes/smbparse.c :

	using undoc_buffer2 not undoc_buffer in smb_io_clnt_srv.  oops.




****************************************
Date:	Tuesday November 25, 1997 @ 6:23
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv18935/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientlogin.c ntclientnet.c ntclienttrust.c pipeutil.c 
	smbparse.c 
Log Message:

Issues
------

updated smbclient to no longer need / use clientutil.c.  this involved moving
lots of code from client.c and clitar.c into clientgen.c.  the higher order
function calls (do_dir, do_action) i moved into clientgen.c, as well, because
you can use them to do recursive actions on directories, and unfortunately
the directory parsing code is quite embedded into these functions.

i gave cli_put and cli_get some higher order functions, too.  this is so that
they can be used by clitar.c's do_atar() function.  the code in clitar.c:do_atar()
appeared to be a cut-and-paste job from client.c:do_get().  do_get() was being
kept up to date: do_atar() was not...


on the smbd side, i've split reply_session_setup() down into sub-functions.
it wasn't obvious how and why guest access was being allowed / created, and
how the username could sometimes be modified, and ultimately by which function(s).
Get_Pwnam() i _think_ is the final link, so i added an extra parameter
(BOOL *changed_to_guest) which you can use to detect whether the username has
been modified (by map_username()) to the guest account or not...


the NIS auto-map support isn't quite operational.  there's been a couple of
requests for this.  i don't fully understand it, but i'm getting there.
created a get_home_dir_and_server() function which uses get_home_dir() and
local_machine if NIS auto-map support isn't used.


i messed up the BITS_SET macro: it's now called IS_BITS_SET, and works properly.


ntclient code.  trying to get the server password set working.



Modified Files
--------------

Makefile:

	removed clientgen.o

chgpasswd.c loadparm.c password.c server.c util.c rpc_pipes/pipeutil.c :

	Get_Pwnam takes an extra argument, which knocks on through to several
	other functions.

	use get_home_dir_and_server().

client.c clientgen.c clitar.c : 

	no more global variables.  created tar_info and client_info structures.
	use in client.c and clitar.c of higher order functions in cli_put, cli_get
	and do_dir, all of which are now in clientgen.c

	created cli_NetShareEnum, which again uses higher order functions just
	like cli_NetServerEnum.

nmbsync.c :

	bzero the (static) cli_state structure, just in case there are broken
	c compilers (e.g the sunos 4.1.3 non-ansi-c compliant one) which don't
	initialise static structures with zeros

reply.c :

	split reply_session_setup() into separate functions, so that it's easy
	to read and understand exactly what's going on.

smbpass.c :

	bug in writing out acct_ctrl in smb_modpwd function.

rpc_pipes/smbparse.c :

	using undoc_buffer2 not undoc_buffer in smb_io_clnt_srv.  oops.




****************************************
Date:	Tuesday November 25, 1997 @ 8:54
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13240

Removed Files:
      Tag: JRA_NMBD_REWRITE
	nmbsync.c 
Log Message:
No longer used (see nmbd_browsesync.c).
Jeremy.



****************************************
Date:	Tuesday November 25, 1997 @ 9:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26598

Modified Files:
      Tag: JRA_NMBD_REWRITE
	.cvsignore Makefile byteorder.h cgi.c charcnv.c client.c 
	clientgen.c clientutil.c credentials.c includes.h interface.c 
	ipc.c kanji.c kanji.h loadparm.c local.h locking.c 
	locking_shm.c mangle.c nmbd_browsesync.c nmbd_processlogon.c 
	nmblookup.c ntclient.c params.c password.c pipes.c proto.h 
	quotas.c reply.c server.c shmem.c smb.h smbpass.c smbpasswd.c 
	status.c time.c trans2.c trans2.h ufc.c uid.c util.c version.h 
	wsmbconf.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	Makefile.lib make_printerdef.c namequery.c shmem_sysv.c 
	torture.c 
Removed Files:
      Tag: JRA_NMBD_REWRITE
	pipenetlog.c 
Log Message:
Updated my branch to be in sync with the current main branch,
plus the nmbd re-write code.
Jeremy.



****************************************
Date:	Tuesday November 25, 1997 @ 11:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6690

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_browsesync.c nmbd_incomingdgrams.c nmbd_packets.c 
	nmbd_sendannounce.c proto.h version.h 
Log Message:
Fixed cross subnet browsing.
Jeremy.



****************************************
Date:	Tuesday November 25, 1997 @ 12:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12875

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_browsesync.c nmbd_sendannounce.c nmbd_serverlistdb.c 
	nmbd_subnetdb.c nmbd_workgroupdb.c nmblib.c 
Log Message:
nmbd_browsesync.c: Make name 15 bytes plus null.
nmbd_sendannounce.c: Make name 15 bytes plus null.
nmbd_serverlistdb.c: All workgroups on the unicast subnet are remote.
nmbd_workgroupdb.c: Remember to tell namelist writer when we add/remove
                    a workgroup.
Jeremy



****************************************
Date:	Tuesday November 25, 1997 @ 23:20
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1332

Modified Files:
	client.c 
Log Message:
get rid of stat command (it is a hangover from an old experiment)



****************************************
Date:	Wednesday November 26, 1997 @ 1:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8518

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientgen.c proto.h util.c 
Log Message:

debugging client connection modifications, and fixing get_home_dir_and_server()



****************************************
Date:	Wednesday November 26, 1997 @ 12:02
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15880

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_browsesync.c nmbd_incomingdgrams.c nmbd_serverlistdb.c 
Log Message:
nmbd_browsesync.c:  Added timestring() to browse sync messages.
nmbd_incomingdgrams.c: Edited comment for correctness.
nmbd_serverlistdb.c: Fixed writing out of workgroup names.
Jeremy.



****************************************
Date:	Wednesday November 26, 1997 @ 14:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18832

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nameserv.h nmbd_incomingrequests.c nmbd_namelistdb.c 
	nmbd_serverlistdb.c nmbd_workgroupdb.c nmblib.c 
Log Message:
nameserv.h: Removed STATUS_QUERY_NAME - nothing uses this.
nmbd_incomingrequests.c: Added comments about not implementing lp_wins_proxy() yet.
nmbd_serverlistdb.c: Fixed bug were I was looking at UNICAST_SUBNET and I shouldn't.
nmbd_namelistdb.c: Removed STATUS_QUERY_NAME - nothing uses this.
nmbd_workgroupdb.c: Fixed bug where I was NOT looking at UNICAST_SUBNET and I should :-).
nmblib.c: Fixed unsigned option when parsing name_type.
Jeremy.



****************************************
Date:	Wednesday November 26, 1997 @ 14:18
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20418

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_subnetdb.c 
Log Message:
nmbd_subnetdb.c: Fixed stupid bug when running without WINS server in
"broadcast only" mode.
Jeremy.



****************************************
Date:	Wednesday November 26, 1997 @ 14:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd.c 
Log Message:
myworkgroup is a fstring not a pstring



****************************************
Date:	Wednesday November 26, 1997 @ 14:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c 
Log Message:
can't split strings across multiple lines in this way (gcc may like
it, but others don't)




****************************************
Date:	Wednesday November 26, 1997 @ 14:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_nameregister.c 
Log Message:
num_ips wasn't being initialised 





****************************************
Date:	Wednesday November 26, 1997 @ 14:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_nodestatus.c 
Log Message:
strings split across lines again






****************************************
Date:	Wednesday November 26, 1997 @ 14:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_processlogon.c 
Log Message:
myworkgroup is an fstring not a pstring (it's nice that the SGI
compiler picks this up)







****************************************
Date:	Wednesday November 26, 1997 @ 14:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_serverlistdb.c 
Log Message:
subrec isn't initialised before this DEBUG() line








****************************************
Date:	Wednesday November 26, 1997 @ 14:41
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile 
Log Message:
get rid of -DSYNC_DNS from the Makefile. Does everyone realise that
adding -DSYNC_DNS disables (not enables) the new async dns code?




****************************************
Date:	Wednesday November 26, 1997 @ 14:44
Author:	tridge

Update of /data/cvs/samba
In directory samba:/data/local/src/samba_jra

Removed Files:
      Tag: JRA_NMBD_REWRITE
	COPYING.LGPL README.UBI 
Log Message:
these files shouldn't be here



****************************************
Date:	Thursday November 27, 1997 @ 2:40
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv943

Modified Files:
      Tag: BRANCH_NTDOM
	clientgen.c clitar.c ipc.c password.c proto.h reply.c 
	smbencrypt.c 
Log Message:

clientgen.c :

	- getting cli_session_setup() to do several different things with passwords.
	- changed all SMB fnum occurrences from int to uint16.
	- commented Realloc() of buf+4 for use in writeraw.
	- fixed bugs i introduced in writeraw and readraw...
	- moved timing code back into cli_get()

ipc.c password.c reply.c smbencrypt.c :

	fixed bugs introduced by doing too many OWFs.  more tidying of smb
	password checking code.



****************************************
Date:	Thursday November 27, 1997 @ 4:22
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28635

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientgen.c 
Log Message:

fixing IPC$ calls (NetShareEnum and NetServerEnum).
got fed up of not seeing what server type is, so added a big switch statement
that decodes SV_TYPE_DOMAIN_MASTER into "DMB " and SV_TYPE_NT into "NT " etc...




****************************************
Date:	Thursday November 27, 1997 @ 4:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27723

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

remember, children (i.e luke).  always remember to compile and test code
before committing it...



****************************************
Date:	Thursday November 27, 1997 @ 7:00
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21730

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c nmbd_namelistdb.c nmbd_packets.c 
	proto.h 
Added Files:
      Tag: JRA_NMBD_REWRITE
	smberr.c 
Log Message:
nmbd_incomingrequests.c: Deal with remote broadcast name lookup requests correctly.
nmbd_namelistdb.c: Added function to support above.
nmbd_packets.c: Allow name lookups from our own local address. Save incoming
                fd (I will use this later).
Jeremy.



****************************************
Date:	Thursday November 27, 1997 @ 8:08
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12831

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c includes.h namebrowse.c 
	ntclient.c ntdomain.h proto.h smb.h 
Added Files:
      Tag: BRANCH_NTDOM
	clientsmb.c 
Log Message:
Issues
------

having massaged smbclient into using individual session connections
(i.e it makes full use of clientgen.c not clientutil.c) it will now
be easy to add new ntdom commands.  for example, stuff to send a
\PIPE\samr command.  or, to do an NT login...


Modified Files
--------------

Makefile:

	added clientsmb.c

client.c :

	moved all the smb stuff (except message-sending and the IPC$ host
	query bits) into a separate file.  maybe the message-sending should
	move, too...

	added a new command "ntlogin <username>".

	got an anonymous connection (no username) to IPC$ to work properly again.

clientgen.c :

	cli_NetShareEnum call use cli_api() instead of cli_send_trans() and
	cli_receive_trans().

	fixed cli_NetServerEnum bugs which are also fixed in the main branch...

	got anonymous session connections working.

ntclient.c :

	modified the nt login test code to be a command in smbclient.

rpc_pipes/ntclientlogin.c :

	stopped the nt login test code from opening the already open IPC$...




****************************************
Date:	Thursday November 27, 1997 @ 8:08
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv12831/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientlogin.c 
Log Message:
Issues
------

having massaged smbclient into using individual session connections
(i.e it makes full use of clientgen.c not clientutil.c) it will now
be easy to add new ntdom commands.  for example, stuff to send a
\PIPE\samr command.  or, to do an NT login...


Modified Files
--------------

Makefile:

	added clientsmb.c

client.c :

	moved all the smb stuff (except message-sending and the IPC$ host
	query bits) into a separate file.  maybe the message-sending should
	move, too...

	added a new command "ntlogin <username>".

	got an anonymous connection (no username) to IPC$ to work properly again.

clientgen.c :

	cli_NetShareEnum call use cli_api() instead of cli_send_trans() and
	cli_receive_trans().

	fixed cli_NetServerEnum bugs which are also fixed in the main branch...

	got anonymous session connections working.

ntclient.c :

	modified the nt login test code to be a command in smbclient.

rpc_pipes/ntclientlogin.c :

	stopped the nt login test code from opening the already open IPC$...




****************************************
Date:	Thursday November 27, 1997 @ 10:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26145

Modified Files:
	loadparm.c 
Log Message:
oh no! my favourite hack is broken. You can't do:

[%U]
	path = %H

to get a new homes area. I wonder when it broke? 

Anyway, I've fixed it. We can all rest easy now, knowing that you
really can produce an incomprehensible smb.conf and get it to work.



****************************************
Date:	Thursday November 27, 1997 @ 12:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19159

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile nameserv.h nmbd_become_dmb.c nmbd_browsesync.c 
	nmbd_elections.c nmbd_incomingrequests.c nmbd_lmhosts.c 
	nmbd_namequery.c nmbd_packets.c proto.h 
Log Message:
Added 'wins proxy' functionality to be compatible with the old nmbd.
This means the success funtion to query_name had to have one more
parameter added. Actually, it tidied the code up a bit :-).
Put the -DSYNC_DNS back in the Makefile (needed until wins server
finished).
Jeremy.




****************************************
Date:	Thursday November 27, 1997 @ 12:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9064

Added Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_winsproxy.c 
Log Message:
Forgot to cvs add the nmbd_winsproxy.c file.



****************************************
Date:	Thursday November 27, 1997 @ 15:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1255

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_mynames.c nmbd_namelistdb.c 
Log Message:
nmbd_mynames.c: Caused my names to be added to unicast subnet even
if we are not talking to a WINS server.
nmbd_namelistdb.c: Added WINS_PROXY_NAME debug string info.
Jeremy.



****************************************
Date:	Thursday November 27, 1997 @ 23:05
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3564

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c clientsmb.c ntclient.c 
	ntdomain.h password.c proto.h smb.h smbencrypt.c 
Log Message:

Makefile :

	split RPC_CLI_OBJ down into multiple lines.


client.c :

	added lsaquery and samrid commands.  wow!

	lsaquery determines the status of a machine: whether it is a member of
	a domain and whether it is a domain controller.  this process also grabs
	the domain SID.

	samrid is an experiment to work on "user manager for domains" stuff.
	this is going to be part of the automatic process to add workstation
	trust accounts.  amongst other things...

clientgen.c :

	getting 32 bit status codes negotiated in the client code.
	trying to do some debugging, as it turns out probably unnecessary
	mods that andrew _and_ jeremy will kill me for, in cli_session_setup()...

ntclient.c :

	added lsa query command and samrid lookup code.

ntdomain.h :

	identified one of the unknown fields in what i have called "samr_open_secret"
	as a RID.  the other field is a SID.

smb.h :

	adding bits needed for lsa query and samrid commands.

smbencrypt.c :

	stupid, stupid bug.  using sizeof(part_passwd) which returns 4 instead of 16.

rpc_pipes/ntclientlsa.c :

	need a "start session" call.

rpc_pipes/samrparse.c :

	added make_q_open_secret and make_q_open_policy functions.




****************************************
Date:	Thursday November 27, 1997 @ 23:05
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv3564/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsa_hnd.c ntclientlogin.c ntclientlsa.c ntclientpipe.c 
	samrparse.c 
Log Message:

Makefile :

	split RPC_CLI_OBJ down into multiple lines.


client.c :

	added lsaquery and samrid commands.  wow!

	lsaquery determines the status of a machine: whether it is a member of
	a domain and whether it is a domain controller.  this process also grabs
	the domain SID.

	samrid is an experiment to work on "user manager for domains" stuff.
	this is going to be part of the automatic process to add workstation
	trust accounts.  amongst other things...

clientgen.c :

	getting 32 bit status codes negotiated in the client code.
	trying to do some debugging, as it turns out probably unnecessary
	mods that andrew _and_ jeremy will kill me for, in cli_session_setup()...

ntclient.c :

	added lsa query command and samrid lookup code.

ntdomain.h :

	identified one of the unknown fields in what i have called "samr_open_secret"
	as a RID.  the other field is a SID.

smb.h :

	adding bits needed for lsa query and samrid commands.

smbencrypt.c :

	stupid, stupid bug.  using sizeof(part_passwd) which returns 4 instead of 16.

rpc_pipes/ntclientlsa.c :

	need a "start session" call.

rpc_pipes/samrparse.c :

	added make_q_open_secret and make_q_open_policy functions.




****************************************
Date:	Friday November 28, 1997 @ 14:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27643

Modified Files:
	server.c 
Log Message:
fixed a very nasty oplock bug. We could send oplock break requests on
files that aren't open if the file happened to close while the oplock
was in transit. We would end up sending a oplock break request on
another random file (actually the open file that happened to have the
highest fnum). Then we wouldn't get a response, so smbd would keep
sending and would actually flood the net with an infinite number of
oplock break requests!



****************************************
Date:	Friday November 28, 1997 @ 14:39
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23796

Modified Files:
	server.c 
Log Message:
there was a bug in my oplock bugfix :-)

It's fixed properly now :-)



****************************************
Date:	Friday November 28, 1997 @ 14:45
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18alpha12


****************************************
Date:	Friday November 28, 1997 @ 14:46
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha12


****************************************
Date:	Friday November 28, 1997 @ 14:46
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha12


****************************************
Date:	Friday November 28, 1997 @ 16:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24502

Modified Files:
	smb.h 
Log Message:
get_entries is an int not a bool



****************************************
Date:	Friday November 28, 1997 @ 16:52
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24457

Modified Files:
	namelogon.c namepacket.c proto.h 
Log Message:
pass the mailslot name to process_logon_packet()

- fixed process_logon_packet() to always send the reply to/from the
correct netbios name (it should match the query)

- only do a NT style QUERYFORPDC if the query came in on a
NT_LOGON_MAILSLOT

Luke, can you check to see if these changes work in your branch with
NT logons?






****************************************
Date:	Saturday November 29, 1997 @ 2:22
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12739

Modified Files:
      Tag: BRANCH_NTDOM
	client.c ntclient.c ntdomain.h proto.h smb.h smbpass.c 
Log Message:

added a "\PIPE\samr query users" to smbclient and smbd.



****************************************
Date:	Saturday November 29, 1997 @ 2:22
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv12739/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsa_hnd.c pipesamr.c samrparse.c smbparse.c 
Log Message:

added a "\PIPE\samr query users" to smbclient and smbd.



****************************************
Date:	Saturday November 29, 1997 @ 5:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10319

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile smbpasswd.c uid.c 
Log Message:

Makefile :

	accidentally added ntclientstatus.c which isn't used

smbpasswd.c :

	struct smb_pass uses an fstring now not a char*, because i needed to
	make an array of smbpasses for the "user manager for domains" stuff.

uid.c :

	jeremy would kill me for this one.  i missed a Get_Pwnam() when adding
	the extra BOOL* guest argument, in uid.c

rpc_pipes/ntclientstatus.c :

	missed one of the files when adding the extra arguments to cli_open()
	and cli_close().  not that it matters, because this file isn't used
	any more.

rpc_pipes/smbparse.c :

	strtok() was destroying the sid!



****************************************
Date:	Saturday November 29, 1997 @ 5:24
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv10319/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientstatus.c smbparse.c 
Log Message:

Makefile :

	accidentally added ntclientstatus.c which isn't used

smbpasswd.c :

	struct smb_pass uses an fstring now not a char*, because i needed to
	make an array of smbpasses for the "user manager for domains" stuff.

uid.c :

	jeremy would kill me for this one.  i missed a Get_Pwnam() when adding
	the extra BOOL* guest argument, in uid.c

rpc_pipes/ntclientstatus.c :

	missed one of the files when adding the extra arguments to cli_open()
	and cli_close().  not that it matters, because this file isn't used
	any more.

rpc_pipes/smbparse.c :

	strtok() was destroying the sid!



****************************************
Date:	Saturday November 29, 1997 @ 7:35
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5060

Modified Files:
      Tag: JRA_NMBD_REWRITE
	loadparm.c nmbd_packets.c nmbd_processlogon.c proto.h server.c 
Log Message:
Bringing the JRA_NMBD_REWIRE up to
date with Andrews oplock fix and his
additions to the logon processing.
Jeremy.



****************************************
Date:	Saturday November 29, 1997 @ 13:40
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24436

Modified Files:
	reply.c server.c smb.h util.c 
Log Message:
added a sent_oplock_break element to Files[] as a paranoia check so we
can't sent a oplock break twice on the same file. 

changed some debug levels in the oplock code to level 0 so we can
track down a bug

zero the returned Files[] entry in find_free_file()

don't try to overcome client bugs in the handling of non-encrypted
passwords if in server level security mode

added paranoid null termination of password buffers

slight change to my ajt_panic() routine



****************************************
Date:	Sunday November 30, 1997 @ 0:29
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv560

Modified Files:
	ipc.c util.c 
Log Message:
use -1 not 0xffffffff in SIVALS() macros

use the same process_exists() code on all systems (it's probably
faster anyway)



****************************************
Date:	Sunday November 30, 1997 @ 0:35
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20931

Modified Files:
	locking_shm.c locking_slow.c 
Log Message:
don't display locks for dead processes in smbstatus




****************************************
Date:	Sunday November 30, 1997 @ 13:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/data/people/jra/samba-mainline/samba/source

Modified Files:
	clientgen.c proto.h reply.c server.c 
Log Message:
clientgen.c: Added cli_mv() (used in a recent torture test).
reply.c: Changed reply_open_and_X to split out the oplock
request bits from core and extended and if an oplock was granted only set
the corresponding bit on reply.
server.c: Added code to dynamically allocate i/o buffers in oplock_break
(prevents recursion problems) , also made reset of sent_oplock_break
explicit.
Jeremy.



****************************************
Date:	Sunday November 30, 1997 @ 16:46
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv22591

Modified Files:
	smb.conf.default 
Log Message:
the logon script example should use %U.bat not %u.bat



****************************************
Date:	Monday December 1, 1997 @ 3:18
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26259

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile ipc.c ntdomain.h pipes.c proto.h smb.h 
Log Message:

Issues
------

working on adding "user manager for domains" capability to samba.  this will
most definitely need the unix uid -> smb RID and workstation RID, and unix gid
-> smb RID to be resolved.

got the user ids done.  added minimal \PIPE\winreg support.  only have to do
the groups, and then we're clear.  by the way, it's crazy to note that you can send
anonymous IPC$ connections to an NT server and get the SID and a full list of
users and their RIDS...


Makefile :

	added pipereg.c and regparse.c

lsa_hnd.c :

	added reg_info to the lsa handle stuff.  hm.  lsa_hnd.c is getting
	overloaded.  maybe there should be separate versions of these: one
	per pipe.

pipes.c rpc_pipes/pipeutil.c ipc.c :

	added \PIPE\winreg

rpc_pipes/pipesamr.c :

	got fed up with the switch() statement.  done an array of functions instead.

rpc_pipes/pipesrvsvc.c :

	name of server should be upper case.

rpc_pipes/smbparse.c :

	added UNINOTSTR2 structure, which is because of a stupid stupid response
	in the \PIPE\winreg query info packet: it specifies the unicode string
	by length as char* not wchar_t*




****************************************
Date:	Monday December 1, 1997 @ 3:18
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv26259/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsa_hnd.c pipesamr.c pipesrvsvc.c pipeutil.c smbparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	pipereg.c regparse.c 
Log Message:

Issues
------

working on adding "user manager for domains" capability to samba.  this will
most definitely need the unix uid -> smb RID and workstation RID, and unix gid
-> smb RID to be resolved.

got the user ids done.  added minimal \PIPE\winreg support.  only have to do
the groups, and then we're clear.  by the way, it's crazy to note that you can send
anonymous IPC$ connections to an NT server and get the SID and a full list of
users and their RIDS...


Makefile :

	added pipereg.c and regparse.c

lsa_hnd.c :

	added reg_info to the lsa handle stuff.  hm.  lsa_hnd.c is getting
	overloaded.  maybe there should be separate versions of these: one
	per pipe.

pipes.c rpc_pipes/pipeutil.c ipc.c :

	added \PIPE\winreg

rpc_pipes/pipesamr.c :

	got fed up with the switch() statement.  done an array of functions instead.

rpc_pipes/pipesrvsvc.c :

	name of server should be upper case.

rpc_pipes/smbparse.c :

	added UNINOTSTR2 structure, which is because of a stupid stupid response
	in the \PIPE\winreg query info packet: it specifies the unicode string
	by length as char* not wchar_t*




****************************************
Date:	Monday December 1, 1997 @ 3:46
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv15862

Added Files:
      Tag: BRANCH_NTDOM
	ntclientsamr.c 
Log Message:

oops.  lucky i didn't do the clear-out and cvs -t update i was planning...



****************************************
Date:	Tuesday December 2, 1997 @ 1:50
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv9461

Modified Files:
	idb.pl spec.pl makefile.pl mkrelease.sh 
Log Message:
dded error checking to scripts



****************************************
Date:	Tuesday December 2, 1997 @ 2:04
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv25662

Modified Files:
      Tag: BRANCH_1_9_17
	idb.pl spec.pl makefile.pl mkrelease.sh 
Log Message:
added error checking to scripts



****************************************
Date:	Tuesday December 2, 1997 @ 2:21
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23212

Modified Files:
	installcp.sh 
Log Message:
remove stutter from closing instructions



****************************************
Date:	Tuesday December 2, 1997 @ 9:49
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv10729

Modified Files:
	idb.pl 
Log Message:
fix for systems that don't have PWD environment variable defined



****************************************
Date:	Tuesday December 2, 1997 @ 9:55
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv537

Modified Files:
      Tag: BRANCH_1_9_17
	idb.pl 
Log Message:
fix for systems that don't have PWD environment variable defined



****************************************
Date:	Tuesday December 2, 1997 @ 12:18
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24934

Modified Files:
      Tag: JRA_NMBD_REWRITE
	clientgen.c installcp.sh ipc.c locking_shm.c locking_slow.c 
	nmbd_incomingrequests.c nmbd_logonnames.c nmbd_namelistdb.c 
	nmbd_packets.c nmblib.c proto.h reply.c server.c smb.h util.c 
Log Message:
clientgen.c: Added cli_mv() I added into main branch.
installcp.sh ipc.c locking_shm.c locking_slow.c reply.c server.c smb.h util.c :
 Keep up to date with the main branch.
nmbd_incomingrequests.c: Added code so we always respond to unicast queries.
nmbd_logonnames.c: Added code to add SV_TYPE_DOMAIN_CTRL when we are serving logons.
nmbd_namelistdb.c: Fixed magic Samba names so that on multi-homed hosts they
 are added with all ip addresses.
nmbd_packets.c: Big changes - cause outgoing packets to be sent from the
 correct fd to give them the correct outgoing IP address. This seems to
 be *very* important when doing multihomed WINS regestrations/releases.
nmblib.c: Added codes for multi-homed regestration debugging.
Jeremy.



****************************************
Date:	Tuesday December 2, 1997 @ 13:38
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10435

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c nmbd_packets.c nmbd_winsproxy.c 
	proto.h 
Log Message:
nmbd_incomingrequests.c: nmbd_winsproxy.c: Removed the recursion desired,
recursion available args to reply_netbios_packet - they can be automatically
determined.
nmbd_packets.c: Auto determine the ra/rd bits when replying. May need to be
changed when WINS server is implemented.
Jeremy.



****************************************
Date:	Tuesday December 2, 1997 @ 13:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6574

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_packets.c nmbd_winsserver.c 
Log Message:
 nmbd_packets.c: Fixed debug messages.
nmbd_winnserver.c: First cut at accept packet matrix.
Jeremy.



****************************************
Date:	Wednesday December 3, 1997 @ 6:00
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19035

Modified Files:
	asyncdns.c nameelect.c nmbd.c server.c 
Log Message:
asyncdns.c: Removed warning when compiling with -DSYNC_DNS.
nameelect.c: Tidied up settings of work->ServerType when unbecoming things.
nmbd.c: Fixed pidFile warning.
server.c: Fixed pidFile warning.
Jeremy.



****************************************
Date:	Wednesday December 3, 1997 @ 6:55
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19093

Modified Files:
	smb.conf.5 
Log Message:
Documented the 'veto oplock files' parameter.
Jeremy.



****************************************
Date:	Wednesday December 3, 1997 @ 10:24
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8199

Modified Files:
	util.c 
Log Message:
dont try getpeername() when Client isn't initialised



****************************************
Date:	Wednesday December 3, 1997 @ 10:26
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26948

Modified Files:
	smb.h 
Log Message:
get rid of some things out of smb.h that are already in local.h




****************************************
Date:	Wednesday December 3, 1997 @ 10:27
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20700

Modified Files:
	password.c 
Log Message:
HPUX trusted systems need to use bigcrypt() not crypt()





****************************************
Date:	Wednesday December 3, 1997 @ 10:28
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7023

Modified Files:
	local.h 
Log Message:
the default GUEST_ACCOUNT should be here not in smb.h






****************************************
Date:	Wednesday December 3, 1997 @ 10:29
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11986

Modified Files:
	server.c 
Log Message:
changing the comment in find_new_file() to say why a base of 1 is used







****************************************
Date:	Wednesday December 3, 1997 @ 10:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15376

Modified Files:
	clientgen.c 
Log Message:
add the null string to SMBsetatr calls



****************************************
Date:	Wednesday December 3, 1997 @ 10:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15467

Modified Files:
	client.c 
Log Message:
fixed the help message for -p (someone complained!)




****************************************
Date:	Wednesday December 3, 1997 @ 13:27
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24710

Modified Files:
	charset.c 
Log Message:
fix toupper(c) on a already uppercase char and tolower(c) on an
already lowercase char when using code pages. Jeremy, can you confirm
that this looks right?  It comes from PR#1992



****************************************
Date:	Wednesday December 3, 1997 @ 14:00
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3682

Modified Files:
	printing.c 
Log Message:
hopefully handle "ready and waiting" messages in print queue output a
little better



****************************************
Date:	Wednesday December 3, 1997 @ 14:21
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2124

Modified Files:
	local.h util.c 
Log Message:
I'm slowly getting though the todo list :-)

This change allows people to select the SYSLOG_FACILITY in local.h, or
add it to the Makefile if they want to.




****************************************
Date:	Wednesday December 3, 1997 @ 14:36
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25838

Modified Files:
	smb.conf.5 
Log Message:
make the "printing" option a per share option rather than global. When
printing to lots of different sorts of remote printers this is useful



****************************************
Date:	Wednesday December 3, 1997 @ 14:37
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5804

Modified Files:
	loadparm.c printing.c proto.h 
Log Message:
make the "printing" option a per share option rather than global. When
printing to lots of different sorts of remote printers this is useful



****************************************
Date:	Wednesday December 3, 1997 @ 14:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3695

Modified Files:
	local.h password.c 
Log Message:
allow users to disable the NetWkstaUserLogon call in server level
security by changing a setting in local.h or adding it to their
Makefile. See comment in local.h




****************************************
Date:	Wednesday December 3, 1997 @ 14:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5425

Modified Files:
	time.c 
Log Message:
add a warning if the timezone is not a multiple of 1 minute. This
should catch broken timezone files in slackware linux.




****************************************
Date:	Wednesday December 3, 1997 @ 14:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2585

Modified Files:
	loadparm.c proto.h 
Log Message:
loadparm.c: Added lp_we_are_a_wins_server as an alias for lp_wins_support.
Used by the new nmbd and just makes more sense :-).
Jeremy.



****************************************
Date:	Wednesday December 3, 1997 @ 14:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26250

Modified Files:
      Tag: JRA_NMBD_REWRITE
	client.c clientgen.c loadparm.c local.h nmbd_packets.c 
	password.c printing.c proto.h server.c smb.h util.c version.h 
Log Message:
Keeping up with the tridge's :-) - keeping this banch as close
to the main branch as I can.
Jeremy.



****************************************
Date:	Wednesday December 3, 1997 @ 14:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24418

Modified Files:
      Tag: JRA_NMBD_REWRITE
	local.h password.c time.c 
Log Message:
Still keeping up with the tridge's :-).
Jeremy.



****************************************
Date:	Wednesday December 3, 1997 @ 14:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14574

Modified Files:
	reply.c 
Log Message:
allow local_machine and remote_machine (%L and %m macros) to contain
spaces





****************************************
Date:	Wednesday December 3, 1997 @ 15:20
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24828

Modified Files:
	smb.conf.5 
Log Message:
change the "username map" option to allow the user to stop the
processing part way through the file if a match is found. If a line
starts with ! and a match is made by that line then processing
stops. This allows better wildcard handling.

(patch from Anselm.Kruis@Physik.Uni-Muenchen.DE)






****************************************
Date:	Wednesday December 3, 1997 @ 15:20
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3320

Modified Files:
	username.c 
Log Message:
change the "username map" option to allow the user to stop the
processing part way through the file if a match is found. If a line
starts with ! and a match is made by that line then processing
stops. This allows better wildcard handling.

(patch from Anselm.Kruis@Physik.Uni-Muenchen.DE)






****************************************
Date:	Wednesday December 3, 1997 @ 16:05
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv23332

Modified Files:
	smb.conf.5 
Log Message:
applied a patch from Norm Jacobs to allow "printcap name = lpstat"
to use lpstat to obtain the printer list on systemV systems.

I've now made this the default on all SYSV systems. 

Jeremy, you were a little worried about the security of this patch. I
believe it's OK as the user has no control over the options given to
popen() and the pipe is only open for reading. 




****************************************
Date:	Wednesday December 3, 1997 @ 16:05
Author:	tridge

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv4617

Modified Files:
	smb.conf.default 
Log Message:
applied a patch from Norm Jacobs to allow "printcap name = lpstat"
to use lpstat to obtain the printer list on systemV systems.

I've now made this the default on all SYSV systems. 

Jeremy, you were a little worried about the security of this patch. I
believe it's OK as the user has no control over the options given to
popen() and the pipe is only open for reading. 




****************************************
Date:	Wednesday December 3, 1997 @ 16:06
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22131

Modified Files:
	Makefile loadparm.c local.h pcap.c 
Log Message:
applied a patch from Norm Jacobs to allow "printcap name = lpstat"
to use lpstat to obtain the printer list on systemV systems.

I've now made this the default on all SYSV systems. 

Jeremy, you were a little worried about the security of this patch. I
believe it's OK as the user has no control over the options given to
popen() and the pipe is only open for reading. 




****************************************
Date:	Wednesday December 3, 1997 @ 16:08
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5650

Added Files:
	print_svid.c 
Log Message:
applied a patch from Norm Jacobs to allow "printcap name = lpstat"
to use lpstat to obtain the printer list on systemV systems.

I've now made this the default on all SYSV systems. 

Jeremy, you were a little worried about the security of this patch. I
believe it's OK as the user has no control over the options given to
popen() and the pipe is only open for reading. 




****************************************
Date:	Wednesday December 3, 1997 @ 16:12
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27867

Modified Files:
	Makefile 
Log Message:
print_svid.o needs to be in UTIL because of the silly way we handle
printcap calls in loadparm.o



****************************************
Date:	Wednesday December 3, 1997 @ 16:22
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19844

Modified Files:
	includes.h local.h 
Log Message:
put the default PRINTCAP_NAME def in includes.h not local.h so that
it can see the SYSV definitions




****************************************
Date:	Wednesday December 3, 1997 @ 16:54
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6952

Modified Files:
	namebrowse.c namedbserver.c 
Log Message:
slight cleanup to the linked list handling



****************************************
Date:	Thursday December 4, 1997 @ 1:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28571

Removed Files:
	Makefile.lib 
Log Message:
Makefile.lib does nothing, so remove it



****************************************
Date:	Thursday December 4, 1997 @ 3:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7876

Modified Files:
      Tag: BRANCH_NTDOM
	client.c credentials.c ntclient.c proto.h smb.h smbdes.c 
	smbencrypt.c 
Log Message:

added an nltest command, which in future will do the same stuff as nltest.exe.
made the session key 16 bit not 8.
put the server password set obfuscation code into separate functions, so that
they can be dealt with in one place.

some bugs in the packet parsing (e.g SAM Logon response when there's an error)
i hope will not now stuff things when people send incorrect passwords...



****************************************
Date:	Thursday December 4, 1997 @ 3:14
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv7876/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlogin.c ntclientlsa.c ntclientnet.c 
	pipenetlog.c smbparse.c 
Log Message:

added an nltest command, which in future will do the same stuff as nltest.exe.
made the session key 16 bit not 8.
put the server password set obfuscation code into separate functions, so that
they can be dealt with in one place.

some bugs in the packet parsing (e.g SAM Logon response when there's an error)
i hope will not now stuff things when people send incorrect passwords...



****************************************
Date:	Thursday December 4, 1997 @ 18:29
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22678

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c 
Log Message:
fixed a memory corruption bug. 

(this was caught by mem_man, which I may include with Samba at some
stage)




****************************************
Date:	Thursday December 4, 1997 @ 18:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1012

Modified Files:
      Tag: JRA_NMBD_REWRITE
	smb.h 
Log Message:
it's a bad idea to call structure elements free, alloc etc (this was
my fault).



****************************************
Date:	Thursday December 4, 1997 @ 18:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15277

Modified Files:
      Tag: JRA_NMBD_REWRITE
	locking_shm.c 
Log Message:
it's a bad idea to call structure elements free, alloc etc (this was
my fault).



****************************************
Date:	Thursday December 4, 1997 @ 18:33
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26410

Modified Files:
      Tag: JRA_NMBD_REWRITE
	includes.h 
Log Message:
optionally include my little memory mananger module. Not really all
that portable - it's meant for team members to help with debugging




****************************************
Date:	Thursday December 4, 1997 @ 18:41
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1548

Modified Files:
	locking_shm.c smb.h 
Log Message:
don't use free and alloc as structure elements



****************************************
Date:	Thursday December 4, 1997 @ 18:42
Author:	tridge

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv2300/mem_man

Log Message:
Directory /data/cvs/samba/source/mem_man added to the repository



****************************************
Date:	Thursday December 4, 1997 @ 18:46
Author:	tridge

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv16655

Added Files:
	mem_man.c mem_man.h 
Log Message:
these are some lousy little memory wrappers that catch
malloc/free/realloc etc errors in programs. They can catch overruns,
underruns, free errors etc. It tells you the line of source code that
did the malloc/free when an error occurs.

To enable it in Samba add -DMEM_MAN=1 to your makefile and recompile
(must do a make clean first).

This stuff is really intended for Samba team members only. 

You can get it to dump a complete list of memory allocations and
errors by sending a SIGUSR1.





****************************************
Date:	Thursday December 4, 1997 @ 18:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26414

Modified Files:
	Makefile includes.h proto.h 
Log Message:
added optonal MEM_MAN code



****************************************
Date:	Thursday December 4, 1997 @ 18:49
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24681

Modified Files:
	replace.c 
Log Message:
got rid of the WRAP_MALLOC code - mem_man does it better




****************************************
Date:	Thursday December 4, 1997 @ 18:53
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12228

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile proto.h 
Log Message:
optional mem_man in here too





****************************************
Date:	Thursday December 4, 1997 @ 19:02
Author:	tridge

Update of /data/cvs/samba/source/mem_man
In directory samba:/data/local/src/samba_1.9.18/source/mem_man

Modified Files:
	mem_man.c 
Log Message:
don't use SIGNAL_CAST - it gets rid of warnings bug makes it less
portable



****************************************
Date:	Thursday December 4, 1997 @ 19:10
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24231

Modified Files:
	asyncdns.c 
Log Message:
allow for zero size reads in asyncdns. These can happen after a signal






****************************************
Date:	Thursday December 4, 1997 @ 21:58
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20261

Modified Files:
	asyncdns.c 
Log Message:
catch signals in the async dns daemon and allow it to auto-restart if
necessary







****************************************
Date:	Thursday December 4, 1997 @ 21:59
Author:	tridge

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv8708

Modified Files:
	mem_man.c 
Log Message:
only do a complete scan of all memory blocks (looking for overflows)
on every 100 free operations. It slowed down my box so much that a
domain login could time out!

note: this stuff is all turned off by default



****************************************
Date:	Friday December 5, 1997 @ 0:39
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4097

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientgen.c clientsmb.c clitar.c proto.h 
	pwd_validate.c smb.h 
Log Message:

modified client code to allow multiple tconX connections.



****************************************
Date:	Friday December 5, 1997 @ 0:39
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv4097/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientlogin.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	ntclientsamr.c 
Log Message:

modified client code to allow multiple tconX connections.



****************************************
Date:	Friday December 5, 1997 @ 5:39
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv23771

Modified Files:
	Support.txt 
Log Message:
Added one more USA consultant.
Jeremy.



****************************************
Date:	Friday December 5, 1997 @ 6:17
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv12978

Modified Files:
	idb.pl 
Log Message:
fix typo in directory name



****************************************
Date:	Friday December 5, 1997 @ 7:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7969

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile asyncdns.c includes.h loadparm.c local.h 
	nmbd_become_lmb.c nmbd_incomingrequests.c pcap.c proto.h 
	replace.c reply.c username.c 
Log Message:
Fixed problem with node status returning too few names.
Keep server part in sync with main branch.
Jeremy.



****************************************
Date:	Friday December 5, 1997 @ 8:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22828

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c nmbd_lmhosts.c nmbd_namelistdb.c 
Added Files:
      Tag: JRA_NMBD_REWRITE
	print_svid.c 
Log Message:
nmbd_incomingrequests.c: Fixed rd bit check.
nmbd_lmhosts.c: Added PERMANENT_TTL rather than 0.
nmbd_namelistdb.c: Removed error message. Added dump of remote_announce_subnet.
Jeremy



****************************************
Date:	Friday December 5, 1997 @ 14:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18147

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nameserv.h nmbd.c nmbd_namelistdb.c nmbd_packets.c 
	nmbd_winsserver.c proto.h 
Log Message:
Half-done WINS server code plus fix for malloc/free bug.
Jeremy.



****************************************
Date:	Saturday December 6, 1997 @ 13:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16094

Modified Files:
      Tag: JRA_NMBD_REWRITE
	asyncdns.c nameserv.h nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_namelistdb.c nmbd_namequery.c 
	nmbd_nameregister.c nmbd_packets.c nmbd_responserecordsdb.c 
	nmbd_subnetdb.c nmbd_winsserver.c proto.h 
Log Message:
WINS server code under construction.....
Jeremy.



****************************************
Date:	Saturday December 6, 1997 @ 13:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15427

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_winsserver.c 
Log Message:
nmbd_winsserver.c: Send query request to *owner* ip, not requesting ip.
Jeremy.



****************************************
Date:	Saturday December 6, 1997 @ 14:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1355

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_winsserver.c 
Log Message:
nmbd_winsserver.c: Generalise routine so query success/fail routines
may be called by both unique and group registration requests.
Jeremy.



****************************************
Date:	Monday December 8, 1997 @ 7:02
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18711

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile clientsmb.c clitar.c nmbsync.c ntclient.c ntdomain.h 
	proto.h pwd_validate.c reply.c server.c smb.h smbencrypt.c 
	torture.c 
Added Files:
      Tag: BRANCH_NTDOM
	clientinfo.c clientipc.c clientprint.c 
Removed Files:
      Tag: BRANCH_NTDOM
	clientutil.c 
Log Message:

Issues
------

split smbclient down a little more.  made anon IPC; smb tar/cmd; nt domain
IPC connections all independent.  each module is responsible for its
own cli_state connections.  this could potentially therefore include
torture.c very easily, should we choose to do this.  (hm.  do we really
want smbclient users to hit SMB servers with 1,000 or more connections?)
doing some more work on getting user manager for domains at the very
least visible, even if you can't do anything with it.  identified that
if you do a QuickView on, for example system32\samsrv.dll, you come up
with a list of function names.  this is most useful, because you can
match (for example) SamrXXXX with their over-the-wire counterparts.


Added Files:
------------

clientinfo.c clientipc.c clientprint.c :

	split clientsmb.c down a little more.

	clientinfo is the environment variables (soon to be expanded,
	e.g username and share name, so that you can do "smbclient"
	and then set everything up interactively)
	clientprint.c is the smb printing routines.  this includes
	the queue stuff, which is actually an SMBtrans2.  oh well.

	clientipc.c is all the IPC commands (at the moment only
	NetShareEnum and NetServerEnum).  it doesn't include any
	of the DCE/RPC commands: those are in ntclient.c


Removed Files:
--------------

clientutil.c :

	hooray.  no more global smbclient variables.


Modified Files:
---------------

Makefile :

	dealing with split-downs of clientsmb.c  tidying.

client.c clitar.c ntclient.c clientsmb.c :

	removed the cli_state argument, making it local to the module.
	moved all the smbclient arguments into struct client_info.

clientgen.c reply.c server.c smb.h :

	IS_BITS_SET renamed to IS_BITS_SET_ALL.

nmbsync.c torture.c :

	whoops.  missed one of the cli_send_tconXs when adding t_idx.

ntdomain.h rpc_pipes/pipesamr.c rpc_pipes/smbparse.c rpc_pipes/samrparse.c :

	added comments on samr from QuickView of system32\samsrv.dll
	accidentally re-implemented samr command 0x28, having possibly
	identified it as SamrQueryDisplayInformation.  it's quite
	a general command (used by Server Manager and User Manager)
	and it's utterly stupid that microsoft allows anonymous
	connections to grab usernames, workstation names, trusted
	domain names etc _and_ their associated RIDs...

	SamrQueryDisplayInformation appears to have info levels.
	more on this, later, once i've worked out slightly what's
	going on.

rpc_pipes/pipenetlog.c :

	missed the setup of the sam logon user in the last code
	shuffle (which dealt with answering "no such user"
	properly, which was stuffing logins and therefore the
	credential chain, stopping future logins...)




****************************************
Date:	Monday December 8, 1997 @ 7:02
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv18711/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipenetlog.c pipesamr.c samrparse.c smbparse.c 
Log Message:

Issues
------

split smbclient down a little more.  made anon IPC; smb tar/cmd; nt domain
IPC connections all independent.  each module is responsible for its
own cli_state connections.  this could potentially therefore include
torture.c very easily, should we choose to do this.  (hm.  do we really
want smbclient users to hit SMB servers with 1,000 or more connections?)
doing some more work on getting user manager for domains at the very
least visible, even if you can't do anything with it.  identified that
if you do a QuickView on, for example system32\samsrv.dll, you come up
with a list of function names.  this is most useful, because you can
match (for example) SamrXXXX with their over-the-wire counterparts.


Added Files:
------------

clientinfo.c clientipc.c clientprint.c :

	split clientsmb.c down a little more.

	clientinfo is the environment variables (soon to be expanded,
	e.g username and share name, so that you can do "smbclient"
	and then set everything up interactively)
	clientprint.c is the smb printing routines.  this includes
	the queue stuff, which is actually an SMBtrans2.  oh well.

	clientipc.c is all the IPC commands (at the moment only
	NetShareEnum and NetServerEnum).  it doesn't include any
	of the DCE/RPC commands: those are in ntclient.c


Removed Files:
--------------

clientutil.c :

	hooray.  no more global smbclient variables.


Modified Files:
---------------

Makefile :

	dealing with split-downs of clientsmb.c  tidying.

client.c clitar.c ntclient.c clientsmb.c :

	removed the cli_state argument, making it local to the module.
	moved all the smbclient arguments into struct client_info.

clientgen.c reply.c server.c smb.h :

	IS_BITS_SET renamed to IS_BITS_SET_ALL.

nmbsync.c torture.c :

	whoops.  missed one of the cli_send_tconXs when adding t_idx.

ntdomain.h rpc_pipes/pipesamr.c rpc_pipes/smbparse.c rpc_pipes/samrparse.c :

	added comments on samr from QuickView of system32\samsrv.dll
	accidentally re-implemented samr command 0x28, having possibly
	identified it as SamrQueryDisplayInformation.  it's quite
	a general command (used by Server Manager and User Manager)
	and it's utterly stupid that microsoft allows anonymous
	connections to grab usernames, workstation names, trusted
	domain names etc _and_ their associated RIDs...

	SamrQueryDisplayInformation appears to have info levels.
	more on this, later, once i've worked out slightly what's
	going on.

rpc_pipes/pipenetlog.c :

	missed the setup of the sam logon user in the last code
	shuffle (which dealt with answering "no such user"
	properly, which was stuffing logins and therefore the
	credential chain, stopping future logins...)




****************************************
Date:	Tuesday December 9, 1997 @ 3:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9558

Modified Files:
      Tag: BRANCH_NTDOM
	charset.c nameannounce.c ntclient.c ntdomain.h proto.h 
Log Message:

Issues
------

at... sodding... last.  got "user manager for domains" to run.  can't
view accounts yet (although it might actually work: i've implemented
a few of the samr functions without knowing what they do).

the "create" and "modify" functions are going to need some reverse-
engineering, which means publishing what's going on.  so i'll leave

Modified Files
--------------

charset.c nameannounce.c :

	found out about gcc warnings: enabled a few random ones.
	got a message saying that there were loads of functions
	declared without arguments.  these are two of them, then
	i switched the strict-prototypes warning off :-)

ntclient.c rpc_pipes/ntclientsamr.c :

	given the QuickView on samsrv.dll, a guess has been made
	as to some of the function names, which have been renamed.

ntdomain.h rpc_pipes/pipesamr.c rpc_pipes/smbparse.c :

	added enum domains / aliases and other stuff, to get
	user manager for domains to work on samba.



****************************************
Date:	Tuesday December 9, 1997 @ 3:48
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv9558/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientsamr.c pipesamr.c samrparse.c smbparse.c 
Log Message:

Issues
------

at... sodding... last.  got "user manager for domains" to run.  can't
view accounts yet (although it might actually work: i've implemented
a few of the samr functions without knowing what they do).

the "create" and "modify" functions are going to need some reverse-
engineering, which means publishing what's going on.  so i'll leave

Modified Files
--------------

charset.c nameannounce.c :

	found out about gcc warnings: enabled a few random ones.
	got a message saying that there were loads of functions
	declared without arguments.  these are two of them, then
	i switched the strict-prototypes warning off :-)

ntclient.c rpc_pipes/ntclientsamr.c :

	given the QuickView on samsrv.dll, a guess has been made
	as to some of the function names, which have been renamed.

ntdomain.h rpc_pipes/pipesamr.c rpc_pipes/smbparse.c :

	added enum domains / aliases and other stuff, to get
	user manager for domains to work on samba.



****************************************
Date:	Tuesday December 9, 1997 @ 6:03
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2589

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_winsserver.c 
Log Message:
nmbd_winsserver.c: Fixed registration code for unique & group names.
Jeremy



****************************************
Date:	Wednesday December 10, 1997 @ 4:12
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16492

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientgen.c clientipc.c clientprint.c clientsmb.c 
	clitar.c ipc.c ntclient.c ntdomain.h proto.h reply.c server.c 
	smb.h 
Log Message:

Issues
------

attempted to do a compile without -DNTDOMAIN.  it fell over on its face,
because of hundreds of undefined structures referenced in proto.h.  so, i
took out -DNTDOMAIN.

why?  because if you don't the nt domain functionality, it does't matter.
you just don't end up _not_ using a subset of the functionality added to
samba and only accessible from NT machines, using DCE/RPC.

about the only thing that's affected are clientgen.c uses a different
function to reply to SMBtrans calls; reply.c does a trust account check
and responds with an error message indicating the _type_ of trust account;
ipc.c indicates that it supports more than just \PIPE\lsarpc (which used
to be the only pipe supported by samba)...

compilation time will be up... :-)


clearing up some bugs in the SamrEnumDomainUsers, which would appear to
be almost identical to SamrEnumDomainGroups and Aliases, only not quite.
haven't managed to bounce this message off of an NT server, yet...

clearing up some bugs in smbclient: you need pointers to externs (in
this instance cli_state smb_cli)  and also i need to rethink the
strategy on the client connections.




****************************************
Date:	Wednesday December 10, 1997 @ 4:13
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv16492/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsa_hnd.c lsaparse.c ntclientlogin.c ntclientlsa.c 
	ntclientnet.c ntclientpipe.c ntclientsamr.c ntclientstatus.c 
	ntclienttrust.c pipenetlog.c pipentlsa.c pipereg.c pipesamr.c 
	pipesrvsvc.c pipeutil.c pipewkssvc.c regparse.c samrparse.c 
	smbparse.c srvparse.c wksparse.c 
Log Message:

Issues
------

attempted to do a compile without -DNTDOMAIN.  it fell over on its face,
because of hundreds of undefined structures referenced in proto.h.  so, i
took out -DNTDOMAIN.

why?  because if you don't the nt domain functionality, it does't matter.
you just don't end up _not_ using a subset of the functionality added to
samba and only accessible from NT machines, using DCE/RPC.

about the only thing that's affected are clientgen.c uses a different
function to reply to SMBtrans calls; reply.c does a trust account check
and responds with an error message indicating the _type_ of trust account;
ipc.c indicates that it supports more than just \PIPE\lsarpc (which used
to be the only pipe supported by samba)...

compilation time will be up... :-)


clearing up some bugs in the SamrEnumDomainUsers, which would appear to
be almost identical to SamrEnumDomainGroups and Aliases, only not quite.
haven't managed to bounce this message off of an NT server, yet...

clearing up some bugs in smbclient: you need pointers to externs (in
this instance cli_state smb_cli)  and also i need to rethink the
strategy on the client connections.




****************************************
Date:	Wednesday December 10, 1997 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6785

Modified Files:
      Tag: BRANCH_NTDOM
	ntclient.c ntdomain.h proto.h smb.h 
Log Message:

Issues
------

attempting to fix the "sam query" command in smbclient: it's broke.  i
was missing the SAMR_OPEN_DOMAIN command (or at least, what i _think_
is the OPEN_DOMAIN command...)

renamed LSA_POL_HND to POLICY_HND.  swapped the names of SAMR_CONNECT
and SAMR_OPEN_DOMAIN because i _think_ i got them the wrong way round:
you just never, never, can tell...

john reported that this version of smbclient can't do \\server\share.
oops.  i'll fix that later...



****************************************
Date:	Wednesday December 10, 1997 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv6785/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsa_hnd.c lsaparse.c ntclientlsa.c ntclientsamr.c 
	ntclientstatus.c pipereg.c pipesamr.c regparse.c samrparse.c 
	smbparse.c 
Log Message:

Issues
------

attempting to fix the "sam query" command in smbclient: it's broke.  i
was missing the SAMR_OPEN_DOMAIN command (or at least, what i _think_
is the OPEN_DOMAIN command...)

renamed LSA_POL_HND to POLICY_HND.  swapped the names of SAMR_CONNECT
and SAMR_OPEN_DOMAIN because i _think_ i got them the wrong way round:
you just never, never, can tell...

john reported that this version of smbclient can't do \\server\share.
oops.  i'll fix that later...



****************************************
Date:	Wednesday December 10, 1997 @ 11:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5349

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile asyncdns.c loadparm.c nameserv.h nmbd.c 
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_logonnames.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_packets.c nmbd_serverlistdb.c 
	nmbd_subnetdb.c nmbd_winsserver.c nmbd_workgroupdb.c proto.h 
Log Message:
Nearly finished WINS code !
Added back pointers to subnet in name & server lists.
Added 'changed' fields to subnet structure.
Jeremy.



****************************************
Date:	Wednesday December 10, 1997 @ 11:46
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13252

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_workgroupdb.c 
Log Message:
Fixed silly crash bug when adding back reference to subnet.
Jeremy.



****************************************
Date:	Wednesday December 10, 1997 @ 12:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10082

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c nmbd_winsserver.c proto.h 
Log Message:
Finished WINS server dump code. Lots of testing needed now.
Jeremy.



****************************************
Date:	Wednesday December 10, 1997 @ 13:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15784

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_namelistdb.c 
Log Message:
Fixed bug with all times being set to PERMANENT_TTL in WINS db.
Jeremy.



****************************************
Date:	Thursday December 11, 1997 @ 4:47
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv674

Modified Files:
      Tag: BRANCH_NTDOM
	client.c ntclient.c ntdomain.h proto.h smb.h smbpass.c 
Log Message:

Issues
------

samr stuff.  moving bits around.  trying to bounce samr packets of an
nt server, and get usrmgr.exe running a bit more.

Modified Files
--------------

client.c :

	renamed samrid command to samquery.  updated command syntax descriptions.

ntclient.c :

	lsaquery command doesn't need to specify the server name: you just
	use dest_host.

	samquery command experimentation.  establishing what the various
	parameters are.  looks like you can enumerate users by an ACB mask,
	and also tell it how many users to return in the reply.

ntdomain.h :

	for the SAM User database, did some shuffling of the USER_INFO
	structures.  there is now USER_INFO levels 0x03, 0x10, 0x11 and 0x15.

	reckon that SAM command 0x24 is SamrQueryUserInfo, and that it takes
	switch levels 0x03, 0x11 and 0x15, so far identified through the use
	of user manager and server manager.

smb.h rpc_pipes/ntclientlogin.c ntclientnet.c :

	LSA_USER_INFO structure renamed to USER_INFO_3.

smbpass.c :

	get_smbpwd_entries() now takes an ACB mask.

rpc_pipes/lsaparse.c rpc_pipes/smbparse.c rpc_pipes/pipenetlog.c :

	LSA_USER_INFO create / parse functions renamed to USER_INFO_3.
	added USER_INFO_11 creation / parsing.

rpc_pipes/ntclientsamr.c rpc_pipes/pipesamr.c rpc_pipes/samrparse.c :

	can now do a SamEnumerateDomainUsers from smbclient.

	identified sam command 0x4 as SamrQueryUserInfo




****************************************
Date:	Thursday December 11, 1997 @ 4:47
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv674/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlogin.c ntclientnet.c ntclientsamr.c 
	pipenetlog.c pipesamr.c samrparse.c smbparse.c 
Log Message:

Issues
------

samr stuff.  moving bits around.  trying to bounce samr packets of an
nt server, and get usrmgr.exe running a bit more.

Modified Files
--------------

client.c :

	renamed samrid command to samquery.  updated command syntax descriptions.

ntclient.c :

	lsaquery command doesn't need to specify the server name: you just
	use dest_host.

	samquery command experimentation.  establishing what the various
	parameters are.  looks like you can enumerate users by an ACB mask,
	and also tell it how many users to return in the reply.

ntdomain.h :

	for the SAM User database, did some shuffling of the USER_INFO
	structures.  there is now USER_INFO levels 0x03, 0x10, 0x11 and 0x15.

	reckon that SAM command 0x24 is SamrQueryUserInfo, and that it takes
	switch levels 0x03, 0x11 and 0x15, so far identified through the use
	of user manager and server manager.

smb.h rpc_pipes/ntclientlogin.c ntclientnet.c :

	LSA_USER_INFO structure renamed to USER_INFO_3.

smbpass.c :

	get_smbpwd_entries() now takes an ACB mask.

rpc_pipes/lsaparse.c rpc_pipes/smbparse.c rpc_pipes/pipenetlog.c :

	LSA_USER_INFO create / parse functions renamed to USER_INFO_3.
	added USER_INFO_11 creation / parsing.

rpc_pipes/ntclientsamr.c rpc_pipes/pipesamr.c rpc_pipes/samrparse.c :

	can now do a SamEnumerateDomainUsers from smbclient.

	identified sam command 0x4 as SamrQueryUserInfo




****************************************
Date:	Thursday December 11, 1997 @ 8:13
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4795

Modified Files:
      Tag: JRA_NMBD_REWRITE
	loadparm.c nmbd_browserdb.c nmbd_incomingrequests.c 
	nmbd_packets.c nmbd_winsserver.c proto.h 
Log Message:
Added min wins ttl. Fixed problem with adding multihomed WINS entries.
Fixed problem with reading wins.dat. Fixed linked list problem with
browse entries. Fixed problems with broadcast group registration.
Jeremy.



****************************************
Date:	Thursday December 11, 1997 @ 9:33
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26240

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingdgrams.c nmbd_winsserver.c 
Log Message:
nmbd_incomingdgrams.c: Fixed so that local master browser is added on workgroup announce.
nmbd_winsserver.c: Fixed missing return bugs, error in not removing namerec.
Jeremy



****************************************
Date:	Thursday December 11, 1997 @ 11:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27954

Modified Files:
	kanji.c proto.h 
Log Message:
kanji.c: Patch from Anders Blomdell <anders.blomdell@control.lth.se>
for problem with kanji sj_strXXX functions.
Jeremy.



****************************************
Date:	Thursday December 11, 1997 @ 11:44
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv21988

Modified Files:
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h 
Log Message:
While working on a general-purpose caching module (out soon), I thought of
a better way to handle the node pointer array used in ubi_BinTree.  The
change simplified the code a bigbunch.  It also forced updates to all of
the binary tree modules.  CRH



****************************************
Date:	Thursday December 11, 1997 @ 12:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18023

Modified Files:
	charset.c 
Log Message:
fixed over char 127 problems with isupper/islower.
Jeremy.



****************************************
Date:	Thursday December 11, 1997 @ 12:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6596

Modified Files:
      Tag: JRA_NMBD_REWRITE
	kanji.c nmbd.c nmbd_sendannounce.c proto.h 
Removed Files:
      Tag: JRA_NMBD_REWRITE
	wins.c 
Log Message:
Attempting to get CVS to finally accept my changes.
Jeremy.



****************************************
Date:	Friday December 12, 1997 @ 4:35
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13827

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientipc.c clientsmb.c nmbd.c nmblookup.c ntclient.c 
	ntdomain.h proto.h server.c smb.h smbpasswd.c status.c 
	testparm.c testprns.c util.c 
Log Message:

Issues
------

sorting out "samusers" command to grab USER_INFO_15 structure (added
SAMR_OPEN_USER to smbclient).  this info level will be on request, later,
as a sub-command of "samusers".  

also modified things so that smbclient can output to stdout, but DEBUG
output goes to stderr.



****************************************
Date:	Friday December 12, 1997 @ 4:35
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv13827/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientsamr.c samrparse.c smbparse.c 
Log Message:

Issues
------

sorting out "samusers" command to grab USER_INFO_15 structure (added
SAMR_OPEN_USER to smbclient).  this info level will be on request, later,
as a sub-command of "samusers".  

also modified things so that smbclient can output to stdout, but DEBUG
output goes to stderr.



****************************************
Date:	Friday December 12, 1997 @ 4:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13451

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_serverlistdb.c 
Log Message:
Stopped duplicate servers from multi-homed machines from
being written to the browse.dat file.
Jeremy.



****************************************
Date:	Friday December 12, 1997 @ 6:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4742

Modified Files:
      Tag: JRA_NMBD_REWRITE
	asyncdns.c 
Log Message:
Fixed compile errors with async dns.
Jeremy.



****************************************
Date:	Friday December 12, 1997 @ 9:01
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17713

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd.c 
Log Message:
There are no logic changes.  I noted that there were several coding styles
apparent in the same file which made it a bit more difficult than ususal
to read.  I have cleaned up the style and, in general, refrained from
converting the whole thing to my own style.  That was hard. ;)

I did this in the sincere hope that it would make things easier for
*everyone* (including Jeremy).  Unless I hear flames of death from on high
I will continue to do this sort of thing when the mood hits.

Chris -)-----



****************************************
Date:	Friday December 12, 1997 @ 9:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15956

Modified Files:
	server.c 
Log Message:
Fixed bug reported by Gert-Jan Vons <Gert-Jan.Vons@ocegr.fr>
with doing a dir /s into a unix directory ending in a ':'.
Jeremy.



****************************************
Date:	Friday December 12, 1997 @ 9:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22845

Modified Files:
      Tag: JRA_NMBD_REWRITE
	server.c 
Log Message:
Fixing dir ending in ':' bug for my branch.
Jeremy.



****************************************
Date:	Friday December 12, 1997 @ 9:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv371

Modified Files:
      Tag: BRANCH_1_9_17
	server.c 
Log Message:
Fixed bug with directory names ending in ':'.
Jeremy.



****************************************
Date:	Friday December 12, 1997 @ 11:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/local/src/samba_jra/source

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_winsserver.c 
Log Message:
added a char * cast



****************************************
Date:	Saturday December 13, 1997 @ 0:03
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23645

Modified Files:
      Tag: JRA_NMBD_REWRITE
	namequery.c nmblib.c nmblookup.c 
Log Message:
- modified name_query() to return multiple IP addresses 

- modified nmblookup to display all returned addresses

- modified put_nmb_name() to allow name types on the name '*' 

This allows us to test the new WINS server code, including multiple
address returns. 



****************************************
Date:	Saturday December 13, 1997 @ 0:08
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12116

Modified Files:
      Tag: JRA_NMBD_REWRITE
	clientutil.c proto.h 
Log Message:
modify clientutil.c to use the new name_query() code. We will be
removing clientutil.c soon but it is better to have it use the right
calling convention for now.

also update proto.h



****************************************
Date:	Saturday December 13, 1997 @ 0:29
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13966

Modified Files:
      Tag: JRA_NMBD_REWRITE
	nmbd_incomingrequests.c 
Log Message:
all names in a node status response should be marked NB_ACTIVE



****************************************
Date:	Saturday December 13, 1997 @ 3:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20577

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile ntdomain.h proto.h smb.h 
Log Message:

Issues
------

renamed some of the NETLOGON functions which happened to be called lsa ones
by mistake.  renamed SAMR_CLOSE to SAMR_CLOSE_HND.

added the SAMR_UNKNOWN_3 command to smbd, which appears to be a request for
the user's SIDs.  haven't made up my mind what it's called yet.  i think
it's SamrQueryInformationUser, but that's already taken.




****************************************
Date:	Saturday December 13, 1997 @ 3:52
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv20577/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlogin.c ntclientnet.c ntclientsamr.c 
	pipenetlog.c pipesamr.c samrparse.c smbparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	netparse.c 
Log Message:

Issues
------

renamed some of the NETLOGON functions which happened to be called lsa ones
by mistake.  renamed SAMR_CLOSE to SAMR_CLOSE_HND.

added the SAMR_UNKNOWN_3 command to smbd, which appears to be a request for
the user's SIDs.  haven't made up my mind what it's called yet.  i think
it's SamrQueryInformationUser, but that's already taken.




****************************************
Date:	Saturday December 13, 1997 @ 6:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5633

Modified Files:
      Tag: JRA_NMBD_REWRITE
	asyncdns.c nmbd_winsserver.c 
Log Message:
asyncdns.c: Fixed nasty bug where killing both nmbd processes with
SIGTERM causes the async dns nmbd to overwrite the wins.dat file
carefully preserved by the real nmbd :-).
nmbd_winsserver.c: Implemented the *<1b> query code.
Jeremy.



****************************************
Date:	Saturday December 13, 1997 @ 8:35
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2119

Modified Files:
      Tag: JRA_NMBD_REWRITE
	Makefile 
Log Message:
Removed -DSYNC_DNS from Makefile - async dns code is working now.
Jeremy.



****************************************
Date:	Saturday December 13, 1997 @ 13:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15446

Removed Files:
      Tag: JRA_NMBD_REWRITE
	lsaparse.c pipentlsa.c pipesrvsvc.c pipeutil.c smbparse.c 
	srvparse.c ubi_dLinkList.c 
Log Message:
Doing final commit to leave the tree in a reasonable state
before it is abandoned. Getting ready to do the merge
back onto the main branch.
Jeremy.



****************************************
Date:	Saturday December 13, 1997 @ 14:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21084

Modified Files:
	Makefile asyncdns.c clientutil.c interface.c loadparm.c 
	namequery.c nameserv.h nmbd.c nmblib.c nmblookup.c proto.h 
Added Files:
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_browserdb.c 
	nmbd_browsesync.c nmbd_elections.c nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_lmhosts.c nmbd_logonnames.c 
	nmbd_mynames.c nmbd_namelistdb.c nmbd_namequery.c 
	nmbd_nameregister.c nmbd_namerelease.c nmbd_nodestatus.c 
	nmbd_packets.c nmbd_processlogon.c nmbd_responserecordsdb.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_subnetdb.c 
	nmbd_winsproxy.c nmbd_winsserver.c nmbd_workgroupdb.c 
Removed Files:
	nameannounce.c nameannounce.doc namebrowse.c namebrowse.doc 
	namedbname.c namedbname.doc namedbresp.c namedbresp.doc 
	namedbserver.c namedbsubnet.c namedbwork.c nameelect.c 
	nameelect.doc namelogon.c namelogon.doc namepacket.c 
	namepacket.doc namequery.doc nameresp.c nameresp.doc 
	nameserv.c nameserv.doc nameservreply.c nameservreply.doc 
	nameservresp.c nameservresp.doc namework.c namework.doc 
	nmbsync.c 
Log Message:
This is it ! The mega-merge of the JRA_NMBD_REWRITE branch
back into the main tree.

For the cvs logs of all the files starting nmbd_*.c, look
in the JRA_NMBD_REWRITE branch. That branch has now been
discontinued.

Jeremy.




****************************************
Date:	Saturday December 13, 1997 @ 14:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv582

Removed Files:
      Tag: JRA_NMBD_REWRITE
	ubi_dLinkList.h 
Log Message:
End-of-the-line for this branch.
Jeremy.



****************************************
Date:	Sunday December 14, 1997 @ 7:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24548

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile byteorder.h ipc.c ntdomain.h pipes.c proto.h smb.h 
Added Files:
      Tag: BRANCH_NTDOM
	membuffer.c 
Log Message:

Issues
------

client and server need to deal with DCE/RPC data larger than an SMB
response buffer.  this is handled at the server end by putting a
warning (0x80000000) of NT_STATUS_BUFFER_TOO_SMALL in the DCE/RPC
response, keeping a copy of the data and then waiting for a SMBreadX.

the buffer parsing (for both client and server) has had to be updated
to cope with dynamic reallocation of the buffers (> 1024 bytes).

the server-side has been rewritten: the client-side has _not_.  i will
do that tomorrow.  therefore, smbd compiles; nmbd compiles; smbclient
does not.  it will tomorrow.

pipe_hnd.c has a read_pipe command, and a write_pipe command.  these
are not hooked in, yet.

i have a bug-bear with the new struct mem_buffer: if you want to use
this structure, DO NOT use the data_ptr member: i will be removing it
at the earliest opportunity.


Modified Files
--------------

i am sorry, i am _not_ going to describe every detail of a change that
results in an 8,491 diff file.


Added Files
-----------

memparse.c :

	new memory allocation structure.  stores the actual size and the
	used size, and a safety margin.  call buf_grow with the new size,
	and it will allocate a bit on the end.  you can therefore
	"retrospectively" grow some dynamic memory, as long as your
	safety margin is big enough.

	maybe we want to ensure that the memory is realloced in multiples
	of safety margin, so as not to fragment memory too much.

	DON'T USE THE data_ptr MEMBER: I HATE IT!




****************************************
Date:	Sunday December 14, 1997 @ 7:14
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv24548/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c netparse.c pipe_hnd.c pipenetlog.c pipentlsa.c 
	pipereg.c pipesamr.c pipesrvsvc.c pipeutil.c pipewkssvc.c 
	regparse.c samrparse.c smbparse.c srvparse.c wksparse.c 
Log Message:

Issues
------

client and server need to deal with DCE/RPC data larger than an SMB
response buffer.  this is handled at the server end by putting a
warning (0x80000000) of NT_STATUS_BUFFER_TOO_SMALL in the DCE/RPC
response, keeping a copy of the data and then waiting for a SMBreadX.

the buffer parsing (for both client and server) has had to be updated
to cope with dynamic reallocation of the buffers (> 1024 bytes).

the server-side has been rewritten: the client-side has _not_.  i will
do that tomorrow.  therefore, smbd compiles; nmbd compiles; smbclient
does not.  it will tomorrow.

pipe_hnd.c has a read_pipe command, and a write_pipe command.  these
are not hooked in, yet.

i have a bug-bear with the new struct mem_buffer: if you want to use
this structure, DO NOT use the data_ptr member: i will be removing it
at the earliest opportunity.


Modified Files
--------------

i am sorry, i am _not_ going to describe every detail of a change that
results in an 8,491 diff file.


Added Files
-----------

memparse.c :

	new memory allocation structure.  stores the actual size and the
	used size, and a safety margin.  call buf_grow with the new size,
	and it will allocate a bit on the end.  you can therefore
	"retrospectively" grow some dynamic memory, as long as your
	safety margin is big enough.

	maybe we want to ensure that the memory is realloced in multiples
	of safety margin, so as not to fragment memory too much.

	DON'T USE THE data_ptr MEMBER: I HATE IT!




****************************************
Date:	Sunday December 14, 1997 @ 17:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16606

Modified Files:
	clientutil.c 
Log Message:
fix a bug that sometimes prevented smbclient from connecting with
protocol < LANMAN1



****************************************
Date:	Sunday December 14, 1997 @ 17:49
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5039

Modified Files:
	nmbd_winsserver.c 
Log Message:
allow name_type 0x20 as well as name_type 0x0 in dns proxying



****************************************
Date:	Sunday December 14, 1997 @ 18:45
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22341

Modified Files:
	server.c 
Log Message:
give out file handles differently on each new connection because of a
common bug in MS clients where they try to reuse a file descriptor
from an earlier smb connection. This code increases the chance that
the errant client will get an error rather than causing corruption




****************************************
Date:	Sunday December 14, 1997 @ 21:16
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv14058/packaging/redhat/RH50

Modified Files:
	makerpms.sh samba-make.patch samba.spec smb.init 
Log Message:
Updating Red Hat RPM building files only.
Files affected:
	packaging/redhat/RH50/makerpms.sh
	packaging/redhat/RH50/samba-make.patch
	packaging/redhat/RH50/samba.spec
	packaging/redhat/RH50/smb.init



****************************************
Date:	Monday December 15, 1997 @ 3:33
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18879

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c membuffer.c proto.h smb.h 
Log Message:

Issues
------

finished off the ???parse.c code reshuffle.  completed ntclient*.c mods.
removed the struct mem_buffer's data_ptr member.  added an integer offset
back into the parsing routines, which walks along the data stream.  i like
sed :-)

debugged things.  it works again.  oh, except i need to check for memory leaks.

now that buffers can grow indiscriminately, i can put the bits of code in
that will return the NT_STATUS_BUFFER_TOO_SMALL warning in smbd, and bits
in that will check this and do an SMBreadX on receipt of this warning, in
smbclient.

then this code is pretty much ready to roll, although i'd prefer it if it didn't.
oh, except for the des and rc4 issues.  again.


Modified Files
--------------

used sed, like the previous commit.  changes are too numerous to document
individually (8,900 line diff).




****************************************
Date:	Monday December 15, 1997 @ 3:34
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv18879/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c netparse.c ntclientlsa.c ntclientnet.c 
	ntclientpipe.c ntclientsamr.c pipenetlog.c pipentlsa.c 
	pipereg.c pipesamr.c pipesrvsvc.c pipeutil.c pipewkssvc.c 
	regparse.c samrparse.c smbparse.c srvparse.c wksparse.c 
Log Message:

Issues
------

finished off the ???parse.c code reshuffle.  completed ntclient*.c mods.
removed the struct mem_buffer's data_ptr member.  added an integer offset
back into the parsing routines, which walks along the data stream.  i like
sed :-)

debugged things.  it works again.  oh, except i need to check for memory leaks.

now that buffers can grow indiscriminately, i can put the bits of code in
that will return the NT_STATUS_BUFFER_TOO_SMALL warning in smbd, and bits
in that will check this and do an SMBreadX on receipt of this warning, in
smbclient.

then this code is pretty much ready to roll, although i'd prefer it if it didn't.
oh, except for the des and rc4 issues.  again.


Modified Files
--------------

used sed, like the previous commit.  changes are too numerous to document
individually (8,900 line diff).




****************************************
Date:	Tuesday December 16, 1997 @ 5:15
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv27712

Modified Files:
	smb.conf 
Log Message:
fix bug in log file specification



****************************************
Date:	Tuesday December 16, 1997 @ 6:22
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28045

Modified Files:
      Tag: BRANCH_NTDOM
	clientgen.c ipc.c membuffer.c ntclient.c ntdomain.h nterr.c 
	nterr.h pipes.c proto.h reply.c server.c time.c 
Log Message:

Issues
------

- hooray!  got the BUFFER_OVERFLOW code debugged, on both client and server.
  you know what, i think the \PIPE\ stuff in NT is really neat.  i take my
  hat off to the NT developers (which i lost last week.  damn).

- added SamrQueryUserGroupsInfo call (\PIPE\samr function 0x27).

- put a -u and -g option on to the smbclient samusers command.

- renamed SAMR_LOOKUP_RIDS to SAMR_LOOKUP_NAMES.

- removed the data_off and rdata_off arguments from api_fd_commands. this
  wasn't exactly what i wanted to do, so they will go back.  the reason is
  that i intend to modify struct mem_buffer to contain a struct mem_buffer
  *next member.  then, you can create lists of mem_buffers.  each mem_buffer
  would be a single structure (e.g a RPC_HDR or a LSA_R_OPEN_SECRET).
  if you wanted to do a partial rewrite of the smb processing code, the
  smb header, the data, params, rdata and rparams could also be stored in
  struct mem_buffers, and you then link them all together :-)


Modified Files
--------------

clientgen.c :

	debug info in cli_readx and cli_error.  cli_error now only returns
	True on a critical error (0xc0000000), not a warning (0x80000000).

ipc.c :

	added buffer overflow detection.  removed the int* data_off and int* rdata_off
	parameters, which i'll probably put back in, from the api_fd_commands functions.

ntclient.c :

	added print-out info for Sam User Info (level 0x15) and SAM User Groups.
	added -g and -u options to the samuser command.
	moved sam user info code into rpc_pipes/ntclientsamr.c.

ntdomain.h rpc_pipes/samrparse.c rpc_pipes/ntclientpipe.c rpc_pipes/ntclientsamr.c :

	- added SAMR_QUERY_USERGROUPS.

	- renamed SAMR_LOOKUP_RIDS to SAMR_LOOKUP_NAMES.

nterr.c nterr.h :

	added STATUS_BUFFER_OVERFLOW message (don't understand how this is
	generated in netmon).

pipes.c :

	bug in SMBreadX response (reply_pipe_read_and_X) in putting the fnum.
	should be vwv2 not vwv0

reply.c :

	added call to reply_pipe_read_and_X from reply_read_and_X if the connection
	is to an anonymous IPC$

server.c :

	added CAN_IPC to the SMBreadX command.

time.c :

	added string parsing of NTTIME structures, and such-like.

rpc_pipes/ntclientpipe.c :

	modified client set pipe state and rpc bind calls to use rpc_api_pipe()
	not cli_api_pipe().

rpc_pipes/ntclientsamr.c :

	- added samr_query_usergroups; added samr_query_userinfo_15; added
	  do_samr_query_usergroups.  samr_query_userinfo_15 is taken from
	  ntclient.c.

	- modified do_samr_enum_dom_users to use rpc_api_pipe()
	  not cli_api_pipe().

rpc_pipes/pipe_hnd.c :

	debug info in read_pipe() function


rpc_pipes/pipenetlog.c rpc_pipes/pipentlsa.c rpc_pipes/pipesamr.c 
rpc_pipes/pipesrvsvc.c rpc_pipes/pipereg.c rpc_pipes/wkssvc.c :

	removed the data_off and rdata_off arguments.  i intend to put
	them back :-)

rpc_pipes/pipesamr.c :

	renamed samr lookup rids to samr lookup names. 

rpc_pipes/pipeutil.c :

	created client-side rpc_api_pipe() command.  this is capable of
	detecting the BUFFER_OVERFLOW warning, and then issuing SMBreadX
	commands.  hooray!

rpc_pipes/samrparse.c :

	- missed some debug statements.

	- renamed samr lookup rids to samr lookup names. 

	- added samr query user groups (0x27) parsing




****************************************
Date:	Tuesday December 16, 1997 @ 6:23
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv28045/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientpipe.c ntclientsamr.c pipe_hnd.c pipenetlog.c 
	pipentlsa.c pipereg.c pipesamr.c pipesrvsvc.c pipeutil.c 
	pipewkssvc.c samrparse.c 
Log Message:

Issues
------

- hooray!  got the BUFFER_OVERFLOW code debugged, on both client and server.
  you know what, i think the \PIPE\ stuff in NT is really neat.  i take my
  hat off to the NT developers (which i lost last week.  damn).

- added SamrQueryUserGroupsInfo call (\PIPE\samr function 0x27).

- put a -u and -g option on to the smbclient samusers command.

- renamed SAMR_LOOKUP_RIDS to SAMR_LOOKUP_NAMES.

- removed the data_off and rdata_off arguments from api_fd_commands. this
  wasn't exactly what i wanted to do, so they will go back.  the reason is
  that i intend to modify struct mem_buffer to contain a struct mem_buffer
  *next member.  then, you can create lists of mem_buffers.  each mem_buffer
  would be a single structure (e.g a RPC_HDR or a LSA_R_OPEN_SECRET).
  if you wanted to do a partial rewrite of the smb processing code, the
  smb header, the data, params, rdata and rparams could also be stored in
  struct mem_buffers, and you then link them all together :-)


Modified Files
--------------

clientgen.c :

	debug info in cli_readx and cli_error.  cli_error now only returns
	True on a critical error (0xc0000000), not a warning (0x80000000).

ipc.c :

	added buffer overflow detection.  removed the int* data_off and int* rdata_off
	parameters, which i'll probably put back in, from the api_fd_commands functions.

ntclient.c :

	added print-out info for Sam User Info (level 0x15) and SAM User Groups.
	added -g and -u options to the samuser command.
	moved sam user info code into rpc_pipes/ntclientsamr.c.

ntdomain.h rpc_pipes/samrparse.c rpc_pipes/ntclientpipe.c rpc_pipes/ntclientsamr.c :

	- added SAMR_QUERY_USERGROUPS.

	- renamed SAMR_LOOKUP_RIDS to SAMR_LOOKUP_NAMES.

nterr.c nterr.h :

	added STATUS_BUFFER_OVERFLOW message (don't understand how this is
	generated in netmon).

pipes.c :

	bug in SMBreadX response (reply_pipe_read_and_X) in putting the fnum.
	should be vwv2 not vwv0

reply.c :

	added call to reply_pipe_read_and_X from reply_read_and_X if the connection
	is to an anonymous IPC$

server.c :

	added CAN_IPC to the SMBreadX command.

time.c :

	added string parsing of NTTIME structures, and such-like.

rpc_pipes/ntclientpipe.c :

	modified client set pipe state and rpc bind calls to use rpc_api_pipe()
	not cli_api_pipe().

rpc_pipes/ntclientsamr.c :

	- added samr_query_usergroups; added samr_query_userinfo_15; added
	  do_samr_query_usergroups.  samr_query_userinfo_15 is taken from
	  ntclient.c.

	- modified do_samr_enum_dom_users to use rpc_api_pipe()
	  not cli_api_pipe().

rpc_pipes/pipe_hnd.c :

	debug info in read_pipe() function


rpc_pipes/pipenetlog.c rpc_pipes/pipentlsa.c rpc_pipes/pipesamr.c 
rpc_pipes/pipesrvsvc.c rpc_pipes/pipereg.c rpc_pipes/wkssvc.c :

	removed the data_off and rdata_off arguments.  i intend to put
	them back :-)

rpc_pipes/pipesamr.c :

	renamed samr lookup rids to samr lookup names. 

rpc_pipes/pipeutil.c :

	created client-side rpc_api_pipe() command.  this is capable of
	detecting the BUFFER_OVERFLOW warning, and then issuing SMBreadX
	commands.  hooray!

rpc_pipes/samrparse.c :

	- missed some debug statements.

	- renamed samr lookup rids to samr lookup names. 

	- added samr query user groups (0x27) parsing




****************************************
Date:	Tuesday December 16, 1997 @ 7:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9667

Modified Files:
	nmbd_incomingdgrams.c nmbd_incomingrequests.c 
	nmbd_serverlistdb.c nmbd_winsproxy.c 
Log Message:
nmbd_incomingdgrams.c: Fix bug with Syntax 5.1 servers reported by SGI where
they do host announcements to LOCAL_MASTER_BROWSER_NAME<00> rather than
WORKGROUP<1d>.
nmbd_incomingrequests.c: Deal with WINS_PROXY_NAME issues - don't reply
with that name if it's the same broadcast net.
nmbd_serverlistdb.c: Stopped writing "Unknown" for local master browsers
we don't know.
nmbd_winsproxy.c: Deal with WINS_PROXY_NAME issues - don't reply
with that name if it's the same broadcast net.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 9:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv33

Modified Files:
	loadparm.c nameserv.h nmbd.c nmbd_become_lmb.c 
	nmbd_incomingdgrams.c nmbd_packets.c nmbd_processlogon.c 
	nmbd_sendannounce.c proto.h 
Log Message:
Added Lanman announce patch from Jacco de Leeuw <leeuw@wins.uva.nl>.
Also added code to stop old Samba servers that announce the workgroup
name as master browser name when they are a local master browser.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 11:32
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv16027

Modified Files:
	smb.conf.5 
Log Message:
Added new wins & lm announce options.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 12:21
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv26609

Modified Files:
	WHATSNEW.txt 
Log Message:
WHATSNEW.txt - updated for 1.9.18alpha13.
docs/smb.conf.5: Removed unused NTDOMAIN params. Added new params.
source/loadparm.c: Put #ifdef NTDOMAIN around unused params.
source/nmbd_become_lmb.c: Removed check for workgroup name in lmb name.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 12:21
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26609/docs

Modified Files:
	smb.conf.5 
Log Message:
WHATSNEW.txt - updated for 1.9.18alpha13.
docs/smb.conf.5: Removed unused NTDOMAIN params. Added new params.
source/loadparm.c: Put #ifdef NTDOMAIN around unused params.
source/nmbd_become_lmb.c: Removed check for workgroup name in lmb name.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 12:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26609/source

Modified Files:
	loadparm.c nmbd_become_lmb.c 
Log Message:
WHATSNEW.txt - updated for 1.9.18alpha13.
docs/smb.conf.5: Removed unused NTDOMAIN params. Added new params.
source/loadparm.c: Put #ifdef NTDOMAIN around unused params.
source/nmbd_become_lmb.c: Removed check for workgroup name in lmb name.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 12:26
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:
Added 'missing feature' section for Chris.
Jeremy.



****************************************
Date:	Tuesday December 16, 1997 @ 12:34
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1.9.18

Modified Files:
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18alpha13


****************************************
Date:	Tuesday December 16, 1997 @ 12:35
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt 
	NetBIOS.txt OS2-Client-HOWTO.txt PRINTER_DRIVER.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Support.txt 
	Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha13


****************************************
Date:	Tuesday December 16, 1997 @ 12:35
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha13


****************************************
Date:	Tuesday December 16, 1997 @ 14:06
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18159

Modified Files:
	shmem_sysv.c 
Log Message:
- handle ENOSPC in shmem init.

- be a little bit more friendly about grabbing semaphores





****************************************
Date:	Wednesday December 17, 1997 @ 4:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21116

Modified Files:
	loadparm.c 
Log Message:
Missed terminating {-1,NULL} in an enum parameter list.
Jeremy.



****************************************
Date:	Wednesday December 17, 1997 @ 5:26
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22899

Modified Files:
      Tag: BRANCH_NTDOM
	clientgen.c ntdomain.h proto.h 
Log Message:

Issues
------

added SAMR_LOOKUP_IDS (or what i think it is :-) and a proper
SRV_NET_SRV_GET_INFO (info levels 101 and 102) function.

i got the "user manager for domains" to show a users' profile.  hurrah.
now i can work out what some of the missing fields are in the USER_INFO_15
structure.


Modified Files
--------------

ntdomain.h :

	added SAMR_LOOKUP_IDS; SRV_NET_SRV_GET_INFO and info levels 101 and 102.
	bug in SAMR_R_QUERY_USERINFO (missing 16 byte padding).

rpc_pipes/pipentlsa.c :

	got the arguments to a SIVAL the wrong way round.  LSA_OPEN_SECRET
	will be going soon: have to rewrite it.

rpc_pipes/pipesamr.c :

	- renamed samr_close to samr_close_hnd.

	- added SAMR_LOOKUP_IDS and also add smbd support for SAMR_LOOKUP_NAMES.
	  bugs in SID_STUFF structure: the pointer wasn't being set properly.

	- added SAMR_QUERY_USERGROUPS (don't know what the real name is).

rpc_pipes/pipesrvsvc.c :

	added proper SRV_NET_SRV_GET_INFO support, at info levels 101 and 102.

rpc_pipes/pipeutil.c :

	moved code that does "get domain user well-known groups".  this is
	based on the "domain admin users" and "domain guest users" parameters.

rpc_pipes/samrparse.c :

	- renames samr_close to samr_close_hnd

	- bugs in dom_sid3 code (to do with SAMR_LOOKUP_NAMES) cleared up.
	  the pointers weren't being set properly

	- added SAMR_LOOKUP_IDS support.

	- made the SAMR_QUERY_USERGROUPS code take a pointer to an array
	  of DOM_GIDs rather than _copy_ an array of DOM_GIDs.

rpc_pipes/smbparse.c :

	added a useful make_buf_unistr2() function which takes both a
	buffer pointer and a UNISTR2.  i've been meaning to add this one
	for a while.

rpc_pipes/srvparse.c :

	proper support for SRV_NET_SRV_GET_INFO and info levels 101 and 102.




****************************************
Date:	Wednesday December 17, 1997 @ 5:27
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv22899/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipenetlog.c pipentlsa.c pipesamr.c pipesrvsvc.c pipeutil.c 
	samrparse.c smbparse.c srvparse.c 
Log Message:

Issues
------

added SAMR_LOOKUP_IDS (or what i think it is :-) and a proper
SRV_NET_SRV_GET_INFO (info levels 101 and 102) function.

i got the "user manager for domains" to show a users' profile.  hurrah.
now i can work out what some of the missing fields are in the USER_INFO_15
structure.


Modified Files
--------------

ntdomain.h :

	added SAMR_LOOKUP_IDS; SRV_NET_SRV_GET_INFO and info levels 101 and 102.
	bug in SAMR_R_QUERY_USERINFO (missing 16 byte padding).

rpc_pipes/pipentlsa.c :

	got the arguments to a SIVAL the wrong way round.  LSA_OPEN_SECRET
	will be going soon: have to rewrite it.

rpc_pipes/pipesamr.c :

	- renamed samr_close to samr_close_hnd.

	- added SAMR_LOOKUP_IDS and also add smbd support for SAMR_LOOKUP_NAMES.
	  bugs in SID_STUFF structure: the pointer wasn't being set properly.

	- added SAMR_QUERY_USERGROUPS (don't know what the real name is).

rpc_pipes/pipesrvsvc.c :

	added proper SRV_NET_SRV_GET_INFO support, at info levels 101 and 102.

rpc_pipes/pipeutil.c :

	moved code that does "get domain user well-known groups".  this is
	based on the "domain admin users" and "domain guest users" parameters.

rpc_pipes/samrparse.c :

	- renames samr_close to samr_close_hnd

	- bugs in dom_sid3 code (to do with SAMR_LOOKUP_NAMES) cleared up.
	  the pointers weren't being set properly

	- added SAMR_LOOKUP_IDS support.

	- made the SAMR_QUERY_USERGROUPS code take a pointer to an array
	  of DOM_GIDs rather than _copy_ an array of DOM_GIDs.

rpc_pipes/smbparse.c :

	added a useful make_buf_unistr2() function which takes both a
	buffer pointer and a UNISTR2.  i've been meaning to add this one
	for a while.

rpc_pipes/srvparse.c :

	proper support for SRV_NET_SRV_GET_INFO and info levels 101 and 102.




****************************************
Date:	Wednesday December 17, 1997 @ 6:42
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14665

Modified Files:
      Tag: BRANCH_NTDOM
	ntclient.c ntdomain.h proto.h smb.h smbpass.c 
Log Message:

Issues
------

renamed USER_INFO_3 back to LSA_USER_INFO_3.  renamed USER_INFO_15 and
USER_INFO_10 and USER_INFO_11 back to SAM_xxx.

bug spotted by anders blomdell in the enum dom users (off-by-one index
in enumeration).  thanks!  also, he spotted some debug reporting the
wrong name, so i went through smbparse.c and samrparse.c correcting
these.

also, assuming that people will add :0080: to the end of a workstation
trust account smbpasswd entry isn't good enough.  assuming that all accounts
that don't have ACB info on the end are workstation trust accounts, i've
defaulted to returning ACB_WKSTRUST for all accounts ending in $, and
defaulting to ACB_NORMAL for accounts that don't.



****************************************
Date:	Wednesday December 17, 1997 @ 6:42
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv14665/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c netparse.c ntclientlogin.c ntclientnet.c 
	ntclientsamr.c pipenetlog.c pipesamr.c samrparse.c smbparse.c 
Log Message:

Issues
------

renamed USER_INFO_3 back to LSA_USER_INFO_3.  renamed USER_INFO_15 and
USER_INFO_10 and USER_INFO_11 back to SAM_xxx.

bug spotted by anders blomdell in the enum dom users (off-by-one index
in enumeration).  thanks!  also, he spotted some debug reporting the
wrong name, so i went through smbparse.c and samrparse.c correcting
these.

also, assuming that people will add :0080: to the end of a workstation
trust account smbpasswd entry isn't good enough.  assuming that all accounts
that don't have ACB info on the end are workstation trust accounts, i've
defaulted to returning ACB_WKSTRUST for all accounts ending in $, and
defaulting to ACB_NORMAL for accounts that don't.



****************************************
Date:	Wednesday December 17, 1997 @ 6:51
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3888

Modified Files:
      Tag: BRANCH_NTDOM
	clientgen.c 
Log Message:

accidentally modified the max_xmit size to 4096 when i was playing with
the DCE/RPC pipes SMBreadX code.  put it back to 0x10000



****************************************
Date:	Thursday December 18, 1997 @ 5:29
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11558

Modified Files:
      Tag: BRANCH_NTDOM
	ntdomain.h proto.h 
Log Message:

Issues
------

decided to do some of the server stuff, just for fun.  if you double-click
on a samba server from SRVMGR.EXE ("server manager for domains") you get
a list of open files (one: \PIPE\samr, under the user "dummy user" :-) etc.

it needs more work (more enumeration levels) but at least it's useable.

these bits are only supported in smbd at the moment.

also, in order to do the file enumeration properly, i'll need a new
higher order function in the locking table code (locking.c), which takes a
start index and a count.  this is the way that file enums work in NT....


Modified Files
--------------

	- added NET_FILE_ENUM.  FILE_INFO_3; FILE_INFO_3_CTR.

	- added NET_SESSION_ENUM.  SESS_INFO_0; SESS_INFO_0_CTR.

	- cleared up bugs in the SHARE, FILE and SESSION enum code, which
	  was annoying me: the way that the containers are stored is a
	  bit of a pain, even though it's fully documented by NETMON.EXE.



****************************************
Date:	Thursday December 18, 1997 @ 5:29
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv11558/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipesrvsvc.c smbparse.c srvparse.c 
Log Message:

Issues
------

decided to do some of the server stuff, just for fun.  if you double-click
on a samba server from SRVMGR.EXE ("server manager for domains") you get
a list of open files (one: \PIPE\samr, under the user "dummy user" :-) etc.

it needs more work (more enumeration levels) but at least it's useable.

these bits are only supported in smbd at the moment.

also, in order to do the file enumeration properly, i'll need a new
higher order function in the locking table code (locking.c), which takes a
start index and a count.  this is the way that file enums work in NT....


Modified Files
--------------

	- added NET_FILE_ENUM.  FILE_INFO_3; FILE_INFO_3_CTR.

	- added NET_SESSION_ENUM.  SESS_INFO_0; SESS_INFO_0_CTR.

	- cleared up bugs in the SHARE, FILE and SESSION enum code, which
	  was annoying me: the way that the containers are stored is a
	  bit of a pain, even though it's fully documented by NETMON.EXE.



****************************************
Date:	Thursday December 18, 1997 @ 7:21
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2436

Modified Files:
      Tag: BRANCH_NTDOM
	ntdomain.h proto.h smb.h smbencrypt.c util.c 
Log Message:

some signed / unsigned issues: using -pedantic gcc option to catch these.



****************************************
Date:	Thursday December 18, 1997 @ 7:22
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv2436/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipeutil.c samrparse.c smbparse.c 
Log Message:

some signed / unsigned issues: using -pedantic gcc option to catch these.



****************************************
Date:	Thursday December 18, 1997 @ 11:05
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6899

Modified Files:
	kanji.h nmbd_nameregister.c 
Log Message:
kanji.h: Fixed problems with re-definitions of strchr and others on AIX.
nmbd_nameregister.c: Applied fix found by "Eloy A. Paris" <eparis@ven.ra.rockwell.com>
(don't re-use lists after you have freed them :-).
Jeremy.



****************************************
Date:	Friday December 19, 1997 @ 6:32
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23960

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c clientipc.c ipc.c nmbsync.c 
	ntclient.c ntdomain.h proto.h smb.h 
Added Files:
      Tag: BRANCH_NTDOM
	display.c 
Log Message:

Issues
------

net file, server, share and session enumeration.  stubs in smbd, at enum
levels sufficient to give _some_ sort of info through using "SRVMGR.EXE".

one new command "srvinfo" which allows you to view the server name, num
of licenses, os version and comment.  there is also a "NetrSetServerInfo"
command, which *fortunately* only works if you are logged in as admin :-)

two new commands "srvfiles" and "srvsessions" in smbclient, which do remote
equivalents of smbstatus.  wow!  wow!  exciting!  (zzzz)  the next one will
be "srvshares".

[note: some of these info levels can be done using anon IPC$.  others need
 admin privileges].


yes, these should probably be called "showfiles" and "showsessions", because
yes, there are "NetrSetShare" commands, and yes, you can remotely disconnect
individual users, and yes, you can close individual or groups of files.

unfortunately, if we implement this, it's going to only be able to go into
the main "smb.conf" file, _not_ the smb.conf.%U or whatever, unless we do
something clever... like if you want to update smb.conf.%g, you log in under
the NIS group (e.g sales_users) and you end up "viewing" smb.conf.sales_users.

so, here's _another_ mechanism under which we can view and generate smb.conf
files :-) :-)  and given that it's a trivial job to either write perl scripts
to process smbclient output, or even to get smbclient to generate html itself,
we've got a web front-end directly onto NT server, NT workstations and samba
servers.

hur hur hur.


Modified Files
--------------

Makefile :

	added display.c and ntclientsrvsvc.c.

client.c :

	- added "srvinfo", "srvsessions", "srvfiles" commands.  srvinfo is the
	  only one that does display output.  the others are tonight's task.

	- having problems with anon ipc connection, so abandoned temporarily
	  using two connections: only using one at a time, now.

clientgen.c nmbsync.c :

	added an extra argument (a FILE*) to the higher order enumeration
	functions used by cli_NetServerEnum and cli_NetShareEnum.  these
	i will also have to put into the "srvsessions", "srvfiles" and
	"srvshares" functions, by the way...

ipc.c :

	not that it matters, but the \PIPE\srvsvc pipe is answered by "ntsvcs"
	not lsass.

ntclient.c :

	added cmd_srv_query_info; cmd_srv_query_sess; cmd_srv_query_files.

ntdomain.h rpc_pipes/pipesrvsvc.c rpc_pipes/srvparse.c :

	- added net server get and set info api defines

	- added session info levels 0, 1.

	- restructured these horrible enumeration containers several times.
	  they have been a pig to work out, even _with_ the help(?) of
	  netmon.exe.

smb.h :

	added a srvsvc_fnum for the \PIPE\srvsvc connection, to the client.

rpc_pipes/ntclientsamr.c :

	parsed this with sed to get it to use the rpc_api_pipe() function
	not cli_api_pipe().  rpc_api_pipe is the one that can handle SMBreadX
	while cli_api_pipe() just does a single DCE/RPC IPC$ send.


Added Files
-----------

display.c :

	if it goes to printf, it's not going to printf anymore: it's going
	to sprintf(FILE *out_hnd, ...) and it's going in here.  e.g
	display_share_info() which is a higher order function passed to
	cli_NetShareEnum, and prints out the received share info.

	no reason why we shouldn't make an html version of this module...

rpc_pipes/ntclientsrvsvc.c :

	client-side of the NetrServerGetInfo; NetrShareEnum and
	NetrSessionEnum code.




****************************************
Date:	Friday December 19, 1997 @ 6:32
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv23960/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientsamr.c pipesrvsvc.c pipeutil.c srvparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	ntclientsrvsvc.c 
Log Message:

Issues
------

net file, server, share and session enumeration.  stubs in smbd, at enum
levels sufficient to give _some_ sort of info through using "SRVMGR.EXE".

one new command "srvinfo" which allows you to view the server name, num
of licenses, os version and comment.  there is also a "NetrSetServerInfo"
command, which *fortunately* only works if you are logged in as admin :-)

two new commands "srvfiles" and "srvsessions" in smbclient, which do remote
equivalents of smbstatus.  wow!  wow!  exciting!  (zzzz)  the next one will
be "srvshares".

[note: some of these info levels can be done using anon IPC$.  others need
 admin privileges].


yes, these should probably be called "showfiles" and "showsessions", because
yes, there are "NetrSetShare" commands, and yes, you can remotely disconnect
individual users, and yes, you can close individual or groups of files.

unfortunately, if we implement this, it's going to only be able to go into
the main "smb.conf" file, _not_ the smb.conf.%U or whatever, unless we do
something clever... like if you want to update smb.conf.%g, you log in under
the NIS group (e.g sales_users) and you end up "viewing" smb.conf.sales_users.

so, here's _another_ mechanism under which we can view and generate smb.conf
files :-) :-)  and given that it's a trivial job to either write perl scripts
to process smbclient output, or even to get smbclient to generate html itself,
we've got a web front-end directly onto NT server, NT workstations and samba
servers.

hur hur hur.


Modified Files
--------------

Makefile :

	added display.c and ntclientsrvsvc.c.

client.c :

	- added "srvinfo", "srvsessions", "srvfiles" commands.  srvinfo is the
	  only one that does display output.  the others are tonight's task.

	- having problems with anon ipc connection, so abandoned temporarily
	  using two connections: only using one at a time, now.

clientgen.c nmbsync.c :

	added an extra argument (a FILE*) to the higher order enumeration
	functions used by cli_NetServerEnum and cli_NetShareEnum.  these
	i will also have to put into the "srvsessions", "srvfiles" and
	"srvshares" functions, by the way...

ipc.c :

	not that it matters, but the \PIPE\srvsvc pipe is answered by "ntsvcs"
	not lsass.

ntclient.c :

	added cmd_srv_query_info; cmd_srv_query_sess; cmd_srv_query_files.

ntdomain.h rpc_pipes/pipesrvsvc.c rpc_pipes/srvparse.c :

	- added net server get and set info api defines

	- added session info levels 0, 1.

	- restructured these horrible enumeration containers several times.
	  they have been a pig to work out, even _with_ the help(?) of
	  netmon.exe.

smb.h :

	added a srvsvc_fnum for the \PIPE\srvsvc connection, to the client.

rpc_pipes/ntclientsamr.c :

	parsed this with sed to get it to use the rpc_api_pipe() function
	not cli_api_pipe().  rpc_api_pipe is the one that can handle SMBreadX
	while cli_api_pipe() just does a single DCE/RPC IPC$ send.


Added Files
-----------

display.c :

	if it goes to printf, it's not going to printf anymore: it's going
	to sprintf(FILE *out_hnd, ...) and it's going in here.  e.g
	display_share_info() which is a higher order function passed to
	cli_NetShareEnum, and prints out the received share info.

	no reason why we shouldn't make an html version of this module...

rpc_pipes/ntclientsrvsvc.c :

	client-side of the NetrServerGetInfo; NetrShareEnum and
	NetrSessionEnum code.




****************************************
Date:	Friday December 19, 1997 @ 9:32
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv21691

Modified Files:
	ubi_AVLtree.c ubi_AVLtree.h 
Added Files:
	ubi_Cache.c ubi_Cache.h 
Log Message:
Adding the cache module.

I'll be using the cache module to replace the name cache in mangle.c.  The
new one should be much faster and should require less memory.
Another feature is that the cache size can be limited by the amount of
memory used in addition to the number of entries allowed.  With the
current cache, the default is to allocate 12800 bytes representing 50
entries (256 bytes each).  With the same amount of memory, I should be able
to load over around two hundred entries.

Changes to the AVL trees were minor (missing comments).

Chris -)-----




****************************************
Date:	Saturday December 20, 1997 @ 5:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5128

Modified Files:
	trans2.c util.c 
Log Message:
trans2.c: Forced trans2_findfirst to behave as NT does in error returns.
util.c: Applied fix from Branko Cibej <branko.cibej@hermes.si> where
StrnCaseCmp tests one character too many.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 6:10
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25739

Modified Files:
      Tag: BRANCH_NTDOM
	client.c ntclient.c ntdomain.h proto.h util.c 
Log Message:

Issues
------

turns out that there's a "NetrConnectionEnum" too.  SRVMGR.EXE, when a
samba server is selected now shows you a dummy list of connections,
users, files and shares.  whoopee.

note: this is different from when you select samba as the domain controller:
that fails at the moment because of a \PIPE\LANMAN SMBtrans2 version of
NetrQueryDisplayInfo for servers, which is undocumented, and should be part
of cifs6.txt.

tried to do more with the \PIPE\samr to get srvmgr.exe working: came across
the above problem.  resolved some issues with SamrQueryDisplayInfo, though.


Modified Files
--------------

client.c ntclient.c rpc_pipes/ntclientsrvsvc.c rpc_pipes/pipesrvsvc.c 
rpc_pipes/srvparse.c :

	added the srvconnections command.  this enumerates the open connections
	on a server (user, net name, net type (IPC/PRINT/DISK), open time, num
	files)

ntdomain.h :

	added SrvrNetConnectionEnum and sub-divided SamrQueryDispInfo into
	machines and users, by creating SAM_INFO_1 and separate SAM_INFO_2
	containers.

rpc_pipes/pipesamr.c rpc_pipes/samrparse.c rpc_pipes/smbparse.c :

	using SAM_INFO_1 and SAM_INFO_2 containers for machines and users
	in the SamrQueryDispInfo response.





****************************************
Date:	Saturday December 20, 1997 @ 6:10
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv25739/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientsrvsvc.c pipesamr.c pipesrvsvc.c samrparse.c 
	smbparse.c srvparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	CODING.STANDARDS 
Log Message:

Issues
------

turns out that there's a "NetrConnectionEnum" too.  SRVMGR.EXE, when a
samba server is selected now shows you a dummy list of connections,
users, files and shares.  whoopee.

note: this is different from when you select samba as the domain controller:
that fails at the moment because of a \PIPE\LANMAN SMBtrans2 version of
NetrQueryDisplayInfo for servers, which is undocumented, and should be part
of cifs6.txt.

tried to do more with the \PIPE\samr to get srvmgr.exe working: came across
the above problem.  resolved some issues with SamrQueryDisplayInfo, though.


Modified Files
--------------

client.c ntclient.c rpc_pipes/ntclientsrvsvc.c rpc_pipes/pipesrvsvc.c 
rpc_pipes/srvparse.c :

	added the srvconnections command.  this enumerates the open connections
	on a server (user, net name, net type (IPC/PRINT/DISK), open time, num
	files)

ntdomain.h :

	added SrvrNetConnectionEnum and sub-divided SamrQueryDispInfo into
	machines and users, by creating SAM_INFO_1 and separate SAM_INFO_2
	containers.

rpc_pipes/pipesamr.c rpc_pipes/samrparse.c rpc_pipes/smbparse.c :

	using SAM_INFO_1 and SAM_INFO_2 containers for machines and users
	in the SamrQueryDispInfo response.





****************************************
Date:	Saturday December 20, 1997 @ 9:52
Author:	dan

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv21681

Modified Files:
	Support.txt 
Log Message:
Minor spelling, wording changes to intro



****************************************
Date:	Saturday December 20, 1997 @ 10:06
Author:	dan

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24934

Modified Files:
	announce 
Log Message:
This may be a waste of time, but I thought if we keep nibbling at this it might
end up being a curent announce for each new release. Then again maybe we should
start from the one Jeremy and I did for 1.9.17. Just doodling really.



****************************************
Date:	Saturday December 20, 1997 @ 10:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26826

Modified Files:
	loadparm.c server.c util.c 
Log Message:
loadparm.c: Added fix for veto oplock files bug from Charles Hoch <hoch@hplcgh.hpl.hp.com>
server.c, util.c: Added fix for oplock break requests blocking due to server being
                  blocked in read call. Bug found by Charles Hoch <hoch@hplcgh.hpl.hp.com>.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 11:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8540

Modified Files:
      Tag: BRANCH_1_9_17
	nameelect.c reply.c 
Log Message:
nameelect.c: Fixed bugs where nmbd would never stop announcing itself as dmb or logon
             server once it had become such.
reply.c: Fixed bug where pasword wasn't being copied correctly with security = server.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 11:24
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv19863

Modified Files:
      Tag: BRANCH_1_9_17
	WHATSNEW.txt 
Log Message:
Updated for requested 1.9.17p5 release.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 11:59
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH

Modified Files:
      Tag: BRANCH_1_9_17
	Roadmap 
Log Message:
Updated Roadmap.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 12:00
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH

Added Files:
      Tag: BRANCH_1_9_17
	Announce 
Log Message:
New announce file.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 12:02
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/docs

Modified Files:
      Tag: BRANCH_1_9_17
	Application_Serving.txt BROWSING.txt BUGS.txt DIAGNOSIS.txt 
	DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt 
	Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.17p5


****************************************
Date:	Saturday December 20, 1997 @ 12:02
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/source

Modified Files:
      Tag: BRANCH_1_9_17
	version.h 
Log Message:
preparing for release of 1.9.17p5


****************************************
Date:	Saturday December 20, 1997 @ 14:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27423

Modified Files:
	client.c clientgen.c clientutil.c clitar.c proto.h util.c 
Log Message:
client.c:
clientgen.c:
clientutil.c:
clitar.c: Changed usage of receive_smb to new function client_receive_smb
          except for one use of receive_smb in client.c. This is the
          receive_smb used to discard packets received whilst in a 
          keyboard wait state.
util.c: Created new function client_receive_smb that ignores session
        keepalives just as the old receive_smb used to do. Created
        internal function read_smb_length_return_keepalive that is
        used internally by the changed receive_smb call.
        Changed read_smb_len to not use an internal buffer - it is
        never called with a null buffer so such code is redundant.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 14:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16240

Modified Files:
	util.c 
Log Message:
Fixed stupid bug in read_smb_len where I was calling itself - now
calling the correct fn.
Jeremy.



****************************************
Date:	Saturday December 20, 1997 @ 23:40
Author:	dan

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv5896

Added Files:
	parsing.doc 
Log Message:
Chris' smb.conf parsing doco



****************************************
Date:	Saturday December 20, 1997 @ 23:44
Author:	dan

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv10644/docs

Removed Files:
	parsing.doc 
Log Message:
Put it in the right directory :~)



****************************************
Date:	Saturday December 20, 1997 @ 23:44
Author:	dan

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10644/source

Added Files:
	parsing.doc 
Log Message:
Put it in the right directory :~)



****************************************
Date:	Sunday December 21, 1997 @ 0:00
Author:	dan

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv11758

Modified Files:
	README WHATSNEW.txt 
Log Message:
Updates for 1.9.18



****************************************
Date:	Sunday December 21, 1997 @ 7:00
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8787

Modified Files:
      Tag: BRANCH_NTDOM
	client.c clientgen.c clientipc.c display.c nmbsync.c 
	ntclient.c ntdomain.h proto.h smb.h 
Log Message:

Issues
------

two more commands in smbclient: list server shares, and query aliases on
a domain.  another one in the pipeline: query groups in a domain.

support for alias and group queries in smbd is also being done.

there are large numbers of functions that are still stubs.  i want to
abstract these to the point where they can be used as a front-end (higher
order function calls to the main smbd code).

added a system to display.c where you can select text or html output.
only text is currently supported.


Modified Files
--------------

client.c ntclient.c :

	added srvshares and samaliases commands.

clientgen.c clientipc.c display.c nmbsync.c :

	- more display routines.
	- more arguments to display routines.
	- signed / unsigned warnings.

ntdomain.h :

	- added SAMR 0x12, 0x13 and 0x21 commands (query domain groups and aliases?)
	  don't rightly know exactly what these are: will work it out, later.

	- signed / unsigned warnings.

	- *still* not had the file / share / session / connection enumeration
	  containers right.  i _think_ i've finally got it :-)

	- share structures needed sorting, to support different info levels.
	  share / session / file / connection all now look pretty much exactly
	  the same.

	- clarified some of the policy handles' purposes', by _naaaming_ them :-)

smb.h :

	- added display (TXT, HTML, NONE) and action (HEADER, ENUM, FOOTER) enumerations

	- added rid / name associating structure, for use in lookups.

rpc_pipes/CODING.STANDARDS :

	small revisions.  the principle of these coding standards is to give
	people freedom to do what they like, as long as they document it, and
	to also give them the freedom to do what they like, as long as they
	_also_ stick to the rules :-)

rpc_pipes/ntclientpipe.c :

	signed / unsigned warnings.

rpc_pipes/ntclientsamr.c :

	- appropriately named some of the policy handles, having worked out what
	  they are...

	- added samr_query_unknown_12 command, which i think is a domain aliases
	  lookup (give it an array of alias RIDS, it returns you their names).

rpc_pipes/ntclientsrvsvc.c :

	- added a net share enum client-side function.

rpc_pipes/pipesamr.c :
rpc_pipes/samrparse.c :

	- added SAMR_UNKNOWN_12, 13, 21 parsing routines.
	  12 lists aliases in a domain.  13 lists groups in a domain.
	  21 queries an alias in a domain, i think...

	- stub replies to groups / aliases queries now return partially meaningful
	  results, such that lookups done later _also_ return partially meaningful
	  results...

	- added lookup_group_rid; lookup_alias_rid; lookup_user_rid, all of which
	  are called from samr_reply_lookup_names.


	- renamed some of the policy handles to indicate their purpose.

rpc_pipes/pipesrvsvc.c rpc_pipes/srvparse.c :

	- modified the share enum code to look more like the other \PIPE\srvsvc
	  enumerations.  can now easily add different enumeration levels (the
	  previous version, the enumeration container was built-in to the
	  query / response structures, and could only support one info class...)

	- *finally*, *hopefully*, sorted out the "total_entries" stuff in the
	  enumeration containers!  we'll see...

rpc_pipes/pipeutil.c :

	- added a rid / name structure for the domain groups, and another for aliases.

whew.



****************************************
Date:	Sunday December 21, 1997 @ 7:00
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv8787/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	CODING.STANDARDS ntclientnet.c ntclientpipe.c ntclientsamr.c 
	ntclientsrvsvc.c pipesamr.c pipesrvsvc.c pipeutil.c 
	samrparse.c srvparse.c 
Log Message:

Issues
------

two more commands in smbclient: list server shares, and query aliases on
a domain.  another one in the pipeline: query groups in a domain.

support for alias and group queries in smbd is also being done.

there are large numbers of functions that are still stubs.  i want to
abstract these to the point where they can be used as a front-end (higher
order function calls to the main smbd code).

added a system to display.c where you can select text or html output.
only text is currently supported.


Modified Files
--------------

client.c ntclient.c :

	added srvshares and samaliases commands.

clientgen.c clientipc.c display.c nmbsync.c :

	- more display routines.
	- more arguments to display routines.
	- signed / unsigned warnings.

ntdomain.h :

	- added SAMR 0x12, 0x13 and 0x21 commands (query domain groups and aliases?)
	  don't rightly know exactly what these are: will work it out, later.

	- signed / unsigned warnings.

	- *still* not had the file / share / session / connection enumeration
	  containers right.  i _think_ i've finally got it :-)

	- share structures needed sorting, to support different info levels.
	  share / session / file / connection all now look pretty much exactly
	  the same.

	- clarified some of the policy handles' purposes', by _naaaming_ them :-)

smb.h :

	- added display (TXT, HTML, NONE) and action (HEADER, ENUM, FOOTER) enumerations

	- added rid / name associating structure, for use in lookups.

rpc_pipes/CODING.STANDARDS :

	small revisions.  the principle of these coding standards is to give
	people freedom to do what they like, as long as they document it, and
	to also give them the freedom to do what they like, as long as they
	_also_ stick to the rules :-)

rpc_pipes/ntclientpipe.c :

	signed / unsigned warnings.

rpc_pipes/ntclientsamr.c :

	- appropriately named some of the policy handles, having worked out what
	  they are...

	- added samr_query_unknown_12 command, which i think is a domain aliases
	  lookup (give it an array of alias RIDS, it returns you their names).

rpc_pipes/ntclientsrvsvc.c :

	- added a net share enum client-side function.

rpc_pipes/pipesamr.c :
rpc_pipes/samrparse.c :

	- added SAMR_UNKNOWN_12, 13, 21 parsing routines.
	  12 lists aliases in a domain.  13 lists groups in a domain.
	  21 queries an alias in a domain, i think...

	- stub replies to groups / aliases queries now return partially meaningful
	  results, such that lookups done later _also_ return partially meaningful
	  results...

	- added lookup_group_rid; lookup_alias_rid; lookup_user_rid, all of which
	  are called from samr_reply_lookup_names.


	- renamed some of the policy handles to indicate their purpose.

rpc_pipes/pipesrvsvc.c rpc_pipes/srvparse.c :

	- modified the share enum code to look more like the other \PIPE\srvsvc
	  enumerations.  can now easily add different enumeration levels (the
	  previous version, the enumeration container was built-in to the
	  query / response structures, and could only support one info class...)

	- *finally*, *hopefully*, sorted out the "total_entries" stuff in the
	  enumeration containers!  we'll see...

rpc_pipes/pipeutil.c :

	- added a rid / name structure for the domain groups, and another for aliases.

whew.



****************************************
Date:	Tuesday December 23, 1997 @ 6:38
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14115

Modified Files:
	nmbd.c nmbd_responserecordsdb.c 
Added Files:
	architecture.doc 
Log Message:
architecture.doc: Re-added since I lost it (sorry Dan :-).
nmbd.c nmbd_responserecordsdb.c: Spelling mistake fixes.
Jeremy.



****************************************
Date:	Tuesday December 23, 1997 @ 7:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21804

Modified Files:
	Makefile includes.h interface.c quotas.c util.c 
Log Message:
Fixes to compile under OpenBSD from "Todd T. Fries" <toddf@acm.org>
Jeremy.



****************************************
Date:	Tuesday December 23, 1997 @ 11:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16246

Modified Files:
	uid.c 
Log Message:
Fixed security bug when 'force user' and 'user only' are set.
Reported by Brian McCauley <B.A.McCauley@bham.ac.uk>.
Jeremy.



****************************************
Date:	Tuesday December 23, 1997 @ 13:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv553

Modified Files:
	server.c 
Log Message:
Fixed nastly little bug where client was sending open_and_X call
with smb_mode (smb_vwv[3]) of 0x20 == DENY_WRITE + read-only-open.
and smb_ofun (smb_vwv[8]) of 0x11 == Create if not exist plus append
on a read-only share.

This was mapped into the strange unix flags of (O_RDONLY|O_CREAT)
- essentially O_CREAT as O_RDONLY == 0.

We were checking the unix flags directly against O_RDONLY instead
of masking off the open mode flag bits before doing the comparison,
so this open was being refused even though it was valid on a
read-only share.

Also ensured that the O_CREAT bit was masked out of the flags
bit if the open was done on a read-only share (as doing a unix
open( filename, O_RDONLY|O_CREAT, xxx) will create a zero length
file if the user had permission to write into the directory - which
should be denied on a read-only share.

Thanks to Mark Peek @ Whistle for giving me this test case.

Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 2:50
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv26936/ubiqx

Modified Files:
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h 
Log Message:
Backed out changes that attempted to address a pointer array using -1,0,1.
Jeremy pointed out that there might be problems with this.  Darn shame.



****************************************
Date:	Wednesday December 24, 1997 @ 4:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13683

Modified Files:
	client.c 
Log Message:
Bugfix from Branko Cibej <branko.cibej@hermes.si>
- client.c had a workaround embedded in it for his
earlier bug in StrnCaseCmp - removed this.
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 7:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3558

Modified Files:
	nmbd.c nmbd_browsesync.c nmbd_incomingdgrams.c proto.h 
Log Message:
Finally added the code Andrew wanted that will allow a Samba domain
master browser to use the *<1b> feature of the Samba WINS server to
get a full workgroup list.

nmbd.c: Added timed call to collect_all_workgroup_names_from_wins_server().
nmbd_browsesync.c: Meat of the code to implement collect_all_workgroup_names_from_wins_server().
nmbd_incomingdgrams.c: Fixed comment typo.
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 8:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13653

Modified Files:
	nmbd_elections.c nmbd_incomingdgrams.c nmbd_serverlistdb.c 
	nmbd_workgroupdb.c proto.h 
Log Message:
nmbd_elections.c: Added new parameter to dump_workgroups call.
nmbd_incomingdgrams.c: Deal with announcements with servertype == 0 - these
 are announcements that a machine is shutting down and must be treated differently.
nmbd_serverlistdb.c: Exposed remove_server_from_workgroup as external.
  Added code to dump out workgroups on signal correctly.
nmbd_workgroupdb.c: Added new parameter to dump_workgroups call.
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 9:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18742

Modified Files:
	nmbd.c nmbd_packets.c proto.h server.c util.c 
Log Message:
Added SIGUSR1/SIGUSR2 handling.
Sending nmbd/smbd a SIGUSR1 will raise the debug level by one (capped at 10)
sending a SIGUSR2 will lower it (lower limit at zero).
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 9:33
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12349

Modified Files:
	nmbd.8 smbd.8 
Log Message:
Added docs for new signal handling functions.
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 10:50
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv9372

Modified Files:
	WHATSNEW.txt 
Log Message:
Updated WHATSNEW.txt for 1.9.18alpha14 release.
Added CVS_ACCESS to tell people how to use cvs
to keep up-to-date.
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 10:50
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9372/docs

Added Files:
	CVS_ACCESS.txt 
Log Message:
Updated WHATSNEW.txt for 1.9.18alpha14 release.
Added CVS_ACCESS to tell people how to use cvs
to keep up-to-date.
Jeremy.



****************************************
Date:	Wednesday December 24, 1997 @ 10:59
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1.9.18/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DIAGNOSIS.txt DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	ENCRYPTION.txt Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt 
	NTDOMAIN.txt NetBIOS.txt OS2-Client-HOWTO.txt 
	PRINTER_DRIVER.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbpasswd.8 smbrun.1 smbstatus.1 
	smbtar.1 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18alpha14


****************************************
Date:	Wednesday December 24, 1997 @ 10:59
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1.9.18/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18alpha14


****************************************
Date:	Wednesday December 24, 1997 @ 15:42
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20590

Modified Files:
	nmbd_sendannounce.c 
Log Message:
This is actually Jeremy, working as Herb :-).

Fixed bug where, when server is shut down it would always
do a lm announce broadcast of shutdown. This could cause other
nmbd's to think that they have seen an lm announce broadcast and
start doing it themselves.

Changed to only send lm announce shutdown if admin configured it
or one was seen on the subnet.

Jeremy.




****************************************
Date:	Friday December 26, 1997 @ 9:49
Author:	tridge

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv22421

Modified Files:
	mem_man.c 
Log Message:
change a couple of exit(0) calls to abort in mem_man



****************************************
Date:	Friday December 26, 1997 @ 9:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11797

Modified Files:
	asyncdns.c 
Log Message:
use _exit to exit a child




****************************************
Date:	Friday December 26, 1997 @ 10:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17041

Modified Files:
	nmbd_winsserver.c util.c 
Log Message:
fixed a couple of illegal uses of scanf() in the nmbd wins code. They
caused a core dump under IRIX when compiled with -64.

In general you cannot assume things about variable sizes. In
particular sizeof(time_t) may not equal sizeof(long) and
sizeof(uint16) may not equal sizeof(short).

There are probably other bugs like this. We'll need to check all
format statements for use of %ld, %hx etc. In general these should not
be used unless you have an explicit cast to the appropriate type.







****************************************
Date:	Friday December 26, 1997 @ 10:07
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13072

Modified Files:
	nmbd_winsserver.c 
Log Message:
fixed another couple of minor type errors (they could cause incorrect
output but not a core dump)



****************************************
Date:	Sunday December 28, 1997 @ 3:39
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4986

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile clientgen.c ipc.c membuffer.c nmbsync.c ntclient.c 
	ntdomain.h password.c proto.h reply.c server.c smb.h 
	smbencrypt.c util.c 
Log Message:

Issues
------

- some more gcc -pedantic warnings.  hm.  maybe i'm barking up the wrong tree
  here.

- subdivided the (by now rather large) ntdomain.h file into separate files:
  it was getting a bit hairy trying to find anything.  moved some parsing
  functions into more appropriate locations, as a result of going over these
  structures.

- more debugging of the client-side dce/rpc over SMB stuff.  working out
  what the heck you're supposed to do with alloc_hints and frag_lens etc.

- trying to abstract the rpc headers from the rpc data stream, in both client
  and server dce / rpc code.

- appropriate renaming of some more samr policy handles.

- minor rpc_pipes/ coding standard revisions




****************************************
Date:	Sunday December 28, 1997 @ 3:39
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv4986/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	CODING.STANDARDS lsaparse.c ntclientsamr.c ntclientsrvsvc.c 
	pipesamr.c pipesrvsvc.c pipeutil.c samrparse.c smbparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	rpc_dce.h rpc_lsa.h rpc_misc.h rpc_netlogon.h rpc_reg.h 
	rpc_samr.h rpc_srvsvc.h rpc_wkssvc.h 
Log Message:

Issues
------

- some more gcc -pedantic warnings.  hm.  maybe i'm barking up the wrong tree
  here.

- subdivided the (by now rather large) ntdomain.h file into separate files:
  it was getting a bit hairy trying to find anything.  moved some parsing
  functions into more appropriate locations, as a result of going over these
  structures.

- more debugging of the client-side dce/rpc over SMB stuff.  working out
  what the heck you're supposed to do with alloc_hints and frag_lens etc.

- trying to abstract the rpc headers from the rpc data stream, in both client
  and server dce / rpc code.

- appropriate renaming of some more samr policy handles.

- minor rpc_pipes/ coding standard revisions




****************************************
Date:	Monday December 29, 1997 @ 0:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20330

Modified Files:
      Tag: BRANCH_NTDOM
	smb.h smbpass.c time.c torture.c trans2.c trans2.h uid.c 
	username.c util.c wsmbconf.c 
Log Message:

1.9.18alpha12 -> 1.9.18alpha14 merge into BRANCH_NTDOM.

does not include modifications made in alpha12->alpha14 to clientgen.c



****************************************
Date:	Monday December 29, 1997 @ 0:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19069

Added Files:
      Tag: BRANCH_NTDOM
	print_svid.c 
Log Message:

print_svid.c has apparently been added since 1.9.18alpha12.  adding this
to BRANCH_NTDOM.



****************************************
Date:	Monday December 29, 1997 @ 0:55
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8893

Added Files:
      Tag: BRANCH_NTDOM
	nmbd_packets.c 
Log Message:

this file also added from 1.9.18alpha12-14.



****************************************
Date:	Monday December 29, 1997 @ 1:00
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14574

Modified Files:
      Tag: BRANCH_NTDOM
	nmbd_packets.c 
Log Message:

despite having been missed out of a cvs add, i _had_ updated this file
properly when i did the 1.9.18alpha12-14 merge preparation for BRANCH_NTDOM.
this is the missing changes.



****************************************
Date:	Monday December 29, 1997 @ 1:07
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5193

Added Files:
      Tag: BRANCH_NTDOM
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_browserdb.c 
	nmbd_browsesync.c nmbd_elections.c nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_lmhosts.c nmbd_logonnames.c 
	nmbd_mynames.c nmbd_namelistdb.c nmbd_namequery.c 
	nmbd_nameregister.c nmbd_namerelease.c nmbd_nodestatus.c 
	nmbd_processlogon.c nmbd_responserecordsdb.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_subnetdb.c 
	nmbd_winsproxy.c nmbd_winsserver.c nmbd_workgroupdb.c 
Log Message:

adding the nmbd files to BRANCH_NTDOM which have been added to the main
branch since 1.9.18alpha12-14.



****************************************
Date:	Monday December 29, 1997 @ 2:19
Author:	lkcl

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv16500

Modified Files:
      Tag: BRANCH_NTDOM
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h 
Added Files:
      Tag: BRANCH_NTDOM
	ubi_Cache.c ubi_Cache.h 
Log Message:

update of BRANCH_NTDOM from 1.9.18alpha12->14 main branch.  ubiqx directory.



****************************************
Date:	Monday December 29, 1997 @ 12:34
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv916

Modified Files:
	shmem_sysv.c 
Log Message:
a dummy change to shmem_sysv.c to try and break CVS out of a problem
with the ntdom branch



****************************************
Date:	Monday December 29, 1997 @ 13:01
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12955

Modified Files:
      Tag: BRANCH_NTDOM
	shmem_sysv.c 
Log Message:
a dummy change to shmem_sysv.c to try and break CVS out of a problem
with the ntdom branch



****************************************
Date:	Monday December 29, 1997 @ 18:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16609

Modified Files:
	interface.c 
Log Message:
avoid the ~ operator in netmask operations as apparently it causes
problems on some systems (eg. freeBSD 2.2.2). I'm surprised by this
but the change looks harmless. Patch from fred@datalync.com





****************************************
Date:	Tuesday December 30, 1997 @ 4:34
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14756

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile asyncdns.c byteorder.h charset.c client.c clientgen.c 
	includes.h ipc.c kanji.h loadparm.c local.h membuffer.c 
	namequery.c pcap.c pipes.c proto.h pwd_validate.c reply.c 
	server.c shmem_sysv.c smb.h torture.c trans2.c 
Log Message:

more of that ntdom_split_point -> current cvs tree merging stuff.

unfortunately, i have committed the revision crime of doing two different
sets of things, in one cvs commit.  i'm attempting to alleviate this by
committing the rpc_pipes/ directory separately (where the majority of
the development, instead of cvs catch-up, is going on.  there's no cvs
catch-up in the rpc_pipes/ directory...)




****************************************
Date:	Tuesday December 30, 1997 @ 4:34
Author:	lkcl

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv14756/ubiqx

Modified Files:
      Tag: BRANCH_NTDOM
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h 
Log Message:

more of that ntdom_split_point -> current cvs tree merging stuff.

unfortunately, i have committed the revision crime of doing two different
sets of things, in one cvs commit.  i'm attempting to alleviate this by
committing the rpc_pipes/ directory separately (where the majority of
the development, instead of cvs catch-up, is going on.  there's no cvs
catch-up in the rpc_pipes/ directory...)




****************************************
Date:	Tuesday December 30, 1997 @ 4:52
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv14060

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c netparse.c ntclientlsa.c ntclientnet.c 
	ntclientpipe.c ntclientsamr.c ntclientsrvsvc.c pipe_hnd.c 
	pipenetlog.c pipentlsa.c pipereg.c pipesamr.c pipesrvsvc.c 
	pipeutil.c pipewkssvc.c regparse.c rpc_dce.h rpc_misc.h 
	samrparse.c smbparse.c srvparse.c wksparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	prsparse.c 
Log Message:

got fed up of constantly changing the arguments of the parsing routines:
this generates huge cvs diffs.  put _all_ the parameters into a single
structure, prs_struct.

oh, i missed out a stage of the development, because i haven't done a
commit for so long.  i added a "*next" parameter to mem_buffer, and
started using it :-)

etc etc...

this version now copes with long dce/rpc responses (not requests: those
still have to be one packet.  larger packets will presumably have to
use SMBwriteX, but i've never yet seen this.  i know how to coax an
nt machine to use one: set the dce/rpc max_tsize field to a small value).

the long responses code isn't very efficient: it does an SMBreadX of
24 bytes, to get the dce/rpc header, and then does another SMBreadX of
frag_len bytes.  it notices if the FRAG_FIRST and/or FRAG_LAST fields
are set in the dce/rpc header, too...



****************************************
Date:	Wednesday December 31, 1997 @ 2:15
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17737

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c clitar.c ipc.c membuffer.c 
	print_svid.c proto.h shmem_sysv.c smb.h 
Log Message:

why can't i do anything right?  yet *another* sed job, this time adding
the debug indentation argument back into the parsing routines.  this, i *promise*
will be the penultimate code shuffle  (there's one more, later, to do with
dce/rpc faults and buffer over-runs).

bug fixing from the latest round of changes.

new prs_struct code, which "manages" memory used in the parsing routines.
at the moment, it uses struct mem_buf :-)  there is the potential there
for abstracting this (in one place) so that it prs_struct uses, oh, i
don't know.  files.  shared memory.  an ipc mechanism.  it doesn't matter :-)

i've been leaking some memory somewhere, and hey, there's this neat little
mem_man module which you can use to catch memory errors!



****************************************
Date:	Wednesday December 31, 1997 @ 2:16
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv17737/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c netparse.c ntclientlsa.c ntclientnet.c 
	ntclientpipe.c ntclientsamr.c ntclientsrvsvc.c pipenetlog.c 
	pipentlsa.c pipereg.c pipesamr.c pipesrvsvc.c pipeutil.c 
	pipewkssvc.c prsparse.c regparse.c samrparse.c smbparse.c 
	srvparse.c wksparse.c 
Log Message:

why can't i do anything right?  yet *another* sed job, this time adding
the debug indentation argument back into the parsing routines.  this, i *promise*
will be the penultimate code shuffle  (there's one more, later, to do with
dce/rpc faults and buffer over-runs).

bug fixing from the latest round of changes.

new prs_struct code, which "manages" memory used in the parsing routines.
at the moment, it uses struct mem_buf :-)  there is the potential there
for abstracting this (in one place) so that it prs_struct uses, oh, i
don't know.  files.  shared memory.  an ipc mechanism.  it doesn't matter :-)

i've been leaking some memory somewhere, and hey, there's this neat little
mem_man module which you can use to catch memory errors!



****************************************
Date:	Thursday January 1, 1998 @ 13:55
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23000

Modified Files:
	make_printerdef.c ipc.c 
Log Message:
fixes to make_printerdef.c to generate a correct printers.def file

changes to ipc.c to use new printers.def file




****************************************
Date:	Friday January 2, 1998 @ 4:26
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv5358

Modified Files:
	psfixes.pl 
Log Message:
fix up perl script so it is a little cleaner and also works with perl 4



****************************************
Date:	Friday January 2, 1998 @ 13:33
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27986

Modified Files:
	ipc.c 
Log Message:
fix printer driver rpc to prevent core dumps. 



****************************************
Date:	Saturday January 3, 1998 @ 0:08
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv370

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c clientipc.c display.c ipc.c 
	membuffer.c ntclient.c proto.h smb.h util.c 
Log Message:

- added a wksinfo command
- added a dummy "lookup names" response to ipc.c.  SRVMGR.EXE now works on
  a samba server.  HURRAH!
- added share info level 2.  srvmgr.exe now works on all the dialog buttons
  except "replication" and "alerts"
- fudged the "long dce/rpc server responses".

... damn, checking in the wrong version (from over a day ago).  the latest
version also has some additional SAMR stuff...  tomorrow...



****************************************
Date:	Saturday January 3, 1998 @ 0:08
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv370/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipe_hnd.c pipesrvsvc.c pipeutil.c pipewkssvc.c rpc_srvsvc.h 
	rpc_wkssvc.h srvparse.c wksparse.c 
Log Message:

- added a wksinfo command
- added a dummy "lookup names" response to ipc.c.  SRVMGR.EXE now works on
  a samba server.  HURRAH!
- added share info level 2.  srvmgr.exe now works on all the dialog buttons
  except "replication" and "alerts"
- fudged the "long dce/rpc server responses".

... damn, checking in the wrong version (from over a day ago).  the latest
version also has some additional SAMR stuff...  tomorrow...



****************************************
Date:	Saturday January 3, 1998 @ 3:35
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv169

Modified Files:
	nmbd_become_lmb.c nmbd_become_dmb.c 
Log Message:
added timestrings to become and unbecome domain/local master browser 
messages.



****************************************
Date:	Saturday January 3, 1998 @ 3:55
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv4711

Modified Files:
	smb.conf 
Log Message:
added commented out sections for supporting automatically providing printer
drivers to Win95 clients.



****************************************
Date:	Saturday January 3, 1998 @ 5:12
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27469

Modified Files:
	make_printerdef.c 
Log Message:
added printout of file list to stderr so you know what files you need to
copy to your printer$ share



****************************************
Date:	Saturday January 3, 1998 @ 5:22
Author:	herb

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv20415

Modified Files:
	PRINTER_DRIVER.txt 
Log Message:
added description of changes I made



****************************************
Date:	Saturday January 3, 1998 @ 5:26
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv3689

Modified Files:
	.cvsignore 
Log Message:
fixed type in list of ignored files



****************************************
Date:	Sunday January 4, 1998 @ 1:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19367

Modified Files:
      Tag: BRANCH_NTDOM
	client.c ntclient.c proto.h 
Log Message:

added a samuser command.  it takes a rid rather than a username: that will
come later.  you can also specify the info level (for experimental purposes
as there is currently no code to decode anything but info level 21).

resolved all but a few of the SAM_USER_INFO_21 fields: workstations etc.
there appears to be a "munged" remote access server parameter.  not a
particularly good attempt by microsoft at obfuscation, but at least the
telephone number isn't transmitted in clear-text...

for the samr groups, added samr command 0x8.  this is the first in the
chain when you want to see a domain group: more to follow.

bugs in the samr dom_sid3 code (to do with the new prs_parse structure).

all very silly, the way that different programmer groups have used almost
identical structures in almost identical ways, the DOM_SID3 is identical
to DOM_SID2 except that the first 4 bytes are a length (bytes) in DOM_SID3
and are a repetition of the number of sub-auths in the DOM_SID2 structure.




****************************************
Date:	Sunday January 4, 1998 @ 1:54
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv19367/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientpipe.c ntclientsamr.c pipesamr.c rpc_samr.h 
	samrparse.c 
Log Message:

added a samuser command.  it takes a rid rather than a username: that will
come later.  you can also specify the info level (for experimental purposes
as there is currently no code to decode anything but info level 21).

resolved all but a few of the SAM_USER_INFO_21 fields: workstations etc.
there appears to be a "munged" remote access server parameter.  not a
particularly good attempt by microsoft at obfuscation, but at least the
telephone number isn't transmitted in clear-text...

for the samr groups, added samr command 0x8.  this is the first in the
chain when you want to see a domain group: more to follow.

bugs in the samr dom_sid3 code (to do with the new prs_parse structure).

all very silly, the way that different programmer groups have used almost
identical structures in almost identical ways, the DOM_SID3 is identical
to DOM_SID2 except that the first 4 bytes are a length (bytes) in DOM_SID3
and are a repetition of the number of sub-auths in the DOM_SID2 structure.




****************************************
Date:	Sunday January 4, 1998 @ 2:05
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv10314/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipesamr.c 
Log Message:

missed one of the files when changing the names of policy handles to something
meaningful (pol --> user_pol, in this instance).



****************************************
Date:	Sunday January 4, 1998 @ 2:46
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28280

Modified Files:
      Tag: BRANCH_NTDOM
	display.c 
Log Message:

missed another one: this time, the displaying of SAM_USER_INFO_15 structures.



****************************************
Date:	Sunday January 4, 1998 @ 3:08
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20084

Modified Files:
      Tag: BRANCH_NTDOM
	client.c ntclient.c proto.h 
Log Message:

renamed some of the query commands to "enumerate" commands.

added an experimental call samr 0x08.



****************************************
Date:	Sunday January 4, 1998 @ 3:08
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv20084/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientsamr.c rpc_samr.h 
Log Message:

renamed some of the query commands to "enumerate" commands.

added an experimental call samr 0x08.



****************************************
Date:	Sunday January 4, 1998 @ 13:32
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv26363

Modified Files:
	makerpms.sh samba-make.patch samba.spec 
Log Message:
Getting ready for 1.9.18 release.



****************************************
Date:	Sunday January 4, 1998 @ 13:45
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv10639

Added Files:
	Makefile 
Log Message:
Private copy of Makefile for release of Samba RH50 RPMS.



****************************************
Date:	Monday January 5, 1998 @ 2:01
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv25099

Added Files:
      Tag: BRANCH_NTDOM
	ntclientwkssvc.c 
Log Message:

amazing.  went for several days without adding this file.



****************************************
Date:	Monday January 5, 1998 @ 2:02
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv2751/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c rpc_dce.h rpc_lsa.h rpc_misc.h rpc_samr.h 
Log Message:

started restructuring the #includes so that rpc_pipes/ can be used as a
separate library.



****************************************
Date:	Monday January 5, 1998 @ 13:02
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6342/docs

Modified Files:
	WinNT.txt 
Log Message:
Fixed type that referred to regedit.exe instead of regedt32.exe.



****************************************
Date:	Monday January 5, 1998 @ 22:54
Author:	vlendec

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25204/source

Modified Files:
	Makefile client.c clientutil.c proto.h smb.h 
Log Message:
Added 3 commands:

smbmount: This is a stripped down smbclient that communicates with
the Linux 2.1.x kernel to supply authenticated smb connections for
smbfs mount points.

smbmnt/smbumount: setuid commands that do the actual smb mount system
call after having done the appropriate security checks




****************************************
Date:	Monday January 5, 1998 @ 22:56
Author:	vlendec

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5914/source

Added Files:
	smbmnt.c smbmount.c smbumount.c 
Log Message:
the real source code for the smbfs utilities. Forgot to do
cvs add first.

Volker



****************************************
Date:	Tuesday January 6, 1998 @ 0:13
Author:	vlendec

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv2267/docs

Added Files:
	smbmnt.8 smbmount.8 smbumount.8 
Log Message:
Added manpages.

Removed obsolete options from smbmount help message.

Volker




****************************************
Date:	Tuesday January 6, 1998 @ 0:13
Author:	vlendec

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2267/source

Modified Files:
	smbmount.c 
Log Message:
Added manpages.

Removed obsolete options from smbmount help message.

Volker




****************************************
Date:	Tuesday January 6, 1998 @ 3:21
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17467

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile byteorder.h display.c ntclient.c proto.h smb.h 
	smbpass.c 
Added Files:
      Tag: BRANCH_NTDOM
	byteorderdbg.h 
Log Message:

more work on making rpc_pipes suitable as a library.

one thing needed was removing references to struct smb_pass, and replacing
it with SAM_USER_INFO_21.  oh, a SAM_GROUP_INFO_xx is going to be needed
but i'll look that up in msdev.

smbpass.c::get_smbpwd_entries needed to be modified to return an array of
SAM_USER_INFO_21 structures, which will help make things clearer to john
and chris (for the SAM database / smbpasswd module).

renamed SAM_USER_INFO_15 to SAM_USER_INFO_21 - 0x15 is 21 decimal.

moved some sub-functions about that are specific to a parsing module,
leaving only the basic types in smbparse.c.



****************************************
Date:	Tuesday January 6, 1998 @ 3:21
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv17467/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c netparse.c ntclientlogin.c ntclientnet.c 
	ntclientsamr.c pipenetlog.c pipesamr.c prsparse.c 
	rpc_netlogon.h rpc_samr.h samrparse.c smbparse.c 
Log Message:

more work on making rpc_pipes suitable as a library.

one thing needed was removing references to struct smb_pass, and replacing
it with SAM_USER_INFO_21.  oh, a SAM_GROUP_INFO_xx is going to be needed
but i'll look that up in msdev.

smbpass.c::get_smbpwd_entries needed to be modified to return an array of
SAM_USER_INFO_21 structures, which will help make things clearer to john
and chris (for the SAM database / smbpasswd module).

renamed SAM_USER_INFO_15 to SAM_USER_INFO_21 - 0x15 is 21 decimal.

moved some sub-functions about that are specific to a parsing module,
leaving only the basic types in smbparse.c.



****************************************
Date:	Wednesday January 7, 1998 @ 3:33
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14925

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile pipes.c proto.h smb.h smbencrypt.c 
Log Message:

Issues
------

1) sub-division of rpc code to make it more suitable as a client-side library.

2) bug-fixing to get domain logins working again

3) doing "lsa lookup sids" which is needed in order to access other people's files.


Modified / Added Files
----------------------

Makefile rpc_pipes/pipesrvutil.c rpc_pipes/rpcparse.c :

	splitting rpc_pipes/pipeutil.c into misc (pipeutil.c) and server (pipesrvutil.c).
	splitting rpc_pipes/smbparse.c into misc (smbparse.c) and dce/rpc (rpcparse.c).

pipes.c rpc_pipes/pipe_hnd.c :

	oops, was passing the unix uid instead of the (local) smb vuid to the
	open_rpc_pipe_hnd() function.  this made get_user_struct(vuid) fail.  oops.

smb.h :

	moved the rpc PIPE_xxx string defines into... rpc_pipes/rpc_misc.h, i think.

rpc_pipes/lsaparse.c rpc_pipes/pipentlsa.c :

	fixing "lsa lookup sids"

rpc_pipes/pipenetlog.c :

	oh, dear.  the credentials are used as 16 bytes, but only the first
	8 are actually created in cred_session_key().  using the malloc/mem_man.c
	code it very kindly initialises all uninitialised memory to 0x45454545 so
	this bug was easy to spot.  easier....

rpc_pipes/pipesamr.c :

	moved the lookup_group_rid(), lookup_alias_rid(), lookup_user_rid() functions
	into rpc_pipes/pipesrvutil.c and then created lookup_xxxx_name() equivalents
	too.

	these functions will be used in both the pipesamr.c and pipentlsa.c calls,
	which stupidly _both_ have "lookup name" and "lookup rid/sid" calls.  the
	syntax is slightly different in each case, but the info returned is not.
	god, why did m... never mind.

rpc_pipes/rpc_misc.h rpc_pipes/smbparse.c :

	created a LOOKUP_LEVEL structure, for info levels / switch values.




****************************************
Date:	Wednesday January 7, 1998 @ 3:34
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv14925/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	lsaparse.c ntclientlsa.c pipe_hnd.c pipenetlog.c pipentlsa.c 
	pipesamr.c pipeutil.c rpc_dce.h rpc_lsa.h rpc_misc.h 
	samrparse.c smbparse.c 
Added Files:
      Tag: BRANCH_NTDOM
	pipesrvutil.c rpcparse.c 
Log Message:

Issues
------

1) sub-division of rpc code to make it more suitable as a client-side library.

2) bug-fixing to get domain logins working again

3) doing "lsa lookup sids" which is needed in order to access other people's files.


Modified / Added Files
----------------------

Makefile rpc_pipes/pipesrvutil.c rpc_pipes/rpcparse.c :

	splitting rpc_pipes/pipeutil.c into misc (pipeutil.c) and server (pipesrvutil.c).
	splitting rpc_pipes/smbparse.c into misc (smbparse.c) and dce/rpc (rpcparse.c).

pipes.c rpc_pipes/pipe_hnd.c :

	oops, was passing the unix uid instead of the (local) smb vuid to the
	open_rpc_pipe_hnd() function.  this made get_user_struct(vuid) fail.  oops.

smb.h :

	moved the rpc PIPE_xxx string defines into... rpc_pipes/rpc_misc.h, i think.

rpc_pipes/lsaparse.c rpc_pipes/pipentlsa.c :

	fixing "lsa lookup sids"

rpc_pipes/pipenetlog.c :

	oh, dear.  the credentials are used as 16 bytes, but only the first
	8 are actually created in cred_session_key().  using the malloc/mem_man.c
	code it very kindly initialises all uninitialised memory to 0x45454545 so
	this bug was easy to spot.  easier....

rpc_pipes/pipesamr.c :

	moved the lookup_group_rid(), lookup_alias_rid(), lookup_user_rid() functions
	into rpc_pipes/pipesrvutil.c and then created lookup_xxxx_name() equivalents
	too.

	these functions will be used in both the pipesamr.c and pipentlsa.c calls,
	which stupidly _both_ have "lookup name" and "lookup rid/sid" calls.  the
	syntax is slightly different in each case, but the info returned is not.
	god, why did m... never mind.

rpc_pipes/rpc_misc.h rpc_pipes/smbparse.c :

	created a LOOKUP_LEVEL structure, for info levels / switch values.




****************************************
Date:	Wednesday January 7, 1998 @ 5:34
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv603

Modified Files:
	Support.txt 
Log Message:
Updated french contact address.



****************************************
Date:	Wednesday January 7, 1998 @ 6:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4682

Modified Files:
	includes.h interface.c nmbd_nameregister.c nmbd_winsproxy.c 
	nmbd_winsserver.c print_svid.c printing.c 
Log Message:
includes.h: Added FreeBSD 3.x fixes. Added HPUX10.x fixes.
interface.c: Added netmask fix.
nmbd_nameregister.c: Fixed unitialised variable warnings.
nmbd_winsproxy.c: Fixed unitialised variable warnings.
nmbd_winsserver.c: Fixed DEC warnings.
print_svid.c: Fixed DEC warnings.
printing.c: Added LPRng fixes.
Jeremy.



****************************************
Date:	Wednesday January 7, 1998 @ 6:35
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7343

Added Files:
      Tag: BRANCH_NTDOM
	pwd_cache.c 
Log Message:

a module that allows storage (and potentially temporary obfuscation) of
passwords.  first use is to store passwords for smbclient, so connections
can be re-established when a signal is received from the linux kernel
to the daemonised smbclient.



****************************************
Date:	Wednesday January 7, 1998 @ 7:09
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9426

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile client.c clientgen.c clientipc.c clientsmb.c 
	ntclient.c proto.h pwd_cache.c smb.h smbencrypt.c 
Log Message:

modifying smbclient so that it will be easier to re-establish connections.
the plan is to use pwd_cache.c to store passwords (with the option to
obfuscate them while not being used, if required).

then, when the new smbmount command (which forks off a smbclient daemon)
gets a SIG_USR from the kernel, telling the smbclient daemon to re-establish
the connection, it can, because it has the password cached.



****************************************
Date:	Wednesday January 7, 1998 @ 7:15
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10179

Modified Files:
      Tag: BRANCH_NTDOM
	includes.h interface.c nmbd_nameregister.c nmbd_winsproxy.c 
	nmbd_winsserver.c print_svid.c printing.c 
Log Message:

keeping BRANCH_NTDOM up-to-date with the main cvs branch.



****************************************
Date:	Wednesday January 7, 1998 @ 7:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10176

Modified Files:
      Tag: BRANCH_NTDOM
	print_svid.c 
Log Message:

hm.  these three files appear to have minor differences: can't have that!



****************************************
Date:	Wednesday January 7, 1998 @ 8:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7710

Modified Files:
	server.c 
Log Message:
Ensure that if we are in share mode security that the smb_uid
field is invalid.
Jeremy.



****************************************
Date:	Wednesday January 7, 1998 @ 13:36
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv25671

Modified Files:
	WHATSNEW.txt 
Log Message:
Updated for 1.9.18 - just need a few more changes & it's done.
Jeremy.



****************************************
Date:	Thursday January 8, 1998 @ 3:04
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv317

Modified Files:
	server.c 
Log Message:
Fixed an apparent typo:

2551c2551
< #endif /NO_FORK_DEBUG */
---
> #endif /* NO_FORK_DEBUG */

Chris -)-----




****************************************
Date:	Thursday January 8, 1998 @ 5:27
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6044

Modified Files:
      Tag: BRANCH_NTDOM
	access.c client.c clientgen.c includes.h nameserv.h nmbd.c 
	nmbd_browsesync.c nmblib.c password.c proto.h pwd_validate.c 
	reply.c server.c smb.h util.c vt_mode.c 
Added Files:
      Tag: BRANCH_NTDOM
	clientmnt.c 
Log Message:

complicated commit, which involved adding smbmount code.  originally.
a couple of issues came up, which needed resolving.

1) client_addr() and client_name() use int Client in util.c.  only
   smbd actually uses the int Client  file descriptor.  therefore,
   client_addr() and client_name() should only be used in smbd,
   which they are not.

   volker, you call "close_sockets()" in smbmount.c, which probably
   shouldn't be done

2) the client structures needed to store full connection details in
   order to do a "cli_reestablish_connection" function.  later, the
   plan is to have an "smbopen" command and a "smbclose" command
   like the "open" and "bye" commands of ftp.  a destination
   host, username, password, domain should all be selectable and
   the connection re-established with a new server.  without quitting
   smbclient.

3) volker, i've done a _preliminary_ start on the smbclient "mount"
   command.  it's still dependent on the linux kernel structures,
   and there really should be some version #defines that can be
   picked up on in samba, from <linux/smbfs.h>

   i've slightly modified some of the functions: close_sockets() is
   _not_ used, for example.  i call cli_shutdown(cli) because that
   is exactly the functionality of the code you sent me (which i
   notice from the 1.9.18 branch is the contents of smbmount.c) in
   the while(1) loop of cli_mount_send_fs_socket().




****************************************
Date:	Thursday January 8, 1998 @ 5:27
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv6044/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	pipenetlog.c 
Log Message:

complicated commit, which involved adding smbmount code.  originally.
a couple of issues came up, which needed resolving.

1) client_addr() and client_name() use int Client in util.c.  only
   smbd actually uses the int Client  file descriptor.  therefore,
   client_addr() and client_name() should only be used in smbd,
   which they are not.

   volker, you call "close_sockets()" in smbmount.c, which probably
   shouldn't be done

2) the client structures needed to store full connection details in
   order to do a "cli_reestablish_connection" function.  later, the
   plan is to have an "smbopen" command and a "smbclose" command
   like the "open" and "bye" commands of ftp.  a destination
   host, username, password, domain should all be selectable and
   the connection re-established with a new server.  without quitting
   smbclient.

3) volker, i've done a _preliminary_ start on the smbclient "mount"
   command.  it's still dependent on the linux kernel structures,
   and there really should be some version #defines that can be
   picked up on in samba, from <linux/smbfs.h>

   i've slightly modified some of the functions: close_sockets() is
   _not_ used, for example.  i call cli_shutdown(cli) because that
   is exactly the functionality of the code you sent me (which i
   notice from the 1.9.18 branch is the contents of smbmount.c) in
   the while(1) loop of cli_mount_send_fs_socket().




****************************************
Date:	Thursday January 8, 1998 @ 5:27
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv8621

Modified Files:
	WHATSNEW.txt 
Log Message:
Final changes - ready for 1.9.18.
Jeremy.



****************************************
Date:	Thursday January 8, 1998 @ 5:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8124

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile ntclient.c proto.h 
Log Message:

more rpc library code shuffling.



****************************************
Date:	Thursday January 8, 1998 @ 5:54
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv8124/rpc_pipes

Modified Files:
      Tag: BRANCH_NTDOM
	ntclientlogin.c ntclientlsa.c ntclientpipe.c ntclientsamr.c 
	ntclientsrvsvc.c ntclientwkssvc.c pipeutil.c 
Log Message:

more rpc library code shuffling.



****************************************
Date:	Thursday January 8, 1998 @ 6:15
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/docs

Modified Files:
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DIAGNOSIS.txt DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	ENCRYPTION.txt Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt 
	NTDOMAIN.txt NetBIOS.txt OS2-Client-HOWTO.txt 
	PRINTER_DRIVER.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbmnt.8 smbmount.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 smbumount.8 testparm.1 
	testprns.1 
Log Message:
preparing for release of 1.9.18


****************************************
Date:	Thursday January 8, 1998 @ 6:15
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-1_9_17_BRANCH/source

Modified Files:
	version.h 
Log Message:
preparing for release of 1.9.18


****************************************
Date:	Thursday January 8, 1998 @ 10:50
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv3

Modified Files:
	idb.pl 
Log Message:
missing a couple of binary files in the distribution



****************************************
Date:	Thursday January 8, 1998 @ 16:34
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv27710

Modified Files:
	spec.pl 
Log Message:
fix bug in version numbering scheme



****************************************
Date:	Friday January 9, 1998 @ 2:34
Author:	vlendec

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv330/source

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile 
Log Message:
Added a note for the smbmount utils. These are for linux kernel 2.1.
2.0 users should get the utils from
ftp://ftp.gwdg.de/pub/linux/misc/smbfs



****************************************
Date:	Friday January 9, 1998 @ 4:12
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv7029

Modified Files:
      Tag: BRANCH_1_9_18
	spec.pl idb.pl 
Log Message:
add packaging file fixes from main branch



****************************************
Date:	Friday January 9, 1998 @ 5:30
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12069/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
docs/Support.txt : Remove consultant who doesn't want to be there.
source/nmbd_become_lmb.c: Fixed problem with userdata alignment.
source/nmbd_browsesync.c: Fixed problem with userdata alignment.
source/nmbd_incomingdgrams.c: Fixed problem with userdata alignment.
source/mem_man/mem_man.c:
source/mem_man/mem_man.h: Added smb_ as prefix to stop namespace collisions.
Jeremy.



****************************************
Date:	Friday January 9, 1998 @ 5:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12069/source

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd_become_lmb.c nmbd_browsesync.c nmbd_incomingdgrams.c 
	proto.h 
Log Message:
docs/Support.txt : Remove consultant who doesn't want to be there.
source/nmbd_become_lmb.c: Fixed problem with userdata alignment.
source/nmbd_browsesync.c: Fixed problem with userdata alignment.
source/nmbd_incomingdgrams.c: Fixed problem with userdata alignment.
source/mem_man/mem_man.c:
source/mem_man/mem_man.h: Added smb_ as prefix to stop namespace collisions.
Jeremy.



****************************************
Date:	Friday January 9, 1998 @ 5:30
Author:	jra

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv12069/source/mem_man

Modified Files:
      Tag: BRANCH_1_9_18
	mem_man.c mem_man.h 
Log Message:
docs/Support.txt : Remove consultant who doesn't want to be there.
source/nmbd_become_lmb.c: Fixed problem with userdata alignment.
source/nmbd_browsesync.c: Fixed problem with userdata alignment.
source/nmbd_incomingdgrams.c: Fixed problem with userdata alignment.
source/mem_man/mem_man.c:
source/mem_man/mem_man.h: Added smb_ as prefix to stop namespace collisions.
Jeremy.



****************************************
Date:	Friday January 9, 1998 @ 5:33
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11003/docs

Modified Files:
	Support.txt 
Log Message:
docs/Support.txt: Removed consultant.
source/Makefile: Added Volker's comment.
source/nmbd_become_lmb.c:
source/nmbd_browsesync.c:
source/nmbd_incomingdgrams.c: Fixed userdata alignment problems.
source/mem_man/mem_man.c:
source/mem_man/mem_man.h: added smb_ prefix to stop namespace collisions.
Jeremy.



****************************************
Date:	Friday January 9, 1998 @ 5:33
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11003/source

Modified Files:
	Makefile nmbd_become_lmb.c nmbd_browsesync.c 
	nmbd_incomingdgrams.c proto.h 
Log Message:
docs/Support.txt: Removed consultant.
source/Makefile: Added Volker's comment.
source/nmbd_become_lmb.c:
source/nmbd_browsesync.c:
source/nmbd_incomingdgrams.c: Fixed userdata alignment problems.
source/mem_man/mem_man.c:
source/mem_man/mem_man.h: added smb_ prefix to stop namespace collisions.
Jeremy.



****************************************
Date:	Friday January 9, 1998 @ 5:33
Author:	jra

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv11003/source/mem_man

Modified Files:
	mem_man.c mem_man.h 
Log Message:
docs/Support.txt: Removed consultant.
source/Makefile: Added Volker's comment.
source/nmbd_become_lmb.c:
source/nmbd_browsesync.c:
source/nmbd_incomingdgrams.c: Fixed userdata alignment problems.
source/mem_man/mem_man.c:
source/mem_man/mem_man.h: added smb_ prefix to stop namespace collisions.
Jeremy.



****************************************
Date:	Saturday January 10, 1998 @ 8:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22275

Modified Files:
	ipc.c 
Log Message:
ipc.c: Fixed problem where we were not returning 'buffer too small'
when NT sends up a mdrcnt of zero.
Jeremy.



****************************************
Date:	Saturday January 10, 1998 @ 8:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24101

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c 
Log Message:
ipc.c: Fixed problem where we were not returning 'buffer too small'
when NT sends up a mdrcnt of zero.
Jeremy.



****************************************
Date:	Saturday January 10, 1998 @ 11:42
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4369

Modified Files:
	password.c 
Log Message:
Following discussions with Cristian Gafton (Red Hat) we have decided to make
PAM silent about it's actions. This reduced error logging for EVERY password
validation request. Refer to password.c PAM section for further info.
Fiels Affected: password.c




****************************************
Date:	Sunday January 11, 1998 @ 15:19
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24961

Modified Files:
      Tag: BRANCH_1_9_18
	cgi.c wsmbconf.c 
Log Message:
fix up the CGI headers when run as a cgi script



****************************************
Date:	Sunday January 11, 1998 @ 23:28
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27241

Modified Files:
	server.c 
Log Message:

fixed an oplock bug. inbuf and outbuf must not be declared static as
otherwise they can become corrupt during a recursive oplock
break. logs from PR#3005 show that we are indeed getting recursive
oplock breaks (yuck!)

I'm not totally sure that this is the only oplock bug left as I don't
quite see how it fully explains the logs. We'll know when he tries the
patch.




****************************************
Date:	Sunday January 11, 1998 @ 23:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23550

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
(fixed in 1.9.18 as well)

fixed an oplock bug. inbuf and outbuf must not be declared static as
otherwise they can become corrupt during a recursive oplock
break. logs from PR#3005 show that we are indeed getting recursive
oplock breaks (yuck!)

I'm not totally sure that this is the only oplock bug left as I don't
quite see how it fully explains the logs. We'll know when he tries the
patch.




****************************************
Date:	Sunday January 11, 1998 @ 23:59
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6889

Modified Files:
	server.c 
Log Message:

I've now found the real oplock bug (the nasty one that I'm sure has
been pestering us for a long time)

The problem is that find_free_file() doesn't reserve the file. This
means that during a recursive oplock break in an open you can get two
files opened with the same fnum (yikes!). The 2nd open wipes out the
oplock info in the Files[] structure (among other things) which
totally screws the oplock breaks.

This fix that I am applying now is a "quick fix". It will fail if the
Files[] table is full and maybe under other conditions. It isn't
really a fix at all, but it will "fix" the problem under most
conditions and will also speed things up a little so I'm applying it
anyway. 

I'll see if I can do a proper fix soon.




****************************************
Date:	Monday January 12, 1998 @ 0:01
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10140

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
(applying fix to 1.9.18 as well)

I've now found the real oplock bug (the nasty one that I'm sure has
been pestering us for a long time)

The problem is that find_free_file() doesn't reserve the file. This
means that during a recursive oplock break in an open you can get two
files opened with the same fnum (yikes!). The 2nd open wipes out the
oplock info in the Files[] structure (among other things) which
totally screws the oplock breaks.

This fix that I am applying now is a "quick fix". It will fail if the
Files[] table is full and maybe under other conditions. It isn't
really a fix at all, but it will "fix" the problem under most
conditions and will also speed things up a little so I'm applying it
anyway. 

I'll see if I can do a proper fix soon.




****************************************
Date:	Monday January 12, 1998 @ 0:20
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8355

Modified Files:
	reply.c server.c smb.h trans2.c 
Log Message:

this is a proper fix for the find_free_file/oplock bug. Files[]
elements are now marked reserved while the open is taking place and
find_free_file() does not allow a reserved file to be opened

The reservation is removed if the open fails or in close_file()



****************************************
Date:	Monday January 12, 1998 @ 0:27
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8751

Modified Files:
      Tag: BRANCH_1_9_18
	reply.c server.c smb.h trans2.c 
Log Message:
(applying fix to 1.9.18)

this is a proper fix for the find_free_file/oplock bug. Files[]
elements are now marked reserved while the open is taking place and
find_free_file() does not allow a reserved file to be opened

The reservation is removed if the open fails or in close_file()



****************************************
Date:	Monday January 12, 1998 @ 0:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9140

Modified Files:
	cgi.c wsmbconf.c 
Log Message:
propogate my cgi changes to the main branch



****************************************
Date:	Monday January 12, 1998 @ 0:33
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3384

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
these are johns PAM changes from the main branch - they need to be in
1.9.18 as well




****************************************
Date:	Monday January 12, 1998 @ 8:06
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated bugfix notes for 1.9.18p1.
Jeremy.



****************************************
Date:	Tuesday January 13, 1998 @ 5:08
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv8641

Modified Files:
	psfixes.pl 
Log Message:
fix bug in search string



****************************************
Date:	Tuesday January 13, 1998 @ 5:08
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv15629

Modified Files:
      Tag: BRANCH_1_9_18
	psfixes.pl 
Log Message:
fix bug in search string



****************************************
Date:	Tuesday January 13, 1998 @ 5:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12110

Modified Files:
      Tag: BRANCH_1_9_18
	reply.c 
Log Message:
Added timestring() to overflow attack so people can see when it happens.
Jeremy.



****************************************
Date:	Tuesday January 13, 1998 @ 5:45
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv6317

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated for 1.9.18p1 release.
Jeremy.



****************************************
Date:	Tuesday January 13, 1998 @ 5:47
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DIAGNOSIS.txt DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	ENCRYPTION.txt Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt 
	NTDOMAIN.txt NetBIOS.txt OS2-Client-HOWTO.txt 
	PRINTER_DRIVER.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbmnt.8 smbmount.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 smbumount.8 testparm.1 
	testprns.1 
Log Message:
preparing for release of 1.9.18p1


****************************************
Date:	Tuesday January 13, 1998 @ 5:47
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p1


****************************************
Date:	Wednesday January 14, 1998 @ 2:46
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv21996

Modified Files:
      Tag: BRANCH_1_9_18
	spec.pl 
Log Message:
left out a piece of my last fix for inst package version number



****************************************
Date:	Wednesday January 14, 1998 @ 2:47
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv9235

Modified Files:
	spec.pl 
Log Message:
left out a piece of my last fix for inst package version number



****************************************
Date:	Wednesday January 14, 1998 @ 4:47
Author:	lkcl

Update of /data/cvs/samba/source/daemon
In directory samba:/tmp/cvs-serv1840/daemon

Log Message:
Directory /data/cvs/samba/source/daemon added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:48
Author:	lkcl

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv1631/smbd

Log Message:
Directory /data/cvs/samba/source/daemon/smbd added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:48
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd
In directory samba:/tmp/cvs-serv4783/nmbd

Log Message:
Directory /data/cvs/samba/source/daemon/nmbd added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:51
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd/netbios_client
In directory samba:/tmp/cvs-serv2200/netbios_client

Log Message:
Directory /data/cvs/samba/source/daemon/nmbd/netbios_client added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:51
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd/netbios_lib
In directory samba:/tmp/cvs-serv2200/netbios_lib

Log Message:
Directory /data/cvs/samba/source/daemon/nmbd/netbios_lib added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:51
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd/wins_server
In directory samba:/tmp/cvs-serv2200/wins_server

Log Message:
Directory /data/cvs/samba/source/daemon/nmbd/wins_server added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:52
Author:	lkcl

Update of /data/cvs/samba/source/lib
In directory samba:/tmp/cvs-serv612/lib

Log Message:
Directory /data/cvs/samba/source/lib added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/mem_man
In directory samba:/tmp/cvs-serv3275/mem_man

Log Message:
Directory /data/cvs/samba/source/lib/mem_man added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/nmb
In directory samba:/tmp/cvs-serv3275/nmb

Log Message:
Directory /data/cvs/samba/source/lib/nmb added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc
In directory samba:/tmp/cvs-serv3275/rpc

Log Message:
Directory /data/cvs/samba/source/lib/rpc added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/shmem
In directory samba:/tmp/cvs-serv3275/shmem

Log Message:
Directory /data/cvs/samba/source/lib/shmem added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/smb
In directory samba:/tmp/cvs-serv3275/smb

Log Message:
Directory /data/cvs/samba/source/lib/smb added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/ubiqx
In directory samba:/tmp/cvs-serv3275/ubiqx

Log Message:
Directory /data/cvs/samba/source/lib/ubiqx added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv3275/util

Log Message:
Directory /data/cvs/samba/source/lib/util added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv10101/client

Log Message:
Directory /data/cvs/samba/source/lib/rpc/client added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv10101/include

Log Message:
Directory /data/cvs/samba/source/lib/rpc/include added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv10101/parse

Log Message:
Directory /data/cvs/samba/source/lib/rpc/parse added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:53
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10101/server

Log Message:
Directory /data/cvs/samba/source/lib/rpc/server added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:54
Author:	lkcl

Update of /data/cvs/samba/source/utils
In directory samba:/tmp/cvs-serv2866/utils

Log Message:
Directory /data/cvs/samba/source/utils added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 4:55
Author:	lkcl

Update of /data/cvs/samba/source/sbin
In directory samba:/tmp/cvs-serv12093/sbin

Log Message:
Directory /data/cvs/samba/source/sbin added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:04
Author:	lkcl

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv1505/include

Log Message:
Directory /data/cvs/samba/source/include added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:23
Author:	lkcl

Update of /data/cvs/samba/source/codepages
In directory samba:/tmp/cvs-serv3180/codepages

Log Message:
Directory /data/cvs/samba/source/codepages added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/make_printerdef
In directory samba:/tmp/cvs-serv2967/make_printerdef

Log Message:
Directory /data/cvs/samba/source/utils/make_printerdef added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/make_smbcodepage
In directory samba:/tmp/cvs-serv2967/make_smbcodepage

Log Message:
Directory /data/cvs/samba/source/utils/make_smbcodepage added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/nmblookup
In directory samba:/tmp/cvs-serv2967/nmblookup

Log Message:
Directory /data/cvs/samba/source/utils/nmblookup added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv2967/smbclient

Log Message:
Directory /data/cvs/samba/source/utils/smbclient added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbpasswd
In directory samba:/tmp/cvs-serv2967/smbpasswd

Log Message:
Directory /data/cvs/samba/source/utils/smbpasswd added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbrun
In directory samba:/tmp/cvs-serv2967/smbrun

Log Message:
Directory /data/cvs/samba/source/utils/smbrun added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbstatus
In directory samba:/tmp/cvs-serv2967/smbstatus

Log Message:
Directory /data/cvs/samba/source/utils/smbstatus added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/testparm
In directory samba:/tmp/cvs-serv2967/testparm

Log Message:
Directory /data/cvs/samba/source/utils/testparm added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/testprns
In directory samba:/tmp/cvs-serv2967/testprns

Log Message:
Directory /data/cvs/samba/source/utils/testprns added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/torture
In directory samba:/tmp/cvs-serv2967/torture

Log Message:
Directory /data/cvs/samba/source/utils/torture added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/wsmbconf
In directory samba:/tmp/cvs-serv2967/wsmbconf

Log Message:
Directory /data/cvs/samba/source/utils/wsmbconf added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:34
Author:	lkcl

Update of /data/cvs/samba/source/utils/wsmbstatus
In directory samba:/tmp/cvs-serv2967/wsmbstatus

Log Message:
Directory /data/cvs/samba/source/utils/wsmbstatus added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:35
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/rpc
In directory samba:/tmp/cvs-serv6029/rpc

Log Message:
Directory /data/cvs/samba/source/utils/smbclient/rpc added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:35
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/smb
In directory samba:/tmp/cvs-serv6029/smb

Log Message:
Directory /data/cvs/samba/source/utils/smbclient/smb added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:35
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/smbfs
In directory samba:/tmp/cvs-serv6029/smbfs

Log Message:
Directory /data/cvs/samba/source/utils/smbclient/smbfs added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 5:35
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/tar
In directory samba:/tmp/cvs-serv6029/tar

Log Message:
Directory /data/cvs/samba/source/utils/smbclient/tar added to the repository
--> Using per-directory sticky tag `BRANCH_NTDOM'



****************************************
Date:	Wednesday January 14, 1998 @ 6:13
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10613

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Removed Files:
      Tag: BRANCH_NTDOM
	Makefile.lib access.c addtosmbpass asyncdns.c byteorder.h 
	byteorderdbg.h cgi.c charcnv.c charset.c charset.h checkos.sh 
	chgpasswd.c client.c clientgen.c clientinfo.c clientipc.c 
	clientmnt.c clientprint.c clientsmb.c clitar.c clitar.h 
	codepage_def.437 codepage_def.850 codepage_def.852 
	codepage_def.932 credentials.c dir.c display.c fault.c 
	getsmbpass.c includes.h installbin.sh installcp.sh 
	installman.sh installscripts.sh interface.c internals.doc 
	ipc.c kanji.c kanji.h loadparm.c local.h locking.c 
	locking_shm.c locking_slow.c make_printerdef.c 
	make_smbcodepage.c mangle.c md4.c membuffer.c message.c 
	mkproto.awk mksmbpasswd.sh nameannounce.c nameannounce.doc 
	namebrowse.c namebrowse.doc nameconf.c namedbname.c 
	namedbname.doc namedbresp.c namedbresp.doc namedbserver.c 
	namedbsubnet.c namedbwork.c nameelect.c nameelect.doc 
	namelogon.c namelogon.doc namepacket.c namepacket.doc 
	namequery.c namequery.doc nameresp.c nameresp.doc nameserv.c 
	nameserv.doc nameserv.h nameservreply.c nameservreply.doc 
	nameservresp.c nameservresp.doc namework.c namework.doc nmbd.c 
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_browserdb.c 
	nmbd_browsesync.c nmbd_elections.c nmbd_incomingdgrams.c 
	nmbd_incomingrequests.c nmbd_lmhosts.c nmbd_logonnames.c 
	nmbd_mynames.c nmbd_namelistdb.c nmbd_namequery.c 
	nmbd_nameregister.c nmbd_namerelease.c nmbd_nodestatus.c 
	nmbd_packets.c nmbd_processlogon.c nmbd_responserecordsdb.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_subnetdb.c 
	nmbd_winsproxy.c nmbd_winsserver.c nmbd_workgroupdb.c nmblib.c 
	nmblookup.c nmbsync.c ntclient.c ntdomain.h nterr.c nterr.h 
	params.c password.c pcap.c pipes.c predict.c print_svid.c 
	printing.c proto.h pwd_cache.c pwd_validate.c quotas.c 
	replace.c reply.c revert.sh server.c shmem.c shmem_sysv.c 
	smb.h smbadduser smbdes.c smbencrypt.c smberr.c smbpass.c 
	smbpasswd.c smbrun.c smbtar status.c system.c testparm.c 
	testprns.c time.c torture.c trans2.c trans2.h ufc.c uid.c 
	uninstallbin.sh uninstallcp.sh uninstallman.sh 
	uninstallscripts.sh updatesmbpasswd.sh username.c util.c 
	version.h vt_mode.c vt_mode.h wsmbconf.c wsmbstatus.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:13
Author:	lkcl

Update of /data/cvs/samba/source/codepages
In directory samba:/tmp/cvs-serv10613/codepages

Added Files:
      Tag: BRANCH_NTDOM
	codepage_def.437 codepage_def.850 codepage_def.852 
	codepage_def.932 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:13
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd
In directory samba:/tmp/cvs-serv10613/daemon/nmbd

Added Files:
      Tag: BRANCH_NTDOM
	asyncdns.c namelistdb.c nameserv.h nmbd.c packets.c 
	responserecordsdb.c subnetdb.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd/netbios_client
In directory samba:/tmp/cvs-serv10613/daemon/nmbd/netbios_client

Added Files:
      Tag: BRANCH_NTDOM
	become_dmb.c become_lmb.c browserdb.c browsesync.c elections.c 
	incomingdgrams.c incomingrequests.c lmhosts.c logonnames.c 
	mynames.c processlogon.c sendannounce.c serverlistdb.c 
	winsproxy.c workgroupdb.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd/netbios_lib
In directory samba:/tmp/cvs-serv10613/daemon/nmbd/netbios_lib

Added Files:
      Tag: BRANCH_NTDOM
	namequery.c nameregister.c namerelease.c nodestatus.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/daemon/nmbd/wins_server
In directory samba:/tmp/cvs-serv10613/daemon/nmbd/wins_server

Added Files:
      Tag: BRANCH_NTDOM
	winsserver.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv10613/daemon/smbd

Added Files:
      Tag: BRANCH_NTDOM
	chgpasswd.c dir.c ipc.c mangle.c message.c password.c pipes.c 
	predict.c printing.c pwd_validate.c quotas.c reply.c server.c 
	trans2.c ufc.c uid.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/lib/mem_man
In directory samba:/tmp/cvs-serv10613/lib/mem_man

Added Files:
      Tag: BRANCH_NTDOM
	mem_man.c mem_man.h 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/lib/nmb
In directory samba:/tmp/cvs-serv10613/lib/nmb

Added Files:
      Tag: BRANCH_NTDOM
	namequery.c nmblib.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc
In directory samba:/tmp/cvs-serv10613/lib/rpc

Added Files:
      Tag: BRANCH_NTDOM
	CODING.STANDARDS 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:14
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv10613/lib/rpc/client

Added Files:
      Tag: BRANCH_NTDOM
	cli_login.c cli_lsarpc.c cli_netlogon.c cli_pipe.c cli_samr.c 
	cli_srvsvc.c cli_wkssvc.c ntclienttrust.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:15
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv10613/lib/rpc/parse

Added Files:
      Tag: BRANCH_NTDOM
	parse_lsa.c parse_misc.c parse_net.c parse_prs.c parse_reg.c 
	parse_rpc.c parse_samr.c parse_srv.c parse_wks.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:15
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10613/lib/rpc/server

Added Files:
      Tag: BRANCH_NTDOM
	srv_lsa.c srv_lsa_hnd.c srv_netlog.c srv_pipe_hnd.c srv_reg.c 
	srv_samr.c srv_srvsvc.c srv_util.c srv_wkssvc.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:15
Author:	lkcl

Update of /data/cvs/samba/source/lib/shmem
In directory samba:/tmp/cvs-serv10613/lib/shmem

Added Files:
      Tag: BRANCH_NTDOM
	locking.c locking_shm.c locking_slow.c shmem.c shmem_sysv.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:15
Author:	lkcl

Update of /data/cvs/samba/source/lib/smb
In directory samba:/tmp/cvs-serv10613/lib/smb

Added Files:
      Tag: BRANCH_NTDOM
	clientgen.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:15
Author:	lkcl

Update of /data/cvs/samba/source/lib/ubiqx
In directory samba:/tmp/cvs-serv10613/lib/ubiqx

Added Files:
      Tag: BRANCH_NTDOM
	COPYING.LIB README.UBI ubi_AVLtree.c ubi_AVLtree.h 
	ubi_BinTree.c ubi_BinTree.h ubi_SplayTree.c ubi_SplayTree.h 
	ubi_StackQueue.c ubi_StackQueue.h ubi_dLinkList.c 
	ubi_dLinkList.h ubi_sLinkList.c ubi_sLinkList.h 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:16
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv10613/lib/util

Added Files:
      Tag: BRANCH_NTDOM
	access.c charcnv.c charset.c credentials.c fault.c 
	getsmbpass.c interface.c kanji.c loadparm.c md4.c membuffer.c 
	nterr.c params.c pcap.c print_svid.c pwd_cache.c replace.c 
	smbdes.c smbencrypt.c smberr.c smbpass.c system.c time.c 
	username.c util.c vt_mode.c vt_mode.h 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:16
Author:	lkcl

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv10613/mem_man

Removed Files:
	mem_man.c mem_man.h 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv10613/rpc_pipes

Removed Files:
      Tag: BRANCH_NTDOM
	CODING.STANDARDS lsa_hnd.c lsaparse.c netparse.c 
	ntclientlogin.c ntclientlsa.c ntclientnet.c ntclientpipe.c 
	ntclientsamr.c ntclientsrvsvc.c ntclientstatus.c 
	ntclienttrust.c ntclientwkssvc.c pipe_hnd.c pipenetlog.c 
	pipentlsa.c pipereg.c pipesamr.c pipesrvsvc.c pipesrvutil.c 
	pipeutil.c pipewkssvc.c prsparse.c regparse.c rpc_dce.h 
	rpc_lsa.h rpc_misc.h rpc_netlogon.h rpc_reg.h rpc_samr.h 
	rpc_srvsvc.h rpc_wkssvc.h rpcparse.c samrparse.c smbparse.c 
	srvparse.c wksparse.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/sbin
In directory samba:/tmp/cvs-serv10613/sbin

Added Files:
      Tag: BRANCH_NTDOM
	addtosmbpass checkos.sh installbin.sh installcp.sh 
	installman.sh installscripts.sh mkproto.awk mkproto.sh 
	mksmbpasswd.sh revert.sh smbtar uninstallbin.sh uninstallcp.sh 
	uninstallman.sh uninstallscripts.sh updatesmbpasswd.sh 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv10613/ubiqx

Removed Files:
      Tag: BRANCH_NTDOM
	COPYING.LIB README.UBI ubi_AVLtree.c ubi_AVLtree.h 
	ubi_BinTree.c ubi_BinTree.h ubi_Cache.c ubi_Cache.h 
	ubi_SplayTree.c ubi_SplayTree.h ubi_StackQueue.c 
	ubi_StackQueue.h ubi_dLinkList.c ubi_dLinkList.h 
	ubi_sLinkList.c ubi_sLinkList.h 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/utils/make_printerdef
In directory samba:/tmp/cvs-serv10613/utils/make_printerdef

Added Files:
      Tag: BRANCH_NTDOM
	make_printerdef.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/utils/make_smbcodepage
In directory samba:/tmp/cvs-serv10613/utils/make_smbcodepage

Added Files:
      Tag: BRANCH_NTDOM
	make_smbcodepage.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv10613/utils/smbclient

Added Files:
      Tag: BRANCH_NTDOM
	client.c cmd_info.c display.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:17
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/rpc
In directory samba:/tmp/cvs-serv10613/utils/smbclient/rpc

Added Files:
      Tag: BRANCH_NTDOM
	cmd_lsarpc.c cmd_netlogon.c cmd_samr.c cmd_srvsvc.c 
	cmd_wkssvc.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/smb
In directory samba:/tmp/cvs-serv10613/utils/smbclient/smb

Added Files:
      Tag: BRANCH_NTDOM
	cmd_ipc.c cmd_print.c cmd_smb.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/smbfs
In directory samba:/tmp/cvs-serv10613/utils/smbclient/smbfs

Added Files:
      Tag: BRANCH_NTDOM
	cmd_mount.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient/tar
In directory samba:/tmp/cvs-serv10613/utils/smbclient/tar

Added Files:
      Tag: BRANCH_NTDOM
	clitar.h cmd_tar.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbpasswd
In directory samba:/tmp/cvs-serv10613/utils/smbpasswd

Added Files:
      Tag: BRANCH_NTDOM
	smbpasswd.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbrun
In directory samba:/tmp/cvs-serv10613/utils/smbrun

Added Files:
      Tag: BRANCH_NTDOM
	smbrun.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbstatus
In directory samba:/tmp/cvs-serv10613/utils/smbstatus

Added Files:
      Tag: BRANCH_NTDOM
	status.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/testparm
In directory samba:/tmp/cvs-serv10613/utils/testparm

Added Files:
      Tag: BRANCH_NTDOM
	testparm.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/testprns
In directory samba:/tmp/cvs-serv10613/utils/testprns

Added Files:
      Tag: BRANCH_NTDOM
	testprns.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/torture
In directory samba:/tmp/cvs-serv10613/utils/torture

Added Files:
      Tag: BRANCH_NTDOM
	torture.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/wsmbconf
In directory samba:/tmp/cvs-serv10613/utils/wsmbconf

Added Files:
      Tag: BRANCH_NTDOM
	cgi.c wsmbconf.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:18
Author:	lkcl

Update of /data/cvs/samba/source/utils/wsmbstatus
In directory samba:/tmp/cvs-serv10613/utils/wsmbstatus

Added Files:
      Tag: BRANCH_NTDOM
	wsmbstatus.c 
Log Message:

shuffling some files about.



****************************************
Date:	Wednesday January 14, 1998 @ 6:47
Author:	jra

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv13902

Added Files:
	mem_man.c mem_man.h 
Log Message:
Re-adding files that luke removed by *mistake* !

Jeremy.



****************************************
Date:	Wednesday January 14, 1998 @ 6:50
Author:	lkcl

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv16691

Added Files:
      Tag: BRANCH_NTDOM
	byteorder.h byteorderdbg.h charset.h clnt_proto.h includes.h 
	kanji.h local.h lock_proto.h nmb_lib_proto.h nmbd_proto.h 
	ntdomain.h nterr.h proto.h rpc_cli_proto.h rpc_lib_proto.h 
	rpc_srv_proto.h smb.h smb_lib_proto.h smbd_proto.h 
	stat_proto.h trans2.h util_proto.h version.h wsmb_proto.h 
Log Message:

missed some files in the shuffle, somehow



****************************************
Date:	Wednesday January 14, 1998 @ 6:57
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv2384

Added Files:
      Tag: BRANCH_NTDOM
	rpc_dce.h rpc_lsa.h rpc_misc.h rpc_netlogon.h rpc_reg.h 
	rpc_samr.h rpc_srvsvc.h rpc_wkssvc.h 
Log Message:

adding more files missed in first shuffle



****************************************
Date:	Wednesday January 14, 1998 @ 7:01
Author:	lkcl

Update of /data/cvs/samba/source/utils/nmblookup
In directory samba:/tmp/cvs-serv9096

Added Files:
      Tag: BRANCH_NTDOM
	nmblookup.c 
Log Message:

missed another file in the shuffle



****************************************
Date:	Wednesday January 14, 1998 @ 7:17
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv16395

Modified Files:
	README idb.pl sambalp smb.conf 
Removed Files:
	psfixes.pl 
Log Message:
README		describe inst package version number correctly
idb.pl		fix some permission problems with shell scripts
sambalp		new script supplied by Alan Stebbens that can run setuid to 
		properly print banner page for known users.
smb.conf 	use new sambalp by default.
psfixes.pl	remove - now handled by sambalp



****************************************
Date:	Wednesday January 14, 1998 @ 7:22
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv14882

Modified Files:
      Tag: BRANCH_1_9_18
	README idb.pl sambalp smb.conf 
Removed Files:
      Tag: BRANCH_1_9_18
	psfixes.pl 
Log Message:
README		describe inst package version number correctly
idb.pl		fix some permission problems with shell scripts
sambalp		new script supplied by Alan Stebbens that can run setuid to
		properly print banner page for known users.
smb.conf	use new sambalp by default.
psfixes.pl	remove - now handled by sambalp



****************************************
Date:	Thursday January 15, 1998 @ 4:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15516

Modified Files:
	reply.c server.c 
Log Message:
reply.c: Added timestamp to attack warning.
server.c: Fixed security=share problem where the vuid was still being
looked at.
Jeremy.



****************************************
Date:	Thursday January 15, 1998 @ 5:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14969

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
server.c: Added fix to stop security=share from using vuid.
Jeremy



****************************************
Date:	Friday January 16, 1998 @ 4:08
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv11381

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

got the called and calling names the wrong way round.



****************************************
Date:	Friday January 16, 1998 @ 4:09
Author:	lkcl

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv6974

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

"dynamic" memory flag missing from calls to mem_create().



****************************************
Date:	Friday January 16, 1998 @ 4:14
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv7527

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

some direct calls to mem_man.c debug routines that probably
shouldn't be there.



****************************************
Date:	Friday January 16, 1998 @ 6:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9239

Modified Files:
	Makefile charset.c clientutil.c includes.h make_smbcodepage.c 
	pcap.c 
Log Message:
Makefile: Added new codepage - 866.
charset.c: Supporting code for codepage 866.
clientutil.c: Fix compile bug in little-used #define.
includes.h: Supporting code for codepage 866.
make_smbcodepage.c: Supporting code for codepage 866.
pcap.c: Fix bug for lpstat.
Jeremy.



****************************************
Date:	Friday January 16, 1998 @ 6:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15119

Added Files:
	codepage_def.866 
Log Message:
Adding new codepage file.
Jeremy.



****************************************
Date:	Friday January 16, 1998 @ 6:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16024

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile charset.c clientutil.c includes.h make_smbcodepage.c 
	pcap.c print_svid.c 
Added Files:
      Tag: BRANCH_1_9_18
	codepage_def.866 
Log Message:
Makefile:
charset.c:
includes.h:
make_smbcodepage.c:
codepage_def.866: Added new codepage 866.
clientutil.c: Fixed compile bug in rarely #defined code.
pcap.c: Fixed lpstat output bug.
print_svid.c: Fix warnings.
Jeremy.



****************************************
Date:	Friday January 16, 1998 @ 7:36
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13875

Modified Files:
      Tag: BRANCH_NTDOM
	NTDOMAIN.txt 
Log Message:

updating instructions



****************************************
Date:	Friday January 16, 1998 @ 7:42
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv21132

Modified Files:
      Tag: BRANCH_NTDOM
	membuffer.c 
Log Message:

misuse of the dynamic flag in mem_realloc_data.



****************************************
Date:	Friday January 16, 1998 @ 8:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27122

Modified Files:
	proto.h reply.c server.c smbdes.c 
Log Message:
reply.c:
server.c: Test fix for NT worstation SMBmv oplock bug.
smbdes.c: Addition of 'forward' parameter in preparation of allowing
password change.
Jeremy.



****************************************
Date:	Saturday January 17, 1998 @ 7:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24761

Modified Files:
	charcnv.c chgpasswd.c ipc.c proto.h server.c smbdes.c 
	smbpass.c util.c 
Log Message:
charcnv.c: Added codepage 866 support onto the file system. Patch
from Max Khon <max@iclub.nsu.ru>.
chgpasswd.c: Allow old RAP change password to work with encrypted
passwords. Samba can now allow Windows 95/NT clients to securely
change the Lanman password ! (But not the NT hash - that gets lost).
ipc.c:
smbdes.c:
smbpass.c: Support for the above.
server.c: #ifdef'ed out fix for NT redirector bug.
util.c: Fix NIS bug with server name.
Jeremy.



****************************************
Date:	Saturday January 17, 1998 @ 11:42
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv5276

Modified Files:
	Support.txt 
Log Message:
Added italian consultancy.
Jeremy.



****************************************
Date:	Saturday January 17, 1998 @ 11:45
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4763

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Italian consulting firm.
Jeremy.



****************************************
Date:	Saturday January 17, 1998 @ 22:24
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv22465/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

cli_open read / write / read-write bit masks
exit(-1) when connection cannot be made, in smbclient.




****************************************
Date:	Saturday January 17, 1998 @ 22:24
Author:	lkcl

Update of /data/cvs/samba/source/lib/smb
In directory samba:/tmp/cvs-serv22465/lib/smb

Modified Files:
      Tag: BRANCH_NTDOM
	clientgen.c 
Log Message:

cli_open read / write / read-write bit masks
exit(-1) when connection cannot be made, in smbclient.




****************************************
Date:	Saturday January 17, 1998 @ 22:25
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv22465/utils/smbclient

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

cli_open read / write / read-write bit masks
exit(-1) when connection cannot be made, in smbclient.




****************************************
Date:	Sunday January 18, 1998 @ 2:13
Author:	lkcl

Update of /data/cvs/samba/source/lib/smb
In directory samba:/tmp/cvs-serv23242

Added Files:
      Tag: BRANCH_NTDOM
	client_file_system.c client_ipc.c client_mount.c 
	client_print.c client_setup.c 
Removed Files:
      Tag: BRANCH_NTDOM
	clientgen.c 
Log Message:

split clientgen.c down.



****************************************
Date:	Sunday January 18, 1998 @ 6:28
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12385

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:

makefile changes for lib/smb/client_*.c



****************************************
Date:	Sunday January 18, 1998 @ 6:29
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2782

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:

tidying up.  added a "make archive" because it's a pain to do this
manually _every_ day.  for development use only.



****************************************
Date:	Tuesday January 20, 1998 @ 3:49
Author:	lkcl

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv12720/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	chgpasswd.c ipc.c reply.c server.c 
Log Message:

committing a crime: a dual-purpose commit.

1) keeping up to date with the main cvs branch
2) adding compilation option to be able to use ssh's version of arcfour.
   anders blomdell noticed a possible problem with the arcfour code.
   it may be memory over-runs: this is to double-check.



****************************************
Date:	Tuesday January 20, 1998 @ 3:49
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv12720/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	charcnv.c charset.c pcap.c smbdes.c smbencrypt.c smbpass.c 
	util.c 
Log Message:

committing a crime: a dual-purpose commit.

1) keeping up to date with the main cvs branch
2) adding compilation option to be able to use ssh's version of arcfour.
   anders blomdell noticed a possible problem with the arcfour code.
   it may be memory over-runs: this is to double-check.



****************************************
Date:	Tuesday January 20, 1998 @ 3:49
Author:	lkcl

Update of /data/cvs/samba/source/utils/make_smbcodepage
In directory samba:/tmp/cvs-serv12720/utils/make_smbcodepage

Modified Files:
      Tag: BRANCH_NTDOM
	make_smbcodepage.c 
Log Message:

committing a crime: a dual-purpose commit.

1) keeping up to date with the main cvs branch
2) adding compilation option to be able to use ssh's version of arcfour.
   anders blomdell noticed a possible problem with the arcfour code.
   it may be memory over-runs: this is to double-check.



****************************************
Date:	Tuesday January 20, 1998 @ 4:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23390

Modified Files:
	nmbd_browsesync.c 
Log Message:
Fixed bug found by Bernhard Laeser where we are announcing to the wrong
DMB name.
Jeremy.



****************************************
Date:	Wednesday January 21, 1998 @ 9:17
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13504

Modified Files:
	make_printerdef.c 
Log Message:
fix problems with using inf files from HP for DesignJet 750C (C3195A)



****************************************
Date:	Wednesday January 21, 1998 @ 9:20
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8402

Modified Files:
      Tag: BRANCH_1_9_18
	make_printerdef.c 
Log Message:
fix bug with using inf files from HP for DesignJet 750C (C3195A) 



****************************************
Date:	Wednesday January 21, 1998 @ 9:46
Author:	herb

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4296

Modified Files:
	PRINTER_DRIVER.txt 
Log Message:
fixed a few typos in the instructions and added a longer explaination for
how the printers.def entry is constructed.



****************************************
Date:	Wednesday January 21, 1998 @ 9:48
Author:	herb

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13047

Modified Files:
      Tag: BRANCH_1_9_18
	PRINTER_DRIVER.txt 
Log Message:
fixed a few typos in the instructions and added a longer explaination for
how the printers.def entry is constructed.



****************************************
Date:	Wednesday January 21, 1998 @ 12:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20694

Modified Files:
	nmbd_packets.c 
Log Message:
Fixed send_mailslot code where src_type was always being set to zero.
Fix found by Bernhard Laeser <nlaesb@ascom.ch>.
Jeremy.



****************************************
Date:	Thursday January 22, 1998 @ 2:51
Author:	lkcl

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv22728

Modified Files:
      Tag: BRANCH_NTDOM
	includes.h rpc_cli_proto.h smb_lib_proto.h smbd_proto.h 
	util_proto.h 
Log Message:

tag problems in the CVS directory.  had to re-commit these files.




****************************************
Date:	Thursday January 22, 1998 @ 3:33
Author:	vlendec

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27314/source

Modified Files:
      Tag: BRANCH_1_9_18
	smbmnt.c smbmount.c 
Log Message:

Changes from Bill Hawes:

- Added -s flag to smbmnt. For information only. To me this looks
  suid-safe.

- Bug fix in smbmount code.

Andrew's suggestion:

- Added error message if compiled with Linux < 2.1.70. Andrew, I did
  not yet look at the glibc stuff. I first want to look at glibc myself
  first.




****************************************
Date:	Thursday January 22, 1998 @ 3:47
Author:	vlendec

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11532/docs

Modified Files:
	BROWSING.txt 
Log Message:

Changes from Bill Hawes:

- Added -s flag to smbmnt. For information only. To me this looks
  suid-safe.

- Bug fix in smbmount code.

- Added error message if compiled with Linux < 2.1.70. Andrew, I did
  not yet look at the glibc stuff. I first want to look at glibc myself
  first.



****************************************
Date:	Thursday January 22, 1998 @ 3:47
Author:	vlendec

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11532/source

Modified Files:
	smbmnt.c smbmount.c 
Log Message:

Changes from Bill Hawes:

- Added -s flag to smbmnt. For information only. To me this looks
  suid-safe.

- Bug fix in smbmount code.

- Added error message if compiled with Linux < 2.1.70. Andrew, I did
  not yet look at the glibc stuff. I first want to look at glibc myself
  first.



****************************************
Date:	Thursday January 22, 1998 @ 7:33
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25384

Modified Files:
	Support.txt 
Log Message:
Added Romanian consultant.
Jeremy.



****************************************
Date:	Thursday January 22, 1998 @ 7:34
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4567

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Romanian consultant.
Jeremy



****************************************
Date:	Thursday January 22, 1998 @ 9:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18534

Modified Files:
	printing.c proto.h server.c util.c 
Log Message:
printing.c: Bug fix for lpng reporting.
server.c: Large fix for oplock deadlock bug.
util.c: Fix for oplock deadlock bug.
Jeremy.



****************************************
Date:	Thursday January 22, 1998 @ 13:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15007

Modified Files:
	Makefile asyncdns.c byteorder.h cgi.c charcnv.c charset.c 
	charset.h chgpasswd.c client.c clientgen.c clientutil.c 
	clitar.c credentials.c dir.c fault.c getsmbpass.c includes.h 
	interface.c ipc.c kanji.c kanji.h loadparm.c locking.c 
	locking_shm.c locking_slow.c make_printerdef.c 
	make_smbcodepage.c mangle.c md4.c message.c nameconf.c 
	namequery.c nameserv.h nmbd.c nmbd_become_dmb.c 
	nmbd_become_lmb.c nmbd_browserdb.c nmbd_browsesync.c 
	nmbd_elections.c nmbd_incomingdgrams.c nmbd_incomingrequests.c 
	nmbd_lmhosts.c nmbd_logonnames.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_nodestatus.c nmbd_packets.c 
	nmbd_processlogon.c nmbd_responserecordsdb.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_subnetdb.c 
	nmbd_winsproxy.c nmbd_winsserver.c nmbd_workgroupdb.c nmblib.c 
	nmblookup.c ntclient.c params.c password.c pcap.c pipes.c 
	predict.c print_svid.c printing.c quotas.c replace.c reply.c 
	server.c shmem.c shmem_sysv.c smb.h smbdes.c smbencrypt.c 
	smberr.c smbmnt.c smbmount.c smbpass.c smbpasswd.c smbrun.c 
	smbumount.c status.c system.c testparm.c testprns.c time.c 
	torture.c trans2.c trans2.h ufc.c uid.c username.c util.c 
	vt_mode.c wsmbconf.c wsmbstatus.c 
Log Message:
This is *not* a big change (although it looks like one).
This is merely updating the Copyright statements from 1997 to 1998.
It's a once a year thing :-).

NO OTHER CHANGES WERE MADE.

Jeremy.




****************************************
Date:	Friday January 23, 1998 @ 0:00
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv1098

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba-make.patch samba.spec smb.conf 
Log Message:

Updated ~samba/packaging/redhat/RH50:
	makerpms.sh samba-make.patch samba.spec smb.conf 
Preparing for release of 1.9.18p2



****************************************
Date:	Friday January 23, 1998 @ 0:07
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv9878

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Added codepage 866 to samba.spec file



****************************************
Date:	Friday January 23, 1998 @ 0:21
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv10824

Modified Files:
	makerpms.sh samba-make.patch samba.spec smb.conf 
Log Message:
Updating main souce tree with recent RedHat 5.0 RPM packaging updates.
Andrew, please check the mods to the smb.conf file.
John T.



****************************************
Date:	Friday January 23, 1998 @ 5:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22173

Modified Files:
	nmbd.c server.c 
Log Message:
nmbd.c, server.c: Added #ifndef MEM_MAN around code that sets the SIGUSR1
and SIGUSR2 signals. This allows the MEM_MAN code to be compiled in and
the memory debug feature to be used with SIGUSR1.
Jeremy.



****************************************
Date:	Friday January 23, 1998 @ 5:59
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3361

Modified Files:
	Support.txt 
Log Message:
Changed phone numbers for BitWizard.
Jeremy.



****************************************
Date:	Friday January 23, 1998 @ 7:39
Author:	herb

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv22767

Modified Files:
      Tag: BRANCH_1_9_18
	PRINTER_DRIVER.txt 
Log Message:
minor fixes to documentation



****************************************
Date:	Friday January 23, 1998 @ 7:52
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19738

Modified Files:
      Tag: BRANCH_1_9_18
	make_printerdef.c 
Log Message:
updated to work correctly with some HP printer inf files



****************************************
Date:	Friday January 23, 1998 @ 7:58
Author:	herb

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv5554

Modified Files:
	PRINTER_DRIVER.txt 
Log Message:
sync with changes to 1.9.18 tree 



****************************************
Date:	Friday January 23, 1998 @ 7:59
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3832

Modified Files:
	make_printerdef.c 
Log Message:
changes to correctly use some HP printer inf files



****************************************
Date:	Friday January 23, 1998 @ 8:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25185

Modified Files:
      Tag: BRANCH_1_9_18
	asyncdns.c byteorder.h cgi.c charcnv.c charset.c charset.h 
	chgpasswd.c client.c clientgen.c clientutil.c clitar.c 
	credentials.c dir.c fault.c getsmbpass.c includes.h 
	interface.c ipc.c kanji.c kanji.h loadparm.c locking.c 
	locking_shm.c locking_slow.c make_printerdef.c 
	make_smbcodepage.c mangle.c md4.c message.c nameconf.c 
	namequery.c nameserv.h nmbd.c nmbd_become_dmb.c 
	nmbd_become_lmb.c nmbd_browserdb.c nmbd_browsesync.c 
	nmbd_elections.c nmbd_incomingdgrams.c nmbd_incomingrequests.c 
	nmbd_lmhosts.c nmbd_logonnames.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_namequery.c nmbd_nameregister.c 
	nmbd_namerelease.c nmbd_nodestatus.c nmbd_packets.c 
	nmbd_processlogon.c nmbd_responserecordsdb.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_subnetdb.c 
	nmbd_winsproxy.c nmbd_winsserver.c nmbd_workgroupdb.c nmblib.c 
	nmblookup.c ntclient.c params.c password.c pcap.c pipes.c 
	predict.c print_svid.c printing.c proto.h quotas.c replace.c 
	reply.c server.c shmem.c shmem_sysv.c smb.h smbdes.c 
	smbencrypt.c smberr.c smbmnt.c smbmount.c smbpass.c 
	smbpasswd.c smbrun.c smbumount.c status.c system.c testparm.c 
	testprns.c time.c torture.c trans2.c trans2.h ufc.c uid.c 
	username.c util.c vt_mode.c wsmbconf.c wsmbstatus.c 
Log Message:
All: Copyright updates - THIS WILL BE ROLLED BACK to 1997 if Andrew requests !
charcnv.c: Russian language updates.
chgpasswd.c: Fixed change password from NT.
ipc.c: Warning fixes, fixed change password from NT.
nmbd.c: Allowed compile with MEM_MAN and SIGUSR1.
nmbd_browsesync.c: Fix for source nbt type.
nmbd_packets.c: Fix for source nbt type.
print_svid.c: lp output processing fix.
printing.c: lprng fix.
reply.c, server.c, util.c : oplock deadlock bugfix.
smbdes.c: Fixed change password from NT.
smbpass.c: Fixed change password from NT.
make_printerdef.c: Fixed warning messages from gcc with assignment in if.

This is the merge of what is in the main branch
to the 1.9.18 branch to get ready for 1.9.18p2.

Note that if Andrew requests we will roll back
the (C) changes.

Jeremy.




****************************************
Date:	Friday January 23, 1998 @ 8:35
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13017

Modified Files:
	make_printerdef.c 
Log Message:
Fixed warnings with gcc (assignments inside if statements).
Jeremy.



****************************************
Date:	Friday January 23, 1998 @ 13:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13720

Modified Files:
	password.c 
Log Message:
Changed code that truncates salt after 2 characters so that it becomes
HPUX specific. This fixes a bug with FreeBSD md5 crypt implementation
that needs all of the password characters.
It seems better to make this an HPUX specific thing.
Jeremy.



****************************************
Date:	Friday January 23, 1998 @ 13:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18635

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Changed code that truncates salt after 2 characters so that it becomes
HPUX specific. This fixes a bug with FreeBSD md5 crypt implementation
that needs all of the password characters.
It seems better to make this an HPUX specific thing.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 0:26
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv23294/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Updated to include missed man pages and to add code page file maintenance
lines.



****************************************
Date:	Saturday January 24, 1998 @ 0:26
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv23294/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Updated to include missed man pages and to add code page file maintenance
lines.



****************************************
Date:	Saturday January 24, 1998 @ 8:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5266

Modified Files:
	proto.h reply.c time.c trans2.c 
Log Message:
Added get_create_time() function to time.c.
This gets the minimum timestamp associated with a file.
reply.c and trans2.c then return this as the create
time. Designed to fix problems with VC++ and others.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 9:28
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22796

Modified Files:
      Tag: BRANCH_1_9_18
	proto.h reply.c time.c trans2.c 
Log Message:
Added the minimum time from a stat structure for create
time.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 12:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28055

Modified Files:
	loadparm.c 
Log Message:
Fix for memory leak in loadparm.c - donated by Branko Cibej <branko.cibej@hermes.si>
I checked this out and it looks ok - the bzero() in init_service() was
overwriting the pointers pservice->szService and pservice->copymap
that should have been freed in copy_service() the line later. This 
fix frees pservice->szService and pservice->copymap inside free_service() 
and sets them to zero so they won't be freed again.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 12:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24946

Modified Files:
	loadparm.c 
Log Message:
Added log message so we can tell when free_service is called.
Just in case of problems.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 12:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18619

Modified Files:
      Tag: BRANCH_1_9_18
	loadparm.c 
Log Message:
Added memory leak fix from Branko Cibej <branko.cibej@hermes.si>, plus
an extre debug message - both in free_service().
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 13:15
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv17651

Modified Files:
      Tag: BRANCH_1_9_18
	Manifest Roadmap WHATSNEW.txt 
Log Message:
Updated Manifest for 1.9.18.
Updated Roadmap for 1.9.18.
Updated WHATSNEW.txt for 1.9.18p2.
Kept Support.txt up do date.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 13:15
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv17651/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Updated Manifest for 1.9.18.
Updated Roadmap for 1.9.18.
Updated WHATSNEW.txt for 1.9.18p2.
Kept Support.txt up do date.
Jeremy.



****************************************
Date:	Saturday January 24, 1998 @ 17:16
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv27752

Modified Files:
      Tag: BRANCH_1_9_18
	Instructions 
Log Message:
Trying to get Red Hat packaging lint free this time!



****************************************
Date:	Saturday January 24, 1998 @ 17:16
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv27752/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh 
Log Message:
Trying to get Red Hat packaging lint free this time!



****************************************
Date:	Sunday January 25, 1998 @ 15:36
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21660

Modified Files:
	trans2.c 
Log Message:
always align both the parameter and data bytes on a 4 byte boundary in
trans2 responses.

I'm not at all convinced this was causing problems, because
observations of Win95 show that it produces totally non-aligned
paramater bytes and 2 byte aligned data bytes. We were previously
always producing 2 byte aligned data and parameter bytes so we already
had "better" alignment than Win95.

lets hope no clients rely on servers producing unaligned data or
parameters!



****************************************
Date:	Sunday January 25, 1998 @ 15:44
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22159

Modified Files:
      Tag: BRANCH_1_9_18
	trans2.c 
Log Message:
added to 1.9.18 as well

------

always align both the parameter and data bytes on a 4 byte boundary in
trans2 responses.

I'm not at all convinced this was causing problems, because
observations of Win95 show that it produces totally non-aligned
paramater bytes and 2 byte aligned data bytes. We were previously
always producing 2 byte aligned data and parameter bytes so we already
had "better" alignment than Win95.

lets hope no clients rely on servers producing unaligned data or
parameters!



****************************************
Date:	Sunday January 25, 1998 @ 23:10
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv4789

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec smb.conf smb.init 
Log Message:
Many mods to clean up RPM build process.
Includes contributions by Manoj Kasichainula <manojk@io.com>



****************************************
Date:	Sunday January 25, 1998 @ 23:31
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv2357

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec smb.conf 
Log Message:
More fixes in preparation for release of 1.9.18p2



****************************************
Date:	Monday January 26, 1998 @ 0:46
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv26776

Modified Files:
      Tag: BRANCH_1_9_18
	Manifest WHATSNEW.txt 
Log Message:
Updating all files in preparation for release of 1.9.18p2.
These changes bring Package production facilities for Red Hat Linux
4.2 and 5.0 into line.
All changes recently made to the Red Hat Linux smb.conf file now reflected
in the master smb.conf.default file.
Support change of a phone number only.
WHATSNEW updated to reflect change to smb.conf.default file.



****************************************
Date:	Monday January 26, 1998 @ 0:46
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26776/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Updating all files in preparation for release of 1.9.18p2.
These changes bring Package production facilities for Red Hat Linux
4.2 and 5.0 into line.
All changes recently made to the Red Hat Linux smb.conf file now reflected
in the master smb.conf.default file.
Support change of a phone number only.
WHATSNEW updated to reflect change to smb.conf.default file.



****************************************
Date:	Monday January 26, 1998 @ 0:46
Author:	jht

Update of /data/cvs/samba/examples
In directory samba:/tmp/cvs-serv26776/examples

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.default 
Log Message:
Updating all files in preparation for release of 1.9.18p2.
These changes bring Package production facilities for Red Hat Linux
4.2 and 5.0 into line.
All changes recently made to the Red Hat Linux smb.conf file now reflected
in the master smb.conf.default file.
Support change of a phone number only.
WHATSNEW updated to reflect change to smb.conf.default file.



****************************************
Date:	Monday January 26, 1998 @ 0:46
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv26776/packaging/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec smb.conf 
Added Files:
      Tag: BRANCH_1_9_18
	smbusers 
Log Message:
Updating all files in preparation for release of 1.9.18p2.
These changes bring Package production facilities for Red Hat Linux
4.2 and 5.0 into line.
All changes recently made to the Red Hat Linux smb.conf file now reflected
in the master smb.conf.default file.
Support change of a phone number only.
WHATSNEW updated to reflect change to smb.conf.default file.



****************************************
Date:	Monday January 26, 1998 @ 0:46
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv26776/packaging/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec smb.conf 
Added Files:
      Tag: BRANCH_1_9_18
	smbusers 
Log Message:
Updating all files in preparation for release of 1.9.18p2.
These changes bring Package production facilities for Red Hat Linux
4.2 and 5.0 into line.
All changes recently made to the Red Hat Linux smb.conf file now reflected
in the master smb.conf.default file.
Support change of a phone number only.
WHATSNEW updated to reflect change to smb.conf.default file.



****************************************
Date:	Monday January 26, 1998 @ 0:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat
In directory samba:/tmp/cvs-serv16124

Modified Files:
	Instructions 
Log Message:
Updating 1.9.19 tree with changes made to 1.9.18 branch.



****************************************
Date:	Monday January 26, 1998 @ 0:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv16124/RH42

Modified Files:
	makerpms.sh samba.spec smb.conf 
Log Message:
Updating 1.9.19 tree with changes made to 1.9.18 branch.



****************************************
Date:	Monday January 26, 1998 @ 0:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv16124/RH50

Modified Files:
	makerpms.sh samba.spec smb.conf smb.init 
Log Message:
Updating 1.9.19 tree with changes made to 1.9.18 branch.



****************************************
Date:	Monday January 26, 1998 @ 0:54
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv9046/RH42

Modified Files:
	makerpms.sh samba.spec 
Added Files:
	smbusers 
Log Message:
More updates to get 1.9.19 ready for RPM production.



****************************************
Date:	Monday January 26, 1998 @ 0:54
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv9046/RH50

Modified Files:
	makerpms.sh samba.spec 
Added Files:
	smbusers 
Log Message:
More updates to get 1.9.19 ready for RPM production.



****************************************
Date:	Monday January 26, 1998 @ 1:45
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv3712/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_samr.c 
Log Message:

patch from Anders Blomdell <anders.blomdell@control.lth.se> to fix
ordering of SAM_USER_INFO_21 parsing and server response.



****************************************
Date:	Monday January 26, 1998 @ 1:45
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv3712/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_samr.c 
Log Message:

patch from Anders Blomdell <anders.blomdell@control.lth.se> to fix
ordering of SAM_USER_INFO_21 parsing and server response.



****************************************
Date:	Monday January 26, 1998 @ 4:50
Author:	vlendec

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4606/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smbmnt.8 smbmount.8 
Log Message:

Some manpage fixes by Bill Hawes




****************************************
Date:	Monday January 26, 1998 @ 4:53
Author:	vlendec

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv22058/docs

Modified Files:
	smbmnt.8 smbmount.8 
Log Message:

Some manpage fixes by Bill Hawes




****************************************
Date:	Tuesday January 27, 1998 @ 6:55
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13506

Modified Files:
      Tag: BRANCH_1_9_18
	asyncdns.c nmbd_winsserver.c 
Log Message:
asyncdns.c: Fixed shutdown bug where nmbd would hang.
nmbd_winsserver.c: Allow spaces in WINS names.
Jeremy.



****************************************
Date:	Tuesday January 27, 1998 @ 6:58
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv16394

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
WHATSNEW.txt: Added more bugfix lines.
Jeremy.



****************************************
Date:	Tuesday January 27, 1998 @ 7:48
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DIAGNOSIS.txt DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	ENCRYPTION.txt Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt 
	NTDOMAIN.txt NetBIOS.txt OS2-Client-HOWTO.txt 
	PRINTER_DRIVER.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbmnt.8 smbmount.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 smbumount.8 testparm.1 
	testprns.1 
Log Message:
preparing for release of 1.9.18p2


****************************************
Date:	Tuesday January 27, 1998 @ 7:48
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p2


****************************************
Date:	Wednesday January 28, 1998 @ 8:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19529

Modified Files:
      Tag: BRANCH_1_9_18
	local.h smb.h 
Log Message:
Make shared memory size 1024* MAX_OPEN_FILES.
Tuning needed for ClearCase.
Jeremy.



****************************************
Date:	Wednesday January 28, 1998 @ 8:39
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6991

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Noted removed option (shared file entries) and updated shared memory option
(shared mem size).
Jeremy.



****************************************
Date:	Wednesday January 28, 1998 @ 11:45
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv20732

Modified Files:
	idb.pl 
Log Message:
get rid of reference to removed file



****************************************
Date:	Wednesday January 28, 1998 @ 11:46
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv19407

Modified Files:
      Tag: BRANCH_1_9_18
	idb.pl 
Log Message:
get rid of reference to removed file



****************************************
Date:	Wednesday January 28, 1998 @ 13:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24043

Modified Files:
	trans2.c 
Log Message:
Fix from Charles Hoch (hoch@hpl.hp.com). Whne there is no data
to send, setting the data alignment to a 4 byte boundary causes
a few extra bytes to be sent. This seems to cause the NT redirector
to *sometimes* fail.
Jeremy.



****************************************
Date:	Wednesday January 28, 1998 @ 13:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25306

Modified Files:
      Tag: BRANCH_1_9_18
	trans2.c 
Log Message:
Fix from Charles Hoch (hoch@hpl.hp.com). Whne there is no data
to send, setting the data alignment to a 4 byte boundary causes
a few extra bytes to be sent. This seems to cause the NT redirector
to *sometimes* fail.
Jeremy.




****************************************
Date:	Thursday January 29, 1998 @ 7:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2583

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile includes.h 
Log Message:
Makefile: Fix typo in OSF1 line.
includes.h: Added include to get inet_ntoa definition in AIX section.
Jeremy



****************************************
Date:	Thursday January 29, 1998 @ 8:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27688

Modified Files:
	Makefile asyncdns.c chgpasswd.c includes.h local.h 
	nmbd_mynames.c nmbd_responserecordsdb.c nmbd_winsserver.c 
	proto.h smb.h 
Log Message:
Makefile: Fix for OSF1 typo.
asyncdns.c: Fixes that went into 1.9.18p2 - allow unclocking of sigterm.
chgpasswd.c: char -> unsigned char fixes.
includes.h: AIX fix to get prototype for inet_ntoa.
local.h: Tune size of shared memory based on MAX_OPEN_FILES.
nmbd_mynames.c: Fix for nmbd repeated refresh bug.
nmbd_responserecordsdb.c: Fix for nmbd repeated refresh bug. 
nmbd_winsserver.c: Fix for multi-homed registration optimisation.
smb.h: Moved default shared memory size to local.h
Jeremy.



****************************************
Date:	Friday January 30, 1998 @ 1:36
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv24020/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	smb.init 
Log Message:
Modification to samba startup file to make sure smb.conf file exists.
Patch submitted by: Patrick LoPresti <patl@cag.lcs.mit.edu>



****************************************
Date:	Friday January 30, 1998 @ 1:36
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv24020/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	smb.init 
Log Message:
Modification to samba startup file to make sure smb.conf file exists.
Patch submitted by: Patrick LoPresti <patl@cag.lcs.mit.edu>



****************************************
Date:	Friday January 30, 1998 @ 1:38
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv4732/packaging/redhat/RH42

Modified Files:
	smb.init 
Log Message:
Patch to smb.init samba startup file to check for existence of smb.conf
before starting up. Patch submitted by: Patrick LoPresti <patl@cag.lcs.mit.edu>



****************************************
Date:	Friday January 30, 1998 @ 1:38
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv4732/packaging/redhat/RH50

Modified Files:
	smb.init 
Log Message:
Patch to smb.init samba startup file to check for existence of smb.conf
before starting up. Patch submitted by: Patrick LoPresti <patl@cag.lcs.mit.edu>



****************************************
Date:	Friday January 30, 1998 @ 5:22
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9071

Modified Files:
      Tag: BRANCH_1_9_18
	print_svid.c 
Log Message:
fix bug when using lpstat as printcap file - remove space at start of
printer names generated



****************************************
Date:	Friday January 30, 1998 @ 5:22
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16045

Modified Files:
	print_svid.c 
Log Message:
fix bug when using lpstat as printcap file - remove space at start of
printer names generated



****************************************
Date:	Friday January 30, 1998 @ 5:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4007

Modified Files:
      Tag: BRANCH_1_9_18
	chgpasswd.c nmbd_mynames.c nmbd_responserecordsdb.c 
	nmbd_winsserver.c proto.h 
Log Message:
chgpasswd.c: Fixed char -> unsigned char issues.
nmbd_mynames.c: Stop sending more than one refresh message to a WINS server that
is not replying.
nmbd_responserecordsdb.c: Utility funtion to help the above.
nmbd_winsserver.c: Fix for multi-homed name registration that is already
present.
Jeremy.



****************************************
Date:	Friday January 30, 1998 @ 6:29
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv22384

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Swiss consultant.



****************************************
Date:	Saturday January 31, 1998 @ 7:56
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv1738

Modified Files:
      Tag: BRANCH_NTDOM
	NTDOMAIN.txt 
Log Message:

included details of the samba-ntdom list.



****************************************
Date:	Saturday January 31, 1998 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9661

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/nmbd
In directory samba:/tmp/cvs-serv9661/daemon/nmbd

Modified Files:
      Tag: BRANCH_NTDOM
	asyncdns.c namelistdb.c nameserv.h nmbd.c packets.c 
	responserecordsdb.c subnetdb.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/nmbd/netbios_client
In directory samba:/tmp/cvs-serv9661/daemon/nmbd/netbios_client

Modified Files:
      Tag: BRANCH_NTDOM
	become_dmb.c become_lmb.c browserdb.c browsesync.c elections.c 
	incomingdgrams.c incomingrequests.c lmhosts.c logonnames.c 
	mynames.c processlogon.c sendannounce.c serverlistdb.c 
	winsproxy.c workgroupdb.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/nmbd/netbios_lib
In directory samba:/tmp/cvs-serv9661/daemon/nmbd/netbios_lib

Modified Files:
      Tag: BRANCH_NTDOM
	namequery.c nameregister.c namerelease.c nodestatus.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/nmbd/wins_server
In directory samba:/tmp/cvs-serv9661/daemon/nmbd/wins_server

Modified Files:
      Tag: BRANCH_NTDOM
	winsserver.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:47
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv9661/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	chgpasswd.c dir.c ipc.c mangle.c message.c password.c pipes.c 
	predict.c printing.c quotas.c reply.c server.c trans2.c ufc.c 
	uid.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:47
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv9661/include

Modified Files:
      Tag: BRANCH_NTDOM
	byteorder.h charset.h includes.h kanji.h local.h nmbd_proto.h 
	smb.h smbd_proto.h trans2.h util_proto.h 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:47
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/nmb
In directory samba:/tmp/cvs-serv9661/lib/nmb

Modified Files:
      Tag: BRANCH_NTDOM
	namequery.c nmblib.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:47
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/shmem
In directory samba:/tmp/cvs-serv9661/lib/shmem

Modified Files:
      Tag: BRANCH_NTDOM
	locking.c locking_shm.c locking_slow.c shmem.c shmem_sysv.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv9661/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	charcnv.c charset.c credentials.c fault.c getsmbpass.c 
	interface.c kanji.c loadparm.c md4.c params.c pcap.c 
	print_svid.c replace.c smbdes.c smbencrypt.c smberr.c 
	smbpass.c system.c time.c username.c util.c vt_mode.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/make_printerdef
In directory samba:/tmp/cvs-serv9661/utils/make_printerdef

Modified Files:
      Tag: BRANCH_NTDOM
	make_printerdef.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/make_smbcodepage
In directory samba:/tmp/cvs-serv9661/utils/make_smbcodepage

Modified Files:
      Tag: BRANCH_NTDOM
	make_smbcodepage.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/nmblookup
In directory samba:/tmp/cvs-serv9661/utils/nmblookup

Modified Files:
      Tag: BRANCH_NTDOM
	nmblookup.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv9661/utils/smbclient

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbpasswd
In directory samba:/tmp/cvs-serv9661/utils/smbpasswd

Modified Files:
      Tag: BRANCH_NTDOM
	smbpasswd.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbrun
In directory samba:/tmp/cvs-serv9661/utils/smbrun

Modified Files:
      Tag: BRANCH_NTDOM
	smbrun.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbstatus
In directory samba:/tmp/cvs-serv9661/utils/smbstatus

Modified Files:
      Tag: BRANCH_NTDOM
	status.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/testparm
In directory samba:/tmp/cvs-serv9661/utils/testparm

Modified Files:
      Tag: BRANCH_NTDOM
	testparm.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/testprns
In directory samba:/tmp/cvs-serv9661/utils/testprns

Modified Files:
      Tag: BRANCH_NTDOM
	testprns.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/torture
In directory samba:/tmp/cvs-serv9661/utils/torture

Modified Files:
      Tag: BRANCH_NTDOM
	torture.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/wsmbconf
In directory samba:/tmp/cvs-serv9661/utils/wsmbconf

Modified Files:
      Tag: BRANCH_NTDOM
	cgi.c wsmbconf.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 11:48
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/wsmbstatus
In directory samba:/tmp/cvs-serv9661/utils/wsmbstatus

Modified Files:
      Tag: BRANCH_NTDOM
	wsmbstatus.c 
Log Message:

updating BRANCH_NTDOM with a 1.9.18p1 to appx 1.9.18p2 patch.



****************************************
Date:	Saturday January 31, 1998 @ 14:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18593

Modified Files:
	server.c 
Log Message:
server.c: Added fix where, if all the file entries are being
used, smbd tries to break an oplock to make room for another
file entry. This works well with Windows 95 that seems to keep
batch oplocks around for an arbitrarily long time.
Also changed rlimit code to ask for MAX_OPEN_FILES + 10 (if allowed) as 
many systems use file descriptors for directory handles also.
Jeremy.



****************************************
Date:	Saturday January 31, 1998 @ 21:12
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv22562

Modified Files:
      Tag: BRANCH_1_9_18
	samba-make.patch smb.init 
Log Message:
Recommitting all 1.9.18p2 RPM files - I don't know why! (;-))
I probably didn't do it in the first place! (8-<)



****************************************
Date:	Sunday February 1, 1998 @ 3:05
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv17511

Modified Files:
      Tag: BRANCH_NTDOM
	server.c 
Log Message:

adding jeremy's oplock patch



****************************************
Date:	Monday February 2, 1998 @ 7:27
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv6782/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_netlog.c 
Log Message:

name_to_rid() failing due to user not existing in unix password
database needs to be reported "NT_STATUS_NO_SUCH_USER" in SamLogon
response.



****************************************
Date:	Tuesday February 3, 1998 @ 23:37
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8071

Modified Files:
	Support.txt 
Log Message:
Removed Brett Worth from Support.txt as per Bug#3833



****************************************
Date:	Tuesday February 3, 1998 @ 23:43
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv15514

Modified Files:
	Support.txt 
Log Message:
Added Newcast - UK Consultant to Support.txt



****************************************
Date:	Tuesday February 3, 1998 @ 23:44
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26848

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Consultant - Newcastle - UK



****************************************
Date:	Thursday February 5, 1998 @ 6:32
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25554

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:32
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv25554/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	password.c 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:33
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv25554/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_cli_proto.h rpc_lib_proto.h smb.h smbd_proto.h 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:33
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv25554/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_login.c cli_netlogon.c 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:33
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv25554/lib/rpc/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_misc.h rpc_netlogon.h 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:33
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv25554/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_misc.c parse_net.c parse_prs.c 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:33
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv25554/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_netlog.c 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Thursday February 5, 1998 @ 6:33
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbclient/rpc
In directory samba:/tmp/cvs-serv25554/utils/smbclient/rpc

Modified Files:
      Tag: BRANCH_NTDOM
	cmd_netlogon.c 
Log Message:

Issues
------

added "network logon" type to the NETLOGON pipe.  this is just pass-thru
authentication but for NT->NT interaction, not W95->NT.  it takes the
8 byte challenge from the SMBnegprot response and the two 24 byte
responses from the SMBsessionsetupX request, and forwards them to a
PDC.  the PDC calculates whether the user's LM or NT password gives
the same challenge, and responds appropriately.  the workstation
responds back to the other workstation to allow access.

the server side of this is supported (samba pdc will accept "Network"
SAM Logons).  the client side will follow shortly.


Modifications
-------------

Makefile :

	got bored waiting for make proto to generate all prototypes.
	split down into several independent proto_xxxxs.

password.c :

	split smb_password_ok() down so that the smb user, the challenge
	and the 24 byte responses could be passed to one function
	(smb_passwords_check()).  smb_password_ok() uses the internally
	generated one; smb_passwords_check() can be used with the
	challenge forwarded by a workstation.

other files:

	created a NET_ID_INFO_CTR which contains NET_ID_INFO_1 (for
	interactive logins) and NET_ID_INFO_2 (for network - pass-thru -
	logins).  parsing for these structures added.  shuffling had
	a knock-on effect in the client code.

	server support for NET_ID_INFO_2 added.  when one of these
	calls comes in, smb_passwords_check() is used to validate
	the user.




****************************************
Date:	Saturday February 7, 1998 @ 3:35
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv21264

Modified Files:
      Tag: BRANCH_NTDOM
	NTDOMAIN.txt 
Log Message:

updated the section on adding the workstation trust account.



****************************************
Date:	Saturday February 7, 1998 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9707

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:

attempt to get the dce/rpc long responses working.  at least this
version will _partially_ allow a SMBreadX response to get _some_ more
data.  it's by no means finished.



****************************************
Date:	Saturday February 7, 1998 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv9707/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

attempt to get the dce/rpc long responses working.  at least this
version will _partially_ allow a SMBreadX response to get _some_ more
data.  it's by no means finished.



****************************************
Date:	Saturday February 7, 1998 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv9707/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_lib_proto.h rpc_srv_proto.h smb.h 
Log Message:

attempt to get the dce/rpc long responses working.  at least this
version will _partially_ allow a SMBreadX response to get _some_ more
data.  it's by no means finished.



****************************************
Date:	Saturday February 7, 1998 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv9707/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

attempt to get the dce/rpc long responses working.  at least this
version will _partially_ allow a SMBreadX response to get _some_ more
data.  it's by no means finished.



****************************************
Date:	Saturday February 7, 1998 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv9707/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_net.c 
Log Message:

attempt to get the dce/rpc long responses working.  at least this
version will _partially_ allow a SMBreadX response to get _some_ more
data.  it's by no means finished.



****************************************
Date:	Saturday February 7, 1998 @ 6:30
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv9707/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_pipe_hnd.c srv_util.c 
Log Message:

attempt to get the dce/rpc long responses working.  at least this
version will _partially_ allow a SMBreadX response to get _some_ more
data.  it's by no means finished.



****************************************
Date:	Saturday February 7, 1998 @ 6:40
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv22714

Modified Files:
      Tag: BRANCH_NTDOM
	NTDOMAIN.txt 
Log Message:

updated to include Andre Gerhard's comments from samba-ntdom about printing.



****************************************
Date:	Saturday February 7, 1998 @ 12:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv898

Modified Files:
	chgpasswd.c includes.h kanji.c loadparm.c local.h password.c 
	printing.c proto.h reply.c server.c time.c trans2.c util.c 
Log Message:
A small raft of changes, I will sync up with 1.9.18 also.

chgpasswd.c: Fixed typo in debug message.
includes.h: Fix include for aix.
kanji.c: Added cap_to_sj as inverse of sj_to_cap.
loadparm.c:
local.h:
password.c: Added code for "networkstation user login" parameter.
- patch from Rob Nielsen <ran@adc.com>.
printing.c: Added further aix printing fixes.
reply.c: Changed access time fetch to a function.
trans2.c: Changed access time fetch to a function. 
time.c: Changed access time fetch to a function.
server.c: Made NT redirector workaround final.
util.c: Added debug for write_socket failing.

Jeremy.




****************************************
Date:	Wednesday February 11, 1998 @ 11:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7375

Modified Files:
	Makefile loadparm.c local.h proto.h reply.c server.c smb.h 
	time.c trans2.c uid.c util.c 
Log Message:
Makefile: Added AIX 3.2.5.
loadparm.c: Added "win95 bug compatibility" parameter.
local.h: Replaced MAX_OPEN_FILES back to 100 from 10 (oops).
reply.c: Fixed ulogoff check against uid - changed to vuid.
server.c: Changed file struct save of uid - changed to vuid.
smb.h: Changed id in struct current_user to vuid.
       Changed file struct uid to vuid.
time.c: Added "win95 bug compatibility" atime -> mtime return.
trans2.c: Added "win95 bug compatibility" fixes.
uid.c: Changed id in struct current_user to vuid - added checks
       to set/reset it.
util.c: Added code to expand environment variables.
version.h : still at 1.9.18 (head branch doesn't matter too much at present).

Jeremy.




****************************************
Date:	Wednesday February 11, 1998 @ 11:25
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv27460

Modified Files:
	smb.conf.5 
Log Message:
fixed typo 



****************************************
Date:	Wednesday February 11, 1998 @ 11:38
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv20861

Modified Files:
	idb.pl 
Log Message:
removed old unused test



****************************************
Date:	Wednesday February 11, 1998 @ 11:39
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv24140

Modified Files:
      Tag: BRANCH_1_9_18
	idb.pl 
Log Message:
removed old unused test



****************************************
Date:	Thursday February 12, 1998 @ 6:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6957

Modified Files:
      Tag: BRANCH_1_9_18
	chgpasswd.c includes.h kanji.c loadparm.c local.h password.c 
	printing.c proto.h reply.c server.c smb.h time.c trans2.c 
	uid.c util.c 
Log Message:
Sync up with head branch.

chgpasswd.c: Fixed typo in error message.
includes.h: AIX update.
kanji.c: Fix from ado@elsie.nci.nih.gov (Arthur David Olson) to reverse cap->sj correctly.
loadparm.c: Added "networkstation user login" and "win95 bug compatibility" parameters.
local.h: networkstationuserlogon fix.
password.c: Fix for DCE from Brett Wooldridge <brettw@austin.ibm.com>, networkstationuserlogon fix.
printing.c: Support for LPQ_PAUSED on aix.
reply.c: Fix for ulogoff closing too many files.
         Added get_access_time().
server.c: Fix for ulogoff closing too many files.
         Added get_access_time().
         Fix for NT redirector bug.
         Fix to close oplocked file when run out of open file handles.
         Ask for 10 more fd's than before.
smb.h: Fix for ulogoff closing too many files.
time.c: Added get_access_time().
trans2.c: Added "win95 bug compatibility" fix.
uid.c: Fix for ulogoff closing too many files.
util.c: Extra debug message. Added capability to parse environment variables from Branko Cibej <branko.cibej@hermes.si>.
Jeremy.



****************************************
Date:	Thursday February 12, 1998 @ 6:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8208

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile 
Log Message:
Re-arranged & added AIX stuff.
Jeremy.



****************************************
Date:	Thursday February 12, 1998 @ 7:17
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv16523

Modified Files:
	ENCRYPTION.txt Support.txt smb.conf.5 
Log Message:
ENCRYPTION.txt: Fixed typo.
Support.txt: Added consultant.
smb.conf.5: Updated with new parameters.
Jeremy.



****************************************
Date:	Thursday February 12, 1998 @ 8:05
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9646

Modified Files:
      Tag: BRANCH_1_9_18
	ENCRYPTION.txt Support.txt smb.conf.5 
Log Message:
Updating to sync with main branch.
Jeremy.



****************************************
Date:	Thursday February 12, 1998 @ 11:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23202

Modified Files:
	client.c 
Log Message:
Added fix for doing pq command (from "James J. Szinger" <james.szinger@yale.edu>).
Jeremy.



****************************************
Date:	Thursday February 12, 1998 @ 12:05
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4474

Modified Files:
      Tag: BRANCH_1_9_18
	client.c 
Log Message:
client.c: Fixed pq command (patch from 
      "James J. Szinger" <james.szinger@yale.edu>
Jeremy.



****************************************
Date:	Thursday February 12, 1998 @ 14:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5944

Modified Files:
	nmbd.c server.c 
Log Message:
make the initial logfile names consistent. This should mean that smbd
starts with log.smb and nmbd starts with log.nmb. It also gets rid of
the "log." when using the log.%m construct as %m expands to smb before
a client connects.




****************************************
Date:	Thursday February 12, 1998 @ 15:06
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17631

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd.c server.c 
Log Message:
apply logfile name fixes to 1.9.18 as well


****************************************
Date:	Friday February 13, 1998 @ 2:01
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv1574/lib/rpc/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_dce.h 
Log Message:

added dce/rpc authentication structures.  these are *specific* to the
NTLMSSP (nt lm secure service provider).  i presume that this thunks
through the SSPI, in nt.

this is needed for "password changing".



****************************************
Date:	Friday February 13, 1998 @ 7:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19240

Modified Files:
	charset.c loadparm.c proto.h reply.c time.c trans2.c version.h 
Log Message:
Ding-dong the witch is dead, the witch is dead......

This is the checkin that fixes the infamous Visual C++ 'file
has changed' bug.

I feel *SO* good about that :-).

charset.c: Added (void) to fix Herb's fussy compiler.
loadparm.c: Removed "win95 bug compatibility" (didn't
            like it much anyway :-). Added "dos filetime resolution"
            instead.
reply.c: Added the 2 second timestamp resolution fix that the song above is about.
time.c: Removed unneeded get_access_time() function.
trans2.c : Removed unneeded "win95 bug compatibility" code.

Jeremy.




****************************************
Date:	Friday February 13, 1998 @ 7:13
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13575

Modified Files:
	smb.conf.5 
Log Message:
Updated - removed "win95 bug compatibility" and added "dos filetime resolution".
Jeremy.



****************************************
Date:	Friday February 13, 1998 @ 7:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4066

Modified Files:
      Tag: BRANCH_1_9_18
	charset.c loadparm.c proto.h reply.c time.c trans2.c 
Log Message:
Ding-dong the witch is dead, the witch is dead......
This is the checkin that fixes the infamous Visual C++ 'file
has changed' bug.
I feel *SO* good about that :-).
charset.c: Added (void) to fix Herb's fussy compiler.
loadparm.c: Removed "win95 bug compatibility" (didn't
            like it much anyway :-). Added "dos filetime resolution"
            instead.
reply.c: Added the 2 second timestamp resolution fix that the song above is about.
time.c: Removed unneeded get_access_time() function.
trans2.c : Removed unneeded "win95 bug compatibility" code.
Jeremy.



****************************************
Date:	Friday February 13, 1998 @ 7:32
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9300

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Removed "win95 bug compatibility" - added "dos filetime resolution".

Jeremy.




****************************************
Date:	Friday February 13, 1998 @ 12:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22405/source

Modified Files:
	clitar.c 
Log Message:
Fix for crash bug with amanda - from "Michael C. Povel" <Michael.Povel@hub.de>.
Jeremy.



****************************************
Date:	Friday February 13, 1998 @ 12:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5831

Modified Files:
      Tag: BRANCH_1_9_18
	clitar.c 
Log Message:
Fix for crash bug with amanda - from "Michael C. Povel" <Michael.Povel@hub.de>.
Jeremy.



****************************************
Date:	Saturday February 14, 1998 @ 7:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18050

Modified Files:
	Makefile clientutil.c 
Log Message:
Sometime after 1.9.17p5 smbclient stopped being able to do
NetBIOS name lookups by broadcast and instead only does DNS.

With the belief that this was not what was intended (I think
it happened in the clientutil.c cleanup) I have added that
capability back to smbclient by adding the #define USENMB
into clientutil.c, and adding the required namequery.o into
the object lists for smbclient and smbmount (as they now
need it to link).

If this was done intentionally let me know and I'll back
this out.

Jeremy.




****************************************
Date:	Saturday February 14, 1998 @ 7:13
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26546

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile clientutil.c 
Log Message:
Sometime after 1.9.17p5 smbclient stopped being able to do
NetBIOS name lookups by broadcast and instead only does DNS.

With the belief that this was not what was intended (I think
it happened in the clientutil.c cleanup) I have added that
capability back to smbclient by adding the #define USENMB
into clientutil.c, and adding the required namequery.o into
the object lists for smbclient and smbmount (as they now
need it to link).

If this was done intentionally let me know and I'll back
this out.

Jeremy.



****************************************
Date:	Saturday February 14, 1998 @ 14:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4367

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Fix to make us compile cleanly with gcc 2.8.
Jeremy.



****************************************
Date:	Saturday February 14, 1998 @ 14:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18178

Modified Files:
	util.c 
Log Message:
Fix to make us compile cleanly with gcc 2.8.
Jeremy.



****************************************
Date:	Sunday February 15, 1998 @ 4:35
Author:	samba-bugs

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv12576

Added Files:
      Tag: BRANCH_NTDOM
	README 
Log Message:

indicating that this directory is obsolete in the main branch



****************************************
Date:	Sunday February 15, 1998 @ 4:38
Author:	samba-bugs

Update of /data/cvs/samba/source/mem_man
In directory samba:/tmp/cvs-serv10342

Added Files:
      Tag: BRANCH_NTDOM
	README 
Log Message:

indicating where mem_man/ has moved to in BRANCH_NTDOM



****************************************
Date:	Sunday February 15, 1998 @ 4:39
Author:	samba-bugs

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv26468

Added Files:
      Tag: BRANCH_NTDOM
	README 
Log Message:

indicating where ubiqx has been moved to in BRANCH_NTDOM



****************************************
Date:	Sunday February 15, 1998 @ 4:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv3900/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

starting to add dce/rpc authentication parsing.



****************************************
Date:	Sunday February 15, 1998 @ 4:46
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv3900/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_cli_proto.h rpc_lib_proto.h 
Log Message:

starting to add dce/rpc authentication parsing.



****************************************
Date:	Sunday February 15, 1998 @ 4:46
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv3900/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

starting to add dce/rpc authentication parsing.



****************************************
Date:	Sunday February 15, 1998 @ 4:46
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv3900/lib/rpc/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_dce.h 
Log Message:

starting to add dce/rpc authentication parsing.



****************************************
Date:	Sunday February 15, 1998 @ 4:46
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv3900/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_prs.c parse_rpc.c 
Log Message:

starting to add dce/rpc authentication parsing.



****************************************
Date:	Sunday February 15, 1998 @ 5:54
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv21721

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_samr.h 
Log Message:

added 0x38 and 0x37 structures to \PIPE\samr.  parsing code to follow.



****************************************
Date:	Sunday February 15, 1998 @ 7:02
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv27520

Modified Files:
      Tag: BRANCH_NTDOM
	parse_samr.c 
Log Message:

\PIPE\samr 0x38 parsing



****************************************
Date:	Wednesday February 18, 1998 @ 1:49
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26812

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:

adding nt lm ssp authentication in (untested) to bind req and bind ack.
this is first off so that paul can explore a way to get encrypted
dce/rpc sessions to be dropped.



****************************************
Date:	Wednesday February 18, 1998 @ 1:49
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv26812/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

adding nt lm ssp authentication in (untested) to bind req and bind ack.
this is first off so that paul can explore a way to get encrypted
dce/rpc sessions to be dropped.



****************************************
Date:	Wednesday February 18, 1998 @ 1:49
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv26812/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_lib_proto.h smb.h 
Log Message:

adding nt lm ssp authentication in (untested) to bind req and bind ack.
this is first off so that paul can explore a way to get encrypted
dce/rpc sessions to be dropped.



****************************************
Date:	Wednesday February 18, 1998 @ 1:49
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv26812/lib/rpc/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_dce.h rpc_samr.h 
Log Message:

adding nt lm ssp authentication in (untested) to bind req and bind ack.
this is first off so that paul can explore a way to get encrypted
dce/rpc sessions to be dropped.



****************************************
Date:	Wednesday February 18, 1998 @ 1:49
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv26812/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_rpc.c parse_samr.c 
Log Message:

adding nt lm ssp authentication in (untested) to bind req and bind ack.
this is first off so that paul can explore a way to get encrypted
dce/rpc sessions to be dropped.



****************************************
Date:	Wednesday February 18, 1998 @ 5:15
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv23458/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_cli_proto.h 
Log Message:

added a "do_ntlm_session_open" which is a first attempt at initiating
an encrypted session.  this is not ideal: it's just for testing smbd.



****************************************
Date:	Wednesday February 18, 1998 @ 5:15
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv23458/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

added a "do_ntlm_session_open" which is a first attempt at initiating
an encrypted session.  this is not ideal: it's just for testing smbd.



****************************************
Date:	Wednesday February 18, 1998 @ 9:42
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11834/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Fix to implement %p substitution from jkf@soton.ac.uk.
It also makes automount code tidier.
Jeremy.



****************************************
Date:	Wednesday February 18, 1998 @ 9:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11834/source

Modified Files:
      Tag: BRANCH_1_9_18
	proto.h server.c smbpass.c trans2.c util.c 
Log Message:
Fix to implement %p substitution from jkf@soton.ac.uk.
It also makes automount code tidier.
Jeremy.



****************************************
Date:	Wednesday February 18, 1998 @ 10:12
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv13211

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Preparing for 1.9.18p3.
Jeremy.



****************************************
Date:	Wednesday February 18, 1998 @ 10:47
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15423

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Changed basename -> base_name to get around -Wshadow warning on RedHat 5.x.
Jeremy.



****************************************
Date:	Wednesday February 18, 1998 @ 10:54
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18p3


****************************************
Date:	Wednesday February 18, 1998 @ 10:55
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DIAGNOSIS.txt DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	ENCRYPTION.txt Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt 
	NTDOMAIN.txt NetBIOS.txt OS2-Client-HOWTO.txt 
	PRINTER_DRIVER.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbmnt.8 smbmount.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 smbumount.8 testparm.1 
	testprns.1 
Log Message:
preparing for release of 1.9.18p3


****************************************
Date:	Wednesday February 18, 1998 @ 10:55
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p3


****************************************
Date:	Wednesday February 18, 1998 @ 21:51
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv19325/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

debugged experimental bind / bind ack code in smbclient / smbd.
receive and ignore the 8 byte lm challenge, at the moment.
need to do an SMBwriteX to send the 24 byte responses back.



****************************************
Date:	Wednesday February 18, 1998 @ 21:51
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv19325/include

Modified Files:
      Tag: BRANCH_NTDOM
	clnt_proto.h 
Log Message:

debugged experimental bind / bind ack code in smbclient / smbd.
receive and ignore the 8 byte lm challenge, at the moment.
need to do an SMBwriteX to send the 24 byte responses back.



****************************************
Date:	Wednesday February 18, 1998 @ 21:51
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv19325/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_login.c cli_pipe.c 
Log Message:

debugged experimental bind / bind ack code in smbclient / smbd.
receive and ignore the 8 byte lm challenge, at the moment.
need to do an SMBwriteX to send the 24 byte responses back.



****************************************
Date:	Wednesday February 18, 1998 @ 21:51
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv19325/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_prs.c 
Log Message:

debugged experimental bind / bind ack code in smbclient / smbd.
receive and ignore the 8 byte lm challenge, at the moment.
need to do an SMBwriteX to send the 24 byte responses back.



****************************************
Date:	Wednesday February 18, 1998 @ 21:51
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv19325/utils/smbclient

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

debugged experimental bind / bind ack code in smbclient / smbd.
receive and ignore the 8 byte lm challenge, at the moment.
need to do an SMBwriteX to send the 24 byte responses back.



****************************************
Date:	Wednesday February 18, 1998 @ 21:51
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/smbclient/rpc
In directory samba:/tmp/cvs-serv19325/utils/smbclient/rpc

Modified Files:
      Tag: BRANCH_NTDOM
	cmd_samr.c 
Log Message:

debugged experimental bind / bind ack code in smbclient / smbd.
receive and ignore the 8 byte lm challenge, at the moment.
need to do an SMBwriteX to send the 24 byte responses back.



****************************************
Date:	Wednesday February 18, 1998 @ 23:56
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv15261/Caldera

Log Message:
Directory /data/cvs/samba/packaging/Caldera added to the repository
--> Using per-directory sticky tag `BRANCH_1_9_18'



****************************************
Date:	Thursday February 19, 1998 @ 0:02
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv3720/Caldera

Added Files:
      Tag: BRANCH_1_9_18
	Makefile makeldirs.sh makerpms.sh samba-make.patch samba.log 
	samba.pamd samba.spec smb.conf smb.init smbadduser smbprint 
	smbusers 
Log Message:

Just trying to get the 1.9.18 branch up to date with where it should be!
Only the packaging files are affected by this update.




****************************************
Date:	Thursday February 19, 1998 @ 0:02
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv3720/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba-make.patch samba.spec 
Log Message:

Just trying to get the 1.9.18 branch up to date with where it should be!
Only the packaging files are affected by this update.




****************************************
Date:	Thursday February 19, 1998 @ 0:02
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv3720/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba-make.patch samba.spec smb.init 
Log Message:

Just trying to get the 1.9.18 branch up to date with where it should be!
Only the packaging files are affected by this update.




****************************************
Date:	Thursday February 19, 1998 @ 0:04
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv9970

Added Files:
      Tag: BRANCH_1_9_18
	Makefile 
Log Message:
Oops left off one file.



****************************************
Date:	Thursday February 19, 1998 @ 4:35
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated date to 18th for second try at p3 release (now John
has the rpm packaging stuff in place). I will now re-tag
the tree.
Jeremy.



****************************************
Date:	Thursday February 19, 1998 @ 4:46
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DIAGNOSIS.txt DNIX.txt DOMAIN.txt DOMAIN_CONTROL.txt 
	ENCRYPTION.txt Faxing.txt GOTCHAS.txt HINTS.txt MIRRORS.txt 
	NTDOMAIN.txt NetBIOS.txt OS2-Client-HOWTO.txt 
	PRINTER_DRIVER.txt Passwords.txt Printing.txt SCO.txt 
	Speed.txt Support.txt Tracing.txt UNIX-SMB.txt 
	UNIX_INSTALL.txt Win95.txt WinNT.txt cifsntdomain.txt 
	make_smbcodepage.1 nmbd.8 samba.7 security_level.txt 
	smb.conf.5 smbclient.1 smbd.8 smbmnt.8 smbmount.8 smbpasswd.8 
	smbrun.1 smbstatus.1 smbtar.1 smbumount.8 testparm.1 
	testprns.1 
Log Message:
preparing for release of 1.9.18p3


****************************************
Date:	Friday February 20, 1998 @ 2:44
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv12887

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile 
Log Message:
A small update only.



****************************************
Date:	Saturday February 21, 1998 @ 6:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18788

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd_packets.c nmbd_subnetdb.c proto.h 
Log Message:
Fix from Andrey Alekseyev <fetch@muffin.arcadia.spb.ru> for the fact
that retransmit_or_expire_response_records() wasn't scanning the
WINS subnet when we are a WINS server.
Jeremy.



****************************************
Date:	Saturday February 21, 1998 @ 6:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7554

Modified Files:
	nmbd_packets.c nmbd_subnetdb.c proto.h server.c smbpass.c 
	trans2.c util.c 
Log Message:
nmbd_packets.c: nmbd_subnetdb.c: Patch from Andrey Alekseyev <fetch@muffin.arcadia.spb.ru>
to fix the fact that retransmit_or_expire_response_records() wasn't looking
at the WINS subnet.
server.c: Patch from jkf@soton.ac.uk to add %p (NIS server path) substitution.
smbpass.c: Fix to stop parsing failing on non-valid lines.
trans2.c: Fix for volume serial number code.
util.c:  Patch from jkf@soton.ac.uk to add %p (NIS server path) substitution.
         Fix for warnings under RH5. gcc 2.8.
Jeremy.    



****************************************
Date:	Tuesday February 24, 1998 @ 13:17
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28563

Modified Files:
      Tag: BRANCH_1_9_18
	nmblookup.c testparm.c wsmbstatus.c 
Log Message:
Fixes from Gregory Neil Shapiro <gshapiro@WPI.EDU> for hostname
substitution in nmblookup, testparm and wsmbstatus.
Jeremy.



****************************************
Date:	Wednesday February 25, 1998 @ 4:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24324

Modified Files:
	nmbd_incomingdgrams.c nmbd_sendannounce.c nmblookup.c 
	testparm.c util.c wsmbstatus.c 
Log Message:
nmbd_incomingdgrams.c: Fix for typo.
nmbd_sendannounce.c: Remote announcement was announcing to the wrong name !
nmblookup.c: Fix for substitutions not seeing hostname.
testparm.c: Fix for substitutions not seeing hostname.
wsmbstatus.c: Fix for substitutions not seeing hostname.
util.c: Change read_udp_socket to use sockaddr_in rather than dubiously
messing around with an opaque data type (sockaddr).
Jeremy.



****************************************
Date:	Wednesday February 25, 1998 @ 5:46
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11815

Modified Files:
	nmbd_namequery.c 
Log Message:
Fixed bug where second response message was being printed with the
wrong IP address. This confused a lot of people (including me :-).
Jeremy.



****************************************
Date:	Wednesday February 25, 1998 @ 7:05
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8690

Modified Files:
	nmbd_become_lmb.c nmbd_mynames.c proto.h 
Log Message:
Fixed bug reported by Janne.Harju@nmp.nokia.com. When used in broadcast
only mode nmbd was not reporting WORKGROUP<0> and WORKGROUP<1e> names
to a unicast node status query (although it was registering these names
on the network). Also tidied up code in nmbd_mynames.c so that all
known IP addresses are registered in the unicast subnet in this case
rather than just the first, as was previously done.
Jeremy.



****************************************
Date:	Wednesday February 25, 1998 @ 8:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19292

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd_become_lmb.c nmbd_incomingdgrams.c nmbd_mynames.c 
	nmbd_namequery.c nmbd_sendannounce.c proto.h util.c 
Log Message:
Sync up 1.9.18 branch with head.
Fix for WORKGROUP<0>,1e names not being seen in pure broadcast
envionment.
Fix for remote announce going to wrong name.
Jeremy.



****************************************
Date:	Friday February 27, 1998 @ 6:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22644

Modified Files:
	nmbd_incomingrequests.c 
Log Message:
Code to work around a bug in FTP OnNet software NBT implementation.
They do a broadcast name release for WORKGROUP<0> and WORKGROUP<1e>
names and *don't set the group bit*.

Jeremy.



****************************************
Date:	Friday February 27, 1998 @ 6:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4169

Modified Files:
	dir.c proto.h trans2.c 
Log Message:
Fix for NT redirector bug where deltree fails if the resume key
indexes are changed between directory scans. This fix does what
NT4.x SP3 does in that it stops using resume keys and returns
zero instead. We now use the filename in findnext to continue
the search in the correct place (as NT does).
Jeremy.



****************************************
Date:	Friday February 27, 1998 @ 7:41
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9339

Modified Files:
	client.c clientutil.c 
Log Message:
-N option still prompted for password in smbclient -L usage



****************************************
Date:	Friday February 27, 1998 @ 7:43
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18181

Modified Files:
      Tag: BRANCH_1_9_18
	client.c clientutil.c 
Log Message:
-N option still prompted for password in smbclient -L usage



****************************************
Date:	Friday February 27, 1998 @ 7:53
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv580

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Consultant in Austria.
Jeremy.



****************************************
Date:	Friday February 27, 1998 @ 9:58
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13409

Modified Files:
	Makefile includes.h nmbd_packets.c password.c 
Log Message:
Makefile, password.c, includes.h: Added KRB4 patches from Johan Hedin <johanh@fusion.kth.se>
nmbd_packets.c: Patch for aliased interfaces from Daniel Haun <dhaun@ecf2.puc.edu>.
Jeremy.



****************************************
Date:	Friday February 27, 1998 @ 13:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1342

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile dir.c includes.h nmbd_incomingrequests.c 
	nmbd_packets.c password.c proto.h trans2.c 
Log Message:
Makefile, includes.h, password.c: Add KRB4 support. Patch from Johan Hedin <johanh@fusion.kth.se>
nmbd_incomingrequests.c: Code to work around a bug in FTP OnNet software NBT implementation.
                         They do a broadcast name release for WORKGROUP<0> and WORKGROUP<1e>
                         names and *don't set the group bit.
nmbd_packets.c: Alias interfaces patch from Daniel Haun <dhaun@ecf2.puc.edu>.
dir.c, trans2.c: Fix for NT redirector problem triggered by resume key indexes
                 changing between directory scans. We now return a resume key of 0
                 and instead look for the filename to continue from (also given
                 to us by NT/95/smbfs/smbclient).
Jeremy.



****************************************
Date:	Sunday March 1, 1998 @ 21:05
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19685/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Printing.txt 
Added Files:
      Tag: BRANCH_1_9_18
	DHCP-Server-Configuration.txt 
Log Message:
Added documentation for dhcpd.conf file for ISC DHCPD server and Printing.txt update contributed by Caldera.



****************************************
Date:	Sunday March 1, 1998 @ 21:10
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25926

Modified Files:
	Printing.txt 
Added Files:
	DHCP-Server-Configuration.txt RoutedNetworks.txt 
Log Message:
Adding example config info for the ISC DHCP Server, An MS Knowledge Base article contributed by an anonymous person, and adding Caldera Inc. printing config notes to Printing.txt.



****************************************
Date:	Tuesday March 3, 1998 @ 6:46
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12807

Modified Files:
      Tag: BRANCH_NTDOM
	Makefile 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/nmbd
In directory samba:/tmp/cvs-serv12807/daemon/nmbd

Modified Files:
      Tag: BRANCH_NTDOM
	nmbd.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:46
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv12807/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	chgpasswd.c dir.c password.c printing.c pwd_validate.c reply.c 
	server.c trans2.c uid.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:46
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv12807/include

Modified Files:
      Tag: BRANCH_NTDOM
	includes.h local.h nmb_lib_proto.h rpc_lib_proto.h smb.h 
	smbd_proto.h util_proto.h version.h 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:46
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/nmb
In directory samba:/tmp/cvs-serv12807/lib/nmb

Modified Files:
      Tag: BRANCH_NTDOM
	namequery.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:46
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv12807/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	charset.c kanji.c loadparm.c smbpass.c util.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:47
Author:	samba-bugs

Update of /data/cvs/samba/source/sbin
In directory samba:/tmp/cvs-serv12807/sbin

Added Files:
      Tag: BRANCH_NTDOM
	links.sh nmblinks.sh update.sh 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:47
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/nmblookup
In directory samba:/tmp/cvs-serv12807/utils/nmblookup

Modified Files:
      Tag: BRANCH_NTDOM
	nmblookup.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:47
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/testparm
In directory samba:/tmp/cvs-serv12807/utils/testparm

Modified Files:
      Tag: BRANCH_NTDOM
	testparm.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:47
Author:	samba-bugs

Update of /data/cvs/samba/source/utils/wsmbstatus
In directory samba:/tmp/cvs-serv12807/utils/wsmbstatus

Modified Files:
      Tag: BRANCH_NTDOM
	wsmbstatus.c 
Log Message:


patched from appx 1.9.18p2 to appx 1.9.18p3.  did _not_ include the %p
macro, because a function was created which already exists in
BRANCH_NTDOM.  i have sent a message to the author requesting that he
kindly send in a new patch for this version, using the BRANCH_NTDOM
function.

included some utilities to help with the merging of BRANCH_NTDOM.  these
create links which "flatten" the directory structure.  because patch moves
these link files out the way, to .orig extensions, another utility to
copy the patched files back to their correct locations has also been
written.

so, do this:

make links
patch < patch_file
(deal with .rejs and do any other manual patching)
make update



****************************************
Date:	Tuesday March 3, 1998 @ 6:51
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv25251

Modified Files:
      Tag: BRANCH_NTDOM
	password.c 
Log Message:

oops.  this is the second time i've had to do this patch: this time,
it messed up on this file.



****************************************
Date:	Tuesday March 3, 1998 @ 6:58
Author:	samba-bugs

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv7993/include

Modified Files:
      Tag: BRANCH_NTDOM
	nmb_lib_proto.h 
Log Message:

got caught out by namequery.c existing in two different subdirectories:
one in daemon/nmbd/nmb_client/ and the other in lib/nmb/



****************************************
Date:	Tuesday March 3, 1998 @ 6:58
Author:	samba-bugs

Update of /data/cvs/samba/source/lib/nmb
In directory samba:/tmp/cvs-serv7993/lib/nmb

Modified Files:
      Tag: BRANCH_NTDOM
	namequery.c 
Log Message:

got caught out by namequery.c existing in two different subdirectories:
one in daemon/nmbd/nmb_client/ and the other in lib/nmb/



****************************************
Date:	Tuesday March 3, 1998 @ 7:21
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv25067

Modified Files:
      Tag: BRANCH_1_9_18
	idb.pl 
Added Files:
      Tag: BRANCH_1_9_18
	findsmb 
Log Message:
adding findsmb perl script to get info on smb machines on a net



****************************************
Date:	Tuesday March 3, 1998 @ 7:27
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv19936

Modified Files:
	idb.pl 
Added Files:
	findsmb 
Log Message:
adding findsmb perl script to get info on smb machines on a net



****************************************
Date:	Wednesday March 4, 1998 @ 4:58
Author:	samba-bugs

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv23855/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	server.c 
Log Message:

From J.K.Field@ecs.soton.ac.uk Tue Mar  3 19:39:41 1998
BRANCH_NTDOM version of patch to do %p macro substitution



****************************************
Date:	Wednesday March 4, 1998 @ 6:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12722

Modified Files:
	Makefile asyncdns.c charcnv.c charset.c client.c clitar.c 
	kanji.c kanji.h loadparm.c mangle.c nmbd.c proto.h smb.h 
	smbmount.c trans2.c util.c 
Log Message:
Change the multibyte character set support so that
Kanji support is one case of multibyte character
support, rather than being a specific case in 
single byte character support.

This allows us to add Big5 Chinese support (code page 950)
and Korean Hangul support (code page 949) at very little
cost. Also allows us to easily add future multibyte
code pages.

Makefile: Added codepages 949, 950 as we now support more multibyte
codepages.
asyncdns.c: Fixed problem with child being re-spawned when parent killed.
charcnv.c
charset.c
client.c
clitar.c
kanji.c
kanji.h
smb.h
util.c
loadparm.c: Generic multibyte codepage support (adding Big5 Chinese
            and Korean Hangul).
nmbd.c: Fixed problem with child being re-spawned when parent killed.
mangle.c: Modified str_checksum so that first 15 characters have more
          effect on outcome. This helps with short name mangling as
          most 'long' names are still shorter than 15 chars (bug was
          foobar_mng and foobar_sum would hash to the same value, with
          the modified code they hash differently.
Jeremy.



****************************************
Date:	Wednesday March 4, 1998 @ 7:54
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv10059

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Italian consultant.
Jeremy.



****************************************
Date:	Wednesday March 4, 1998 @ 11:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5483

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile asyncdns.c charcnv.c charset.c client.c clitar.c 
	kanji.c kanji.h loadparm.c mangle.c nmbd.c password.c proto.h 
	server.c smb.h smbmount.c trans2.c util.c 
Log Message:
Change the multibyte character set support so that
Kanji support is one case of multibyte character
support, rather than being a specific case in
single byte character support.

This allows us to add Big5 Chinese support (code page 950)
and Korean Hangul support (code page 949) at very little
cost. Also allows us to easily add future multibyte
code pages.

Makefile: Added codepages 949, 950 as we now support more multibyte
codepages.
asyncdns.c: Fixed problem with child being re-spawned when parent killed.
charcnv.c
charset.c
client.c
clitar.c
kanji.c
kanji.h
smb.h
util.c
loadparm.c: Generic multibyte codepage support (adding Big5 Chinese
            and Korean Hangul).
nmbd.c: Fixed problem with child being re-spawned when parent killed.
mangle.c: Modified str_checksum so that first 15 characters have more
          effect on outcome. This helps with short name mangling as
          most 'long' names are still shorter than 15 chars (bug was
          foobar_mng and foobar_sum would hash to the same value, with
          the modified code they hash differently.
Jeremy.



****************************************
Date:	Wednesday March 4, 1998 @ 11:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18841

Modified Files:
	password.c server.c 
Added Files:
	codepage_def.949 codepage_def.950 
Log Message:
Adding Korean and Traditional Chinese codepage support.
Jeremy.



****************************************
Date:	Wednesday March 4, 1998 @ 11:51
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2432

Added Files:
      Tag: BRANCH_1_9_18
	codepage_def.949 codepage_def.950 
Log Message:
Adding  Korean and Traditional Chinese codepage support.
Jeremy.



****************************************
Date:	Thursday March 5, 1998 @ 5:27
Author:	samba-bugs

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv1582

Modified Files:
      Tag: BRANCH_NTDOM
	NTDOMAIN.txt 
Log Message:

added trick of using smbpasswd -add nobody workstation_trust_passwd



****************************************
Date:	Thursday March 5, 1998 @ 7:08
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbpasswd
In directory samba:/tmp/cvs-serv4537

Modified Files:
      Tag: BRANCH_NTDOM
	smbpasswd.c 
Log Message:

jean francois's patch to allow "smbpasswd -m machine_name"



****************************************
Date:	Thursday March 5, 1998 @ 8:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13732

Modified Files:
      Tag: BRANCH_1_9_18
	mangle.c server.c 
Log Message:
Removed broken change I made to mangle.c (ooops. Andrew's original
algorithm was correct).
Finally (I think) fixed the mangled directory stack issue in
scan_directory() correctly. Mangled & non-mangled names are
now being checked correctly. Hurrah to Ulrik Dickow <ukd@kampsax.dk>
who helped isolate this one.
Jeremy.



****************************************
Date:	Thursday March 5, 1998 @ 8:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24885

Modified Files:
	mangle.c server.c 
Log Message:
Removed broken change I made to mangle.c (ooops. Andrew's original
algorithm was correct).
Finally (I think) fixed the mangled directory stack issue in
scan_directory() correctly. Mangled & non-mangled names are
now being checked correctly. Hurrah to Ulrik Dickow <ukd@kampsax.dk>
who helped isolate this one.
Jeremy.



****************************************
Date:	Friday March 6, 1998 @ 6:56
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbpasswd
In directory samba:/tmp/cvs-serv6133

Modified Files:
      Tag: BRANCH_NTDOM
	smbpasswd.c 
Log Message:

jean francois and gerry noticed that strupper had been used instead of
strlower to generate the machine password.



****************************************
Date:	Friday March 6, 1998 @ 6:57
Author:	lkcl

Update of /data/cvs/samba/source/utils/smbclient
In directory samba:/tmp/cvs-serv15826

Modified Files:
      Tag: BRANCH_NTDOM
	client.c 
Log Message:

fflush called after the smb:> prompt on the wrong argument.



****************************************
Date:	Monday March 9, 1998 @ 0:14
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7064

Modified Files:
	Makefile cgi.c loadparm.c proto.h smb.h 
Added Files:
	swat.c 
Log Message:

Jeremy is going to hate me ...

These are some hacks on SWAT. Maybe users will actually be able to
work out how to use it now. 

Unfortunately these changes required some editing in loadparm.c and
smb.h which will make Jeremys merge job harder. Sorry!



****************************************
Date:	Monday March 9, 1998 @ 0:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5098

Modified Files:
	cgi.c proto.h swat.c 
Log Message:
allow for non-authenticated SWAT for demo purposes



****************************************
Date:	Monday March 9, 1998 @ 0:52
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9191

Modified Files:
	cgi.c swat.c 
Log Message:
- remove redundent strstr()

- don't show printers in shares page






****************************************
Date:	Tuesday March 10, 1998 @ 15:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6655

Modified Files:
	cgi.c swat.c time.c 
Log Message:
added Date and Expires headers in the mini web server so clients know
what they can cache.



****************************************
Date:	Tuesday March 10, 1998 @ 16:47
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7022

Modified Files:
	swat.c 
Log Message:
added a "home" icon



****************************************
Date:	Tuesday March 10, 1998 @ 17:42
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13209

Modified Files:
	swat.c 
Log Message:
added status page to SWAT. Similar to smbstatus output but in a HTML
table




****************************************
Date:	Tuesday March 10, 1998 @ 17:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7092

Modified Files:
	Makefile 
Log Message:
SWAT needs to link to the locking code





****************************************
Date:	Tuesday March 10, 1998 @ 22:42
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv8769

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba-make.patch samba.pamd samba.spec 
Log Message:
Getting ready for samba-1.9.18p4



****************************************
Date:	Wednesday March 11, 1998 @ 2:39
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv23276/ubiqx

Modified Files:
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_SplayTree.c ubi_SplayTree.h ubi_dLinkList.c 
	ubi_dLinkList.h ubi_sLinkList.c ubi_sLinkList.h 
Log Message:
Updates to all of these base level modules.
Trees: Previously, the AVL node type was different than the node type used
       in the BinTree and SplayTree modules.  It requires an additional
       field to maintain AVL balance information.  I merged that field into
       the base type (in ubi_BinTree.h) so that all three use the same
       node type.  On most systems this will have zero effect on the node
       size, due to word alignment.  The change allowed me to remove a
       bigbunch of redundant code, which makes the AVL module smaller and
       cleaner.
Linked Lists:  I combined ubi_StackQueue into ubi_sLinkList.  The interface
       has changed a tiny bit.  I added macros to ubi_dLinkList to round
       it out a bit.

I have verified that the few Samba modules that use these tools (so far)
do not have any problems with the changes.

Chris -)-----



****************************************
Date:	Wednesday March 11, 1998 @ 2:42
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv7008/ubiqx

Removed Files:
	ubi_StackQueue.c ubi_StackQueue.h 
Log Message:
This functionality was added to ubi_sLinkList, so is no longer needed as a
separate module.

Chris -)-----



****************************************
Date:	Wednesday March 11, 1998 @ 4:33
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11815

Modified Files:
      Tag: BRANCH_1_9_18
	make_printerdef.c 
Log Message:
fix core dumps on Solaris 2.5 systems found by Orn Asgeirsson



****************************************
Date:	Wednesday March 11, 1998 @ 6:26
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv21924

Modified Files:
      Tag: BRANCH_1_9_18
	findsmb 
Log Message:
handle another error case



****************************************
Date:	Thursday March 12, 1998 @ 4:44
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4745

Modified Files:
	make_printerdef.c 
Log Message:
fix core dumps on Solaris 2.5 systems found by Orn Asgeirsson



****************************************
Date:	Thursday March 12, 1998 @ 8:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28558

Modified Files:
	Makefile chgpasswd.c ipc.c loadparm.c mkproto.awk 
	nmbd_processlogon.c nmbd_subnetdb.c nmbd_winsserver.c 
	ntclient.c nterr.h password.c pipes.c proto.h reply.c server.c 
	smb.h smbpass.c smbpasswd.c util.c 
Added Files:
	membuffer.c ntdomain.h 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 8:10
Author:	jra

Update of /data/cvs/samba/source/lib/rpc
In directory samba:/tmp/cvs-serv28558/lib/rpc

Added Files:
	CODING.STANDARDS 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 8:10
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv28558/lib/rpc/client

Added Files:
	cli_login.c cli_lsarpc.c cli_netlogon.c cli_pipe.c cli_samr.c 
	cli_srvsvc.c cli_wkssvc.c ntclienttrust.c 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 8:10
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv28558/lib/rpc/include

Added Files:
	rpc_dce.h rpc_lsa.h rpc_misc.h rpc_netlogon.h rpc_reg.h 
	rpc_samr.h rpc_srvsvc.h rpc_wkssvc.h 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 8:10
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv28558/lib/rpc/parse

Added Files:
	parse_lsa.c parse_misc.c parse_net.c parse_prs.c parse_reg.c 
	parse_rpc.c parse_samr.c parse_srv.c parse_wks.c 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 8:11
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv28558/lib/rpc/server

Added Files:
	srv_lsa.c srv_lsa_hnd.c srv_netlog.c srv_pipe_hnd.c srv_reg.c 
	srv_samr.c srv_srvsvc.c srv_util.c srv_wkssvc.c 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 8:11
Author:	jra

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv28558/rpc_pipes

Removed Files:
	lsa_hnd.c lsaparse.c ntclientlsa.c ntclientnet.c 
	ntclientpipe.c pipe_hnd.c pipenetlog.c pipentlsa.c pipesamr.c 
	pipesrvsvc.c pipeutil.c pipewkssvc.c samrparse.c smbparse.c 
	srvparse.c wksparse.c 
Log Message:
"For I have laboured mightily on Luke's code, and hath broken
all I saw" - the book of Jeremy, chapter 1 :-).

So here is the mega-merge of the NTDOM branch server code.
It doesn't include the new client side pieces, we'll look
at that later.

This should give the same functionality, server wise, as
the NTDOM branch does, only merged into the main branch.

Any fixes to domain controler functionality should be
added to the main branch, not the NTDOM branch.

This code compiles without warnings on gcc2.8, but will
need further testing before we are sure all the working
functionality of the NTDOM server branch has been
correctly carried over.

I hereby declare the server side of the NTDOM branch
dead (and all who sail in her :-).

Jeremy.




****************************************
Date:	Thursday March 12, 1998 @ 10:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv340

Modified Files:
	reply.c server.c 
Log Message:
Missed fixes in NTDOM branch for doing readX via pipe IPC$.
Allows long share lists to be browsed.
Browsing *into* a long share name still fails, though.
(Luke - you may need to look into this).
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 12:33
Author:	jra

Update of /data/cvs/samba/source/lib/rpc
In directory samba:/tmp/cvs-serv20087/lib/rpc

Removed Files:
      Tag: BRANCH_1_9_18
	CODING.STANDARDS 
Log Message:
Removing new lib/ directory from 1.9.18 branch.
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 12:33
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv20087/lib/rpc/client

Removed Files:
      Tag: BRANCH_1_9_18
	cli_login.c cli_lsarpc.c cli_netlogon.c cli_pipe.c cli_samr.c 
	cli_srvsvc.c cli_wkssvc.c ntclienttrust.c 
Log Message:
Removing new lib/ directory from 1.9.18 branch.
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 12:33
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv20087/lib/rpc/include

Removed Files:
      Tag: BRANCH_1_9_18
	rpc_dce.h rpc_lsa.h rpc_misc.h rpc_netlogon.h rpc_reg.h 
	rpc_samr.h rpc_srvsvc.h rpc_wkssvc.h 
Log Message:
Removing new lib/ directory from 1.9.18 branch.
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 12:33
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv20087/lib/rpc/parse

Removed Files:
      Tag: BRANCH_1_9_18
	parse_lsa.c parse_misc.c parse_net.c parse_prs.c parse_reg.c 
	parse_rpc.c parse_samr.c parse_srv.c parse_wks.c 
Log Message:
Removing new lib/ directory from 1.9.18 branch.
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 12:33
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv20087/lib/rpc/server

Removed Files:
      Tag: BRANCH_1_9_18
	srv_lsa.c srv_lsa_hnd.c srv_netlog.c srv_pipe_hnd.c srv_reg.c 
	srv_samr.c srv_srvsvc.c srv_util.c srv_wkssvc.c 
Log Message:
Removing new lib/ directory from 1.9.18 branch.
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 12:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22066

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c nmbd_processlogon.c nmbd_subnetdb.c nmbd_winsserver.c 
	smb.h 
Log Message:
ipc.c: Fixed core dump in share level security (someone was
       assuming that vuid was never zero :-).
nmbd_processlogon.c: Fixed strcpy -> pstrcpy.
nmbd_subnetdb.c: Fixed gcc2.8 warning.
nmbd_winsserver.c: Fixed bug where a bogus IP would
                   creep into a multihomed reply.
smb.h: Looks like a large change, but is just moving
       the NTDOM parts into a section at the end where
       they can be safely ifdefed out.
Jeremy.



****************************************
Date:	Thursday March 12, 1998 @ 13:14
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20697

Modified Files:
	server.c 
Log Message:
report the max size of raw reads as 65536 not 65535 (this now matches
what Win95 reports)



****************************************
Date:	Thursday March 12, 1998 @ 13:15
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27743

Modified Files:
	reply.c 
Log Message:
use FSTYPE_STRING not "SAMBA" for filesystem type





****************************************
Date:	Thursday March 12, 1998 @ 13:16
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10509

Modified Files:
	loadparm.c 
Log Message:
add FLAG_HIDE to "config file" option (so it can't be set in swat)






****************************************
Date:	Thursday March 12, 1998 @ 13:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7878

Removed Files:
	wsmbconf.c wsmbstatus.c 
Log Message:
these have been replaced by swat







****************************************
Date:	Thursday March 12, 1998 @ 13:18
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5656

Modified Files:
	.cvsignore 
Log Message:
add swat to .cvsignore








****************************************
Date:	Thursday March 12, 1998 @ 13:41
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25914

Modified Files:
	Makefile 
Log Message:
compile swat by default









****************************************
Date:	Thursday March 12, 1998 @ 13:42
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23017

Modified Files:
	cgi.c 
Log Message:
use password_ok() instead of calling crypt()










****************************************
Date:	Thursday March 12, 1998 @ 13:43
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7144

Modified Files:
	password.c server.c 
Log Message:
move setup_groups() into password.c so that swat can link without
including server.o



****************************************
Date:	Thursday March 12, 1998 @ 13:50
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv23822/web

Log Message:
Directory /data/cvs/samba/source/web added to the repository



****************************************
Date:	Thursday March 12, 1998 @ 13:56
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28222

Modified Files:
	Makefile 
Removed Files:
	cgi.c swat.c 
Log Message:
moved cgi.c and swat.c into a source/web/ directory. Note that you
won't see a cvs add in the web directory or these files as I added
them by directly copying in the repository. This keeps the history of
the files intact.





****************************************
Date:	Thursday March 12, 1998 @ 13:59
Author:	tridge

Update of /data/cvs/samba/swat
In directory samba:/tmp/cvs-serv19640/swat

Log Message:
Directory /data/cvs/samba/swat added to the repository



****************************************
Date:	Thursday March 12, 1998 @ 13:59
Author:	tridge

Update of /data/cvs/samba/swat/images
In directory samba:/tmp/cvs-serv16571/images

Log Message:
Directory /data/cvs/samba/swat/images added to the repository



****************************************
Date:	Thursday March 12, 1998 @ 13:59
Author:	tridge

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv16571/help

Log Message:
Directory /data/cvs/samba/swat/help added to the repository



****************************************
Date:	Thursday March 12, 1998 @ 14:00
Author:	tridge

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv12156

Added Files:
	parameters.html welcome.html 
Log Message:
some initial help and images files for swat



****************************************
Date:	Thursday March 12, 1998 @ 14:00
Author:	tridge

Update of /data/cvs/samba/swat/images
In directory samba:/tmp/cvs-serv11668

Added Files:
	globals.gif home.gif printers.gif shares.gif status.gif 
Log Message:
some initial help and images files for swat



****************************************
Date:	Thursday March 12, 1998 @ 14:12
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27490

Modified Files:
	Makefile 
Added Files:
	installswat.sh 
Log Message:
added an install target for SWAT




****************************************
Date:	Thursday March 12, 1998 @ 14:39
Author:	tridge

Update of /data/cvs/samba/swat
In directory samba:/tmp/cvs-serv24289

Added Files:
	README 
Log Message:
a brief description of how to install and run SWAT





****************************************
Date:	Friday March 13, 1998 @ 0:14
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv407

Modified Files:
	DHCP-Server-Configuration.txt 
Log Message:
Fixed typos. Anyone else like to vet this?



****************************************
Date:	Friday March 13, 1998 @ 5:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26207

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Fixed a problem for Thursbys Dave client. They weren't ignoring
the returned uid in share level security. Ensured we return 0
as vuid for share level security.
Jeremy.



****************************************
Date:	Saturday March 14, 1998 @ 11:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3218

Modified Files:
	loadparm.c 
Log Message:
remove an unnecessary #ifdef



****************************************
Date:	Saturday March 14, 1998 @ 11:49
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18758

Modified Files:
	Makefile 
Log Message:
fix swat entry in Makefile. Thanks for Herb for pointing out the
error.




****************************************
Date:	Saturday March 14, 1998 @ 12:26
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv461

Modified Files:
	installswat.sh 
Log Message:
fixed instructions in installswat.sh (thanks to Herb again!)





****************************************
Date:	Saturday March 14, 1998 @ 15:11
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	membuffer.c proto.h 
Log Message:
removed a redundent return statement



****************************************
Date:	Saturday March 14, 1998 @ 15:13
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/data/people/tridge/samba/source/web

Modified Files:
	cgi.c swat.c 
Log Message:
fixed support for running swat via cgi-bin




****************************************
Date:	Saturday March 14, 1998 @ 15:20
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/data/people/tridge/samba/source/web

Modified Files:
	swat.c 
Log Message:
another fix for running under cgi-bin





****************************************
Date:	Saturday March 14, 1998 @ 15:32
Author:	tridge

Update of /data/cvs/samba/swat
In directory samba:/data/people/tridge/samba/swat

Modified Files:
	README 
Log Message:
updated to give instructions on running via cgi-bin






****************************************
Date:	Saturday March 14, 1998 @ 19:27
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14293

Modified Files:
	client.c loadparm.c nmbd.c nmblookup.c server.c smb.h 
	smbmount.c status.c testparm.c 
Log Message:
another makeover of loadparm to support new stuff in swat and
testparm.

In particular I added:

- ability to optionally save default values of all parameters when
  calling lp_load(). This can then be used to save only non-default
  parameters in lp_dump(). This makes the saved smb.conf (and viewed
  parameters in testparm) much shorter

- ability to not load ipc share in lp_load()

- separators in parm_table[] so parameters can be grouped logically. 

- flag to mark parameters that are local but which should be also
  viewed as global as far as parameters editing is concerned




****************************************
Date:	Saturday March 14, 1998 @ 19:29
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv14797

Modified Files:
	swat.c 
Log Message:
- added separators
- added "view config" button




****************************************
Date:	Saturday March 14, 1998 @ 19:29
Author:	tridge

Update of /data/cvs/samba/swat/images
In directory samba:/tmp/cvs-serv14389

Added Files:
	viewconfig.gif 
Log Message:
added another pathetic looking icon






****************************************
Date:	Saturday March 14, 1998 @ 19:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15063

Modified Files:
	proto.h 
Log Message:
prototype updates



****************************************
Date:	Saturday March 14, 1998 @ 22:23
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19883

Modified Files:
	loadparm.c proto.h 
Log Message:
if a local parameter is changed at the global level then propogate the
change to all shares that are currently set to the default value.



****************************************
Date:	Saturday March 14, 1998 @ 22:24
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv19890

Modified Files:
	swat.c 
Log Message:
if a local parameter is changed at the global level then propogate the
change to all shares that are currently set to the default value.



****************************************
Date:	Saturday March 14, 1998 @ 23:57
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20798

Modified Files:
	Makefile nmbd.c proto.h server.c util.c 
Log Message:
added the ability to start/stop the server from SWAT.

I needed to modify the way the pidfile is handled in nmbd and smbd to
do this. Jeremy, you may wish to look at what I've done as it probably
breaks the Whistle use of pidfiles. In particular I've removed the -f
option and instead smbd and nmbd always create a pidfile in the lock
directory.







****************************************
Date:	Saturday March 14, 1998 @ 23:57
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv21960

Modified Files:
	swat.c 
Log Message:
added the ability to start/stop the server from SWAT.

I needed to modify the way the pidfile is handled in nmbd and smbd to
do this. Jeremy, you may wish to look at what I've done as it probably
breaks the Whistle use of pidfiles. In particular I've removed the -f
option and instead smbd and nmbd always create a pidfile in the lock
directory.







****************************************
Date:	Sunday March 15, 1998 @ 0:00
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22056

Added Files:
	pidfile.c 
Log Message:
new files to support starting/stopping the server



****************************************
Date:	Sunday March 15, 1998 @ 0:00
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv22118

Added Files:
	diagnose.c startstop.c 
Log Message:
new files to support starting/stopping the server



****************************************
Date:	Sunday March 15, 1998 @ 0:11
Author:	tridge

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv21689

Modified Files:
	welcome.html 
Log Message:
put in the longer welcome blurb




****************************************
Date:	Sunday March 15, 1998 @ 0:16
Author:	tridge

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv23651

Modified Files:
	welcome.html 
Log Message:
updated blurb





****************************************
Date:	Sunday March 15, 1998 @ 0:37
Author:	tridge

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv23251

Modified Files:
	welcome.html 
Log Message:
updated blurb some more






****************************************
Date:	Sunday March 15, 1998 @ 10:53
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22610

Modified Files:
	Makefile 
Log Message:
fixed clean target so it removes all .o files



****************************************
Date:	Sunday March 15, 1998 @ 10:55
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv21767

Modified Files:
	swat.c 
Log Message:
added a background image based on Pauls SAMBA logo but manipulated a
little with GIMP





****************************************
Date:	Sunday March 15, 1998 @ 10:55
Author:	tridge

Update of /data/cvs/samba/swat/images
In directory samba:/tmp/cvs-serv14534

Added Files:
	background.gif 
Log Message:
added a background image based on Pauls SAMBA logo but manipulated a
little with GIMP





****************************************
Date:	Sunday March 15, 1998 @ 11:00
Author:	tridge

Update of /data/cvs/samba/swat/images
In directory samba:/tmp/cvs-serv21776

Added Files:
	background.jpg 
Log Message:
a smaller background



****************************************
Date:	Sunday March 15, 1998 @ 11:01
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv23020

Modified Files:
	swat.c 
Log Message:
a smaller background



****************************************
Date:	Sunday March 15, 1998 @ 11:03
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20660

Modified Files:
	installswat.sh 
Log Message:
install jpeg files




****************************************
Date:	Sunday March 15, 1998 @ 13:37
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv363

Modified Files:
	Makefile pidfile.c server.c status.c 
Added Files:
	connection.c 
Log Message:
- added the ability to kill off individual connections from SWAT (from
  the status page)
- split the claim_connection() code into its own file
- fixed the claim_connection() code to lock the file when manipulating
  it
- always claim a null connection at startup
- fixed a bug in the pidfile code





****************************************
Date:	Sunday March 15, 1998 @ 13:37
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv651

Modified Files:
	startstop.c swat.c 
Added Files:
	statuspage.c 
Log Message:
- added the ability to kill off individual connections from SWAT (from
  the status page)
- split the claim_connection() code into its own file
- fixed the claim_connection() code to lock the file when manipulating
  it
- always claim a null connection at startup
- fixed a bug in the pidfile code





****************************************
Date:	Sunday March 15, 1998 @ 13:47
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv1042

Modified Files:
	statuspage.c 
Log Message:
safer killing of connections - it ensures the process is still a valid
smbd when killing



****************************************
Date:	Sunday March 15, 1998 @ 14:06
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27789

Modified Files:
	proto.h reply.c server.c 
Log Message:
- claim the null connection after the session request to mak sure we
  have the netbios name

- fix another kill connection bug



****************************************
Date:	Sunday March 15, 1998 @ 14:06
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv25962

Modified Files:
	statuspage.c 
Log Message:
- claim the null connection after the session request to mak sure we
  have the netbios name

- fix another kill connection bug



****************************************
Date:	Sunday March 15, 1998 @ 14:45
Author:	tridge

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv2540

Modified Files:
	welcome.html 
Log Message:
updated the images



****************************************
Date:	Sunday March 15, 1998 @ 14:46
Author:	tridge

Update of /data/cvs/samba/swat/images
In directory samba:/tmp/cvs-serv2276

Modified Files:
	background.gif globals.gif home.gif printers.gif shares.gif 
	status.gif viewconfig.gif 
Log Message:
updated the images



****************************************
Date:	Sunday March 15, 1998 @ 17:43
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv12308

Modified Files:
	statuspage.c 
Log Message:
changed the date formatting




****************************************
Date:	Monday March 16, 1998 @ 18:22
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv16886

Modified Files:
	smb.conf.5 
Log Message:
changed the default "keepalive" value to 300 seconds.

This is more important now that oplocks are being used.



****************************************
Date:	Monday March 16, 1998 @ 18:23
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19870

Modified Files:
	loadparm.c local.h 
Log Message:
changed the default "keepalive" value to 300 seconds.

This is more important now that oplocks are being used.



****************************************
Date:	Tuesday March 17, 1998 @ 5:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21435

Modified Files:
	includes.h password.c 
Log Message:
includes.h: Addition of NetBSD 1.3 fix, fix for HPUX 9.x, 10.x zombie
problem.
password.c: Fix for Thursby to stop Dave clients failing in share
mode security (this was their bug - they were interpreting the uid 
field in share mode which is explicitly denied by the spec but
it's easier for us to fix it than them :-).

Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 5:43
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25087

Modified Files:
	Support.txt smb.conf.5 
Log Message:
Adding mention of %p substitution.
Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 7:03
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25980/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 smbclient.1 
Log Message:
docs/smb.conf.5: Added reference to new "name resolve order" parameter.
                 Added new "fake directory create times" parameter from
                 Jim Hague - hague@research.canon.com.au.
                 Fixed "encrypt passwords" problem pointed out by Herb.
docs/smbclient.1: Added reference to new "name resolve order" parameter.
source/Makefile: Re-ordered link for name resolve order code.
source/clientgen.c:
source/clientutil.c: Added calls to resolve_name().
source/includes.h: Added HPUX zombie fix.
source/loadparm.c: Added new name resolve order and fake directory create times
                   parameters.
source/mkproto.awk: Allowed proto of functions starting with FILE *.
source/namequery.c: Re-wrote to include parsing of lmhosts file, new resolve_name()
                    function requested by John.
source/nmbd.c: Tell resolve_name not to do WINS lookups if we are the WINS server.
source/nmbd_lmhosts.c: Call lmhosts parsing functions in namequery.c
source/password.c: Call resolve_name() to lookup security=server name.
source/reply.c:
source/time.c:
source/trans2.c: "fake directory create times" fix from Jim Hague - hague@research.canon.com.au.
source/util.c: Removed isalnum() test in Get_Hostname() that seems to cause
               problems on many systems.

Well here it is John, your new "name resolve order" parameter.
It is documented also :-). Please test this new code to determine
it does what you want (it seems to work fine here). I will add
this new code into the head branch next.

Jeremy.




****************************************
Date:	Tuesday March 17, 1998 @ 7:03
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25980/source

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile clientgen.c clientutil.c includes.h loadparm.c 
	mkproto.awk namequery.c nmbd.c nmbd_lmhosts.c password.c 
	proto.h reply.c time.c trans2.c util.c 
Log Message:
docs/smb.conf.5: Added reference to new "name resolve order" parameter.
                 Added new "fake directory create times" parameter from
                 Jim Hague - hague@research.canon.com.au.
                 Fixed "encrypt passwords" problem pointed out by Herb.
docs/smbclient.1: Added reference to new "name resolve order" parameter.
source/Makefile: Re-ordered link for name resolve order code.
source/clientgen.c:
source/clientutil.c: Added calls to resolve_name().
source/includes.h: Added HPUX zombie fix.
source/loadparm.c: Added new name resolve order and fake directory create times
                   parameters.
source/mkproto.awk: Allowed proto of functions starting with FILE *.
source/namequery.c: Re-wrote to include parsing of lmhosts file, new resolve_name()
                    function requested by John.
source/nmbd.c: Tell resolve_name not to do WINS lookups if we are the WINS server.
source/nmbd_lmhosts.c: Call lmhosts parsing functions in namequery.c
source/password.c: Call resolve_name() to lookup security=server name.
source/reply.c:
source/time.c:
source/trans2.c: "fake directory create times" fix from Jim Hague - hague@research.canon.com.au.
source/util.c: Removed isalnum() test in Get_Hostname() that seems to cause
               problems on many systems.

Well here it is John, your new "name resolve order" parameter.
It is documented also :-). Please test this new code to determine
it does what you want (it seems to work fine here). I will add
this new code into the head branch next.

Jeremy.




****************************************
Date:	Tuesday March 17, 1998 @ 7:07
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4454

Modified Files:
	smb.h 
Log Message:
Lint was complaining about the following typedef in smb.h:

typedef enum
{
  P_LOCAL,P_GLOBAL,P_SEPARATOR,P_NONE,
} parm_class;

I removed the trailing comma.  Chris -)-----




****************************************
Date:	Tuesday March 17, 1998 @ 7:26
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv477/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smbclient.1 
Log Message:
Added capability for smbclient to override "name resolve order" parameter
on the command line with the -R flag. Documented also.
Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 7:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv477/source

Modified Files:
      Tag: BRANCH_1_9_18
	client.c loadparm.c proto.h 
Log Message:
Added capability for smbclient to override "name resolve order" parameter
on the command line with the -R flag. Documented also.
Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 7:59
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv7394/docs

Modified Files:
	smb.conf.5 smbclient.1 
Log Message:
Adding the same change as was added to 1.9.18 branch to add the
"name resolve order" parameter.

source/Makefile: Re-ordered link for name resolve order code.
source/clientgen.c:
source/clientutil.c: Added calls to resolve_name().
source/includes.h: Added HPUX zombie fix.
source/loadparm.c: Added new name resolve order parameter.
source/namequery.c: Re-wrote to include parsing of lmhosts file, new resolve_name()
                    function requested by John.
source/nmbd.c: Tell resolve_name not to do WINS lookups if we are the WINS server.
source/nmbd_lmhosts.c: Call lmhosts parsing functions in namequery.c
source/password.c: Call resolve_name() to lookup security=server name.

source/reply.c:
source/time.c:
source/trans2.c: "fake directory create times" fix from Jim Hague - hague@research.canon.com.au.
source/util.c: Removed isalnum() test in Get_Hostname() that seems to cause
               problems on many systems.

Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 7:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7394/source

Modified Files:
	Makefile client.c clientgen.c clientutil.c loadparm.c 
	namequery.c nmbd.c nmbd_lmhosts.c password.c proto.h reply.c 
	time.c trans2.c util.c 
Log Message:
Adding the same change as was added to 1.9.18 branch to add the
"name resolve order" parameter.

source/Makefile: Re-ordered link for name resolve order code.
source/clientgen.c:
source/clientutil.c: Added calls to resolve_name().
source/includes.h: Added HPUX zombie fix.
source/loadparm.c: Added new name resolve order parameter.
source/namequery.c: Re-wrote to include parsing of lmhosts file, new resolve_name()
                    function requested by John.
source/nmbd.c: Tell resolve_name not to do WINS lookups if we are the WINS server.
source/nmbd_lmhosts.c: Call lmhosts parsing functions in namequery.c
source/password.c: Call resolve_name() to lookup security=server name.

source/reply.c:
source/time.c:
source/trans2.c: "fake directory create times" fix from Jim Hague - hague@research.canon.com.au.
source/util.c: Removed isalnum() test in Get_Hostname() that seems to cause
               problems on many systems.

Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 10:11
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv10995

Modified Files:
	.cvsignore findsmb idb.pl smb.conf spec.pl 
Log Message:
add swat to build package
fix minor bug in findsmb



****************************************
Date:	Tuesday March 17, 1998 @ 11:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7305

Modified Files:
	local.h 
Log Message:
changed the default MAXSTATUS from 1000 to 100000

This number limits the number of simultaneous connections to the
server. The 1000 limit is from a looong time ago when I couldn't
imagine anyone wanting to have 1000 simultaneous clients. Now I hear
that people are testing with such numbers.

I wonder when I'll change it from 100k ?




****************************************
Date:	Tuesday March 17, 1998 @ 11:04
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv19785

Modified Files:
	startstop.c 
Log Message:
fixed call to execl() to get argv[0] right (thanks to Herb)



****************************************
Date:	Tuesday March 17, 1998 @ 11:32
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv21461

Modified Files:
	startstop.c 
Log Message:
show full path in ps by setting it in argv[0]




****************************************
Date:	Tuesday March 17, 1998 @ 11:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15676

Modified Files:
      Tag: BRANCH_1_9_18
	namequery.c 
Log Message:
Fixes for the static data bugs & incorrect use of strtok
that Andrew pointed out.
Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 11:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21876

Modified Files:
	namequery.c 
Log Message:
Fixes for the static data bugs & incorrect use of strtok
that Andrew pointed out.
Jeremy.



****************************************
Date:	Tuesday March 17, 1998 @ 12:09
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv23411

Modified Files:
	idb.pl 
Log Message:
fix typos



****************************************
Date:	Tuesday March 17, 1998 @ 22:44
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4477

Modified Files:
	loadparm.c proto.h testparm.c 
Log Message:
- added "Full View"/"Normal View" on the "view config" page

- added the ability to auto-refresh the status page. There is a
  problem with this (it can kill inetd!). Hopefully we can fix that.



****************************************
Date:	Tuesday March 17, 1998 @ 22:44
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv3575

Modified Files:
	statuspage.c swat.c 
Log Message:
- added "Full View"/"Normal View" on the "view config" page

- added the ability to auto-refresh the status page. There is a
  problem with this (it can kill inetd!). Hopefully we can fix that.



****************************************
Date:	Tuesday March 17, 1998 @ 23:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8591

Modified Files:
	access.c connection.c password.c proto.h reply.c server.c 
	util.c 
Log Message:

this isn't a big commit, it just looks like it :-)

I needed the client_name() and client_addr() functions in swat so I
could tell who was connecting from where. The problem was that these
functions didn't take a file descriptor parameter they just used
the global "Client". 

So I needed to change all calls to pass a parameter ... lots of files.



****************************************
Date:	Tuesday March 17, 1998 @ 23:31
Author:	tridge

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv12003

Modified Files:
	srv_netlog.c 
Log Message:

this isn't a big commit, it just looks like it :-)

I needed the client_name() and client_addr() functions in swat so I
could tell who was connecting from where. The problem was that these
functions didn't take a file descriptor parameter they just used
the global "Client". 

So I needed to change all calls to pass a parameter ... lots of files.



****************************************
Date:	Tuesday March 17, 1998 @ 23:31
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv11672

Modified Files:
	cgi.c swat.c 
Log Message:

this isn't a big commit, it just looks like it :-)

I needed the client_name() and client_addr() functions in swat so I
could tell who was connecting from where. The problem was that these
functions didn't take a file descriptor parameter they just used
the global "Client". 

So I needed to change all calls to pass a parameter ... lots of files.



****************************************
Date:	Tuesday March 17, 1998 @ 23:37
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv10543

Modified Files:
	cgi.c 
Log Message:
when CGI_LOGGING is on log the host name and IP

this is just so I can snoop on who is looking at the demo :-)



****************************************
Date:	Wednesday March 18, 1998 @ 1:46
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15809

Modified Files:
	loadparm.c 
Log Message:
oops, I got the sense of the show_defaults parameter to lp_dump()
wrong.



****************************************
Date:	Wednesday March 18, 1998 @ 1:46
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv19462

Modified Files:
	swat.c 
Log Message:
oops, I got the sense of the show_defaults parameter to lp_dump()
wrong.



****************************************
Date:	Wednesday March 18, 1998 @ 13:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24216/source

Modified Files:
      Tag: BRANCH_1_9_18
	chgpasswd.c ipc.c proto.h smbdes.c 
Log Message:
Added SamOEMChangePassword function.
Jeremy.



****************************************
Date:	Wednesday March 18, 1998 @ 18:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24077

Modified Files:
	proto.h 
Log Message:
changed the method used for auto-reload on the status page to use
JavaScript. This avoids the nasty inetd problem.



****************************************
Date:	Wednesday March 18, 1998 @ 18:33
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv8658

Modified Files:
	cgi.c statuspage.c 
Log Message:
changed the method used for auto-reload on the status page to use
JavaScript. This avoids the nasty inetd problem.



****************************************
Date:	Wednesday March 18, 1998 @ 18:44
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv3866

Modified Files:
	statuspage.c 
Log Message:
moved the refresh script to the end of the page so that silly things
like a refresh of 0 actually work.



****************************************
Date:	Wednesday March 18, 1998 @ 18:51
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv8280

Modified Files:
	swat.c 
Log Message:
don't set the Expires header on any page generated from a POST. This
stops the "POST data has expired" problem when using the back button
in netscape.





****************************************
Date:	Thursday March 19, 1998 @ 1:35
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv20355

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba.spec 
Log Message:
Test release 2.



****************************************
Date:	Thursday March 19, 1998 @ 6:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10768

Modified Files:
	chgpasswd.c ipc.c proto.h smbdes.c 
Log Message:
Added SamOEMChangePassword functionality.
Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 6:05
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile chgpasswd.c clientgen.c ipc.c proto.h smb.h smbdes.c 
	smbpass.c smbpasswd.c 
Log Message:
Changed smbpasswd to be client-server for a normal user, rather
than accessing the private/smbpasswd file directly (it still accesses
this file directly when run as root, so root can add users/change a 
users password without knowing the old password).

A shakeout of this change is that smbpasswd can now be used to
change a users password on a remote NT machine (yep - you heard
that one right - we can now change a NT password from UNIX !!!!!).

Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 6:15
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv7302

Modified Files:
      Tag: BRANCH_1_9_18
	ENCRYPTION.txt smbpasswd.8 
Log Message:
Documentation update for the previous smbpasswd changes.
Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 6:32
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv9900

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf 
Log Message:
use default printcap name



****************************************
Date:	Friday March 20, 1998 @ 6:47
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6043

Modified Files:
      Tag: BRANCH_1_9_18
	chgpasswd.c clientgen.c proto.h smbdes.c 
Log Message:
Make SamOEMhash more useful for NTDOM stuff.
Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 7:06
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11548/docs

Modified Files:
	ENCRYPTION.txt smbpasswd.8 
Log Message:
Adding the same changes to HEAD as were added to BRANCH_1_9_18.

Changed smbpasswd to be client-server for a normal user, rather
than accessing the private/smbpasswd file directly (it still accesses
this file directly when run as root, so root can add users/change a
users password without knowing the old password).

A shakeout of this change is that smbpasswd can now be used to
change a users password on a remote NT machine (yep - you heard
that one right - we can now change a NT password from UNIX !!!!!).

Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 7:06
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11548/source

Modified Files:
	Makefile chgpasswd.c client.c clientgen.c proto.h smbdes.c 
	smbmount.c smbpass.c smbpasswd.c 
Log Message:
Adding the same changes to HEAD as were added to BRANCH_1_9_18.

Changed smbpasswd to be client-server for a normal user, rather
than accessing the private/smbpasswd file directly (it still accesses
this file directly when run as root, so root can add users/change a
users password without knowing the old password).

A shakeout of this change is that smbpasswd can now be used to
change a users password on a remote NT machine (yep - you heard
that one right - we can now change a NT password from UNIX !!!!!).

Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 8:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19950

Modified Files:
	server.c 
Log Message:
Finally made OS/2 WP fix the default.
Jeremy.



****************************************
Date:	Friday March 20, 1998 @ 8:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20495

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
Finally made OS/2 WP fix the default.
Jeremy.



****************************************
Date:	Saturday March 21, 1998 @ 0:32
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4416

Modified Files:
      Tag: BRANCH_1_9_18
	pcap.c smb.h 
Log Message:
Added macro MAXPRINTERLEN to specify the maximum print share name length
and increased it from 8 characters to 15.
Yves Gaige <yvesg@hptnodur.grenoble.hp.com> submitted this.

This patch may affect old WfW clients but Win95 and WinNT now see all printers
with a share name longer than 8 characters.



****************************************
Date:	Saturday March 21, 1998 @ 0:37
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9231

Modified Files:
	pcap.c smb.h 
Log Message:
Added MAXPRINTERLEN define in smb.h setting printer share name length to maximumof 15 characters. IF this needs to be limited to 8 characters again please do
it in smb.h.



****************************************
Date:	Saturday March 21, 1998 @ 3:07
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv6548

Modified Files:
	smb.conf 
Log Message:
added comments about printcap name



****************************************
Date:	Saturday March 21, 1998 @ 13:58
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5365

Modified Files:
      Tag: BRANCH_1_9_18
	local.h 
Log Message:
Moved printer share name length define to local.h from smb.h



****************************************
Date:	Saturday March 21, 1998 @ 13:59
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8276

Modified Files:
      Tag: BRANCH_1_9_18
	smb.h 
Log Message:
Ditto last commit.



****************************************
Date:	Saturday March 21, 1998 @ 14:00
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv8981

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
 Getting ready for 1.9.18p4 release



****************************************
Date:	Saturday March 21, 1998 @ 14:03
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv9225/packaging/redhat/RH50

Modified Files:
	Makefile makerpms.sh samba-make.patch samba.spec 
Log Message:
Getting ready for first Red Hat Linux RPMs for 1.9.19 pre-alpha release



****************************************
Date:	Saturday March 21, 1998 @ 14:03
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9225/source

Modified Files:
	local.h smb.h 
Log Message:
Getting ready for first Red Hat Linux RPMs for 1.9.19 pre-alpha release



****************************************
Date:	Saturday March 21, 1998 @ 14:03
Author:	jht

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv9225/source/web

Modified Files:
	cgi.c 
Log Message:
Getting ready for first Red Hat Linux RPMs for 1.9.19 pre-alpha release



****************************************
Date:	Saturday March 21, 1998 @ 14:04
Author:	jht

Update of /data/cvs/samba/swat
In directory samba:/tmp/cvs-serv9225/swat

Modified Files:
	README 
Log Message:
Getting ready for first Red Hat Linux RPMs for 1.9.19 pre-alpha release



****************************************
Date:	Saturday March 21, 1998 @ 17:28
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv6040

Modified Files:
      Tag: BRANCH_1_9_18
	Roadmap WHATSNEW.txt 
Log Message:
Getting ready for release of 1.9.18p4 - Jeremy please add your bit.



****************************************
Date:	Sunday March 22, 1998 @ 12:31
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16492

Modified Files:
	shmem.c shmem_sysv.c status.c 
Log Message:
- added a check for broken RH5 include files. With the standard RH5
includes (ie. unpatched RH5) Samba gets file corruption because of the
incorrect definition of the shmid_ds structure. Updating your RH5
installation of glibc-devel fixes this.

- don't try to fcntl_lock() a read-only fd in shmem.c

- allow level 0 debug messages to get through in smbstatus



****************************************
Date:	Sunday March 22, 1998 @ 12:45
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17767

Modified Files:
      Tag: BRANCH_1_9_18
	shmem_sysv.c 
Log Message:
- added a check for broken RH5 include files. With the standard RH5
includes (ie. unpatched RH5) Samba gets file corruption because of the
incorrect definition of the shmid_ds structure. Updating your RH5
installation of glibc-devel fixes this.



****************************************
Date:	Monday March 23, 1998 @ 12:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11630

Modified Files:
	util.c 
Log Message:

a pointless commit to check on a problem Luke reported with CVS



****************************************
Date:	Tuesday March 24, 1998 @ 5:31
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16842

Modified Files:
      Tag: BRANCH_1_9_18
	local.h 
Log Message:
Added missing close comment. Causes warnings on SGI compilers



****************************************
Date:	Tuesday March 24, 1998 @ 7:46
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv4662

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Getting ready for 1.9.18p4.
Jeremy.



****************************************
Date:	Tuesday March 24, 1998 @ 7:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28724

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Ensure smb_read_error is correctly cleared in any
call that might set it.
Jeremy.



****************************************
Date:	Tuesday March 24, 1998 @ 8:09
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv545

Modified Files:
      Tag: BRANCH_1_9_18
	clientgen.c ipc.c quotas.c smbpasswd.c 
Log Message:
Fixes for compile-time warnings found by Herb, plus one small
bug in smbpasswd.c. Fix from Rolf Fokkens <rolf@flits102-126.flits.rug.nl>
for Linux quotas when there is no softlimit.
Jeremy.



****************************************
Date:	Tuesday March 24, 1998 @ 9:13
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3408/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt 
Log Message:
Little update in preparation for 1.9.18p4 release.



****************************************
Date:	Tuesday March 24, 1998 @ 9:13
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv3408/packaging/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Little update in preparation for 1.9.18p4 release.



****************************************
Date:	Tuesday March 24, 1998 @ 9:13
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv3408/packaging/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile samba.spec 
Log Message:
Little update in preparation for 1.9.18p4 release.



****************************************
Date:	Tuesday March 24, 1998 @ 9:23
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv4672

Modified Files:
	Roadmap 
Log Message:
Updating note thanks to comments from Franky Liederkerke.



****************************************
Date:	Tuesday March 24, 1998 @ 9:23
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv4672/docs

Modified Files:
	Application_Serving.txt 
Log Message:
Updating note thanks to comments from Franky Liederkerke.



****************************************
Date:	Tuesday March 24, 1998 @ 9:23
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv4672/packaging/redhat/RH50

Modified Files:
	samba.spec 
Log Message:
Updating note thanks to comments from Franky Liederkerke.



****************************************
Date:	Tuesday March 24, 1998 @ 10:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3174

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c 
Log Message:
Fixed compiler warning found by Herb.
Jeremy.



****************************************
Date:	Tuesday March 24, 1998 @ 11:37
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8799

Modified Files:
	clientgen.c ipc.c proto.h quotas.c smbpasswd.c util.c 
Log Message:
clientgen.c ipc.c smbpasswd.c: Fixes for warnings (from Herb).
quotas.c: Linux quota fix.
util.c: Ensure smb_read_error is zero in all calls that can set it.
lib/rpc/include/rpc_misc.h lib/rpc/include/rpc_netlogon.h
lib/rpc/parse/parse_misc.c lib/rpc/parse/parse_net.c
lib/rpc/server/srv_netlog.c : Modify Luke's code to call
SamOEMhash().

Jeremy.




****************************************
Date:	Tuesday March 24, 1998 @ 11:37
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv8799/lib/rpc/include

Modified Files:
	rpc_misc.h rpc_netlogon.h 
Log Message:
clientgen.c ipc.c smbpasswd.c: Fixes for warnings (from Herb).
quotas.c: Linux quota fix.
util.c: Ensure smb_read_error is zero in all calls that can set it.
lib/rpc/include/rpc_misc.h lib/rpc/include/rpc_netlogon.h
lib/rpc/parse/parse_misc.c lib/rpc/parse/parse_net.c
lib/rpc/server/srv_netlog.c : Modify Luke's code to call
SamOEMhash().

Jeremy.




****************************************
Date:	Tuesday March 24, 1998 @ 11:37
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv8799/lib/rpc/parse

Modified Files:
	parse_misc.c parse_net.c 
Log Message:
clientgen.c ipc.c smbpasswd.c: Fixes for warnings (from Herb).
quotas.c: Linux quota fix.
util.c: Ensure smb_read_error is zero in all calls that can set it.
lib/rpc/include/rpc_misc.h lib/rpc/include/rpc_netlogon.h
lib/rpc/parse/parse_misc.c lib/rpc/parse/parse_net.c
lib/rpc/server/srv_netlog.c : Modify Luke's code to call
SamOEMhash().

Jeremy.




****************************************
Date:	Tuesday March 24, 1998 @ 11:37
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv8799/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
clientgen.c ipc.c smbpasswd.c: Fixes for warnings (from Herb).
quotas.c: Linux quota fix.
util.c: Ensure smb_read_error is zero in all calls that can set it.
lib/rpc/include/rpc_misc.h lib/rpc/include/rpc_netlogon.h
lib/rpc/parse/parse_misc.c lib/rpc/parse/parse_net.c
lib/rpc/server/srv_netlog.c : Modify Luke's code to call
SamOEMhash().

Jeremy.




****************************************
Date:	Tuesday March 24, 1998 @ 12:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7417

Modified Files:
      Tag: BRANCH_1_9_18
	smbpasswd.c 
Log Message:
Tidying up a minor (usage) error in smbpasswd.c
Jermey.



****************************************
Date:	Wednesday March 25, 1998 @ 6:21
Author:	samba-bugs

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1665

Modified Files:
	util.c 
Log Message:

ypserver not available: AUTOMOUNT server and path don't work.
fix: set default values to local server / path _before_ attempting to
find the ypserver's auto.home entry.



****************************************
Date:	Wednesday March 25, 1998 @ 6:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4025

Modified Files:
	util.c 
Log Message:
Fixed 'unused variable' warnings found with gcc -Wall -Werror.
Jeremy.



****************************************
Date:	Wednesday March 25, 1998 @ 8:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6103

Modified Files:
	smbpass.c smbpasswd.c 
Log Message:
Updated smbpasswd to allow root to add machine accounts, and allow
root to disable users and set them to "NO PASSWORD".
Not quite finished with machine account stuff yet, but everything
compiles.
Jeremy.



****************************************
Date:	Wednesday March 25, 1998 @ 8:11
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2130

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h 
Log Message:

added a deliberate compile-time error which will occur if people have
-DNTDOMAIN enabled.  this has only been added to BRANCH_1_9_18.



****************************************
Date:	Wednesday March 25, 1998 @ 8:17
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6923

Modified Files:
      Tag: BRANCH_1_9_18
	NTDOMAIN.txt 
Log Message:

updated this version to instruct people _not_ to use -DNTDOMAIN version
but to obtain the latest from cvs.



****************************************
Date:	Wednesday March 25, 1998 @ 8:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2110

Modified Files:
	smbpass.c smbpasswd.c 
Log Message:
Added writing of '[XXX]' account control bits into gcos 
field when adding a user via smbpasswd.
Jeremy.



****************************************
Date:	Wednesday March 25, 1998 @ 10:09
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4819

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h 
Log Message:

replaced #error warnings when -DNTDOMAIN is used to refer to NTDOMAIN.txt



****************************************
Date:	Wednesday March 25, 1998 @ 11:19
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv19775

Modified Files:
      Tag: BRANCH_1_9_18
	findsmb 
Log Message:
added check for one more error case



****************************************
Date:	Wednesday March 25, 1998 @ 11:20
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv13296

Modified Files:
	findsmb 
Log Message:
added check for one more error case



****************************************
Date:	Wednesday March 25, 1998 @ 12:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25223

Modified Files:
	nmblib.c 
Log Message:
RFC1002 says we must put compressed name pointers in the following
outgoing packets :

NMB_NAME_REG_OPCODE, NMB_NAME_RELEASE_OPCODE, NMB_NAME_REFRESH_OPCODE,
NMB_NAME_MULTIHOMED_REG_OPCODE.

A WINS server written by Shadow Software was rejecting our packets
as we weren't using name pointers in those requests (talk about
picky :-).

Jeremy.




****************************************
Date:	Thursday March 26, 1998 @ 2:10
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv3125

Modified Files:
	README.UBI 
Log Message:
Just fiddled with the README.UBI file.



****************************************
Date:	Thursday March 26, 1998 @ 4:51
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv17169

Modified Files:
      Tag: BRANCH_1_9_18
	idb.pl 
Log Message:
no longer make smbpasswd setuid root



****************************************
Date:	Thursday March 26, 1998 @ 4:53
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv19942

Modified Files:
	idb.pl 
Log Message:
no longer make smbpasswd setuid root



****************************************
Date:	Thursday March 26, 1998 @ 7:09
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23352

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h util.c 
Log Message:
includes.h: Just capitalized first letter of Luke's message (looks better :-).
util.c: Fix for bug in is_in_path() from "Steven Hartland" <steven_hartland@pa.press.net>
- stopped 'hide files' from working correctly.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 7:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27790

Modified Files:
	util.c 
Log Message:
Fix for is_in_path from "Steven Hartland" <steven_hartland@pa.press.net> -
hide files was not working.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 7:13
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv20646

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Added comment on 'hide files' bugfix.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 7:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24436

Removed Files:
      Tag: BRANCH_1_9_18
	nameconf.c 
Log Message:
nameconf.c is a stray .c file that shouldn't be in the
distribution. It's a left over.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 7:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4093

Removed Files:
	nameconf.c 
Log Message:
nameconf.c is a stray .c file that shouldn't be in the
distribution. It's a left over.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 11:42
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv24352

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added another Australian consultant.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 13:14
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10386

Modified Files:
	smbpass.c smbpasswd.c 
Log Message:
smbpass.c: Made unknown accounts ending in '$' server accounts, not
workstation.
smbpasswd.c: Added code to count down from last machine account
to add correct uid when adding a machine account.
Jeremy.



****************************************
Date:	Thursday March 26, 1998 @ 13:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17081

Modified Files:
	smbpasswd.c 
Log Message:
Added the ability to differentiate between workstation and server
accounts when adding machine account types.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 5:58
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv3827

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
client.c: Fixed bug where debug level on command line was overridden by smb.conf
smbpasswd.c: Added -D DEBUGLOGLEVEL parameter, and improved error message reporting.
docs/smbpasswd.8: Updated for above change.
WHATSNEW.txt: Updated for above changes.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 5:58
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv3827/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smbpasswd.8 
Log Message:
client.c: Fixed bug where debug level on command line was overridden by smb.conf
smbpasswd.c: Added -D DEBUGLOGLEVEL parameter, and improved error message reporting.
docs/smbpasswd.8: Updated for above change.
WHATSNEW.txt: Updated for above changes.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 5:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3827/source

Modified Files:
      Tag: BRANCH_1_9_18
	client.c smbpasswd.c 
Log Message:
client.c: Fixed bug where debug level on command line was overridden by smb.conf
smbpasswd.c: Added -D DEBUGLOGLEVEL parameter, and improved error message reporting.
docs/smbpasswd.8: Updated for above change.
WHATSNEW.txt: Updated for above changes.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 6:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1170

Modified Files:
	client.c smbpasswd.c 
Log Message:
client.c: Fixed problem where debug level on command line was overridden by smb.conf.
smbpasswd.c: Removed bugs I put in yesterday (thanks Luke :-) and added error
message reporting for remote password changing.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 7:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23622

Modified Files:
      Tag: BRANCH_1_9_18
	namequery.c 
Log Message:
Fix for debug messages that would core-dump. Just caught in time
by Rene Boesmans               Internet: rb@cipal.be !!

Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 13:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8030

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
Fix for client generated core-dump bug where offset to readraw
was so large that when used with -DUSE_MMAP it caused the unsigned
subtraction to wrap aound and become positive - thus causing
a silly memcpy offset. Thanks to "Michael St. Laurent" <rowl@earthlink.net>
for giving me the core dump that allowed me to track this one 
down.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 13:37
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv17217

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated WHATSNEW.txt to cover MMAP bug just fixed.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 13:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7908

Modified Files:
	server.c 
Log Message:
Fix for client generated core-dump bug where offset to readraw
was so large that when used with -DUSE_MMAP it caused the unsigned
subtraction to wrap aound and become positive - thus causing
a silly memcpy offset. Thanks to "Michael St. Laurent" <rowl@earthlink.net>
for giving me the core dump that allowed me to track this one 
down.
Jeremy.



****************************************
Date:	Friday March 27, 1998 @ 19:44
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv20657/Caldera

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba-make.patch samba.spec 
Log Message:
Getting ready for 1.9.18p4 release - testing packaging tools.



****************************************
Date:	Friday March 27, 1998 @ 19:44
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv20657/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile samba-make.patch 
Log Message:
Getting ready for 1.9.18p4 release - testing packaging tools.



****************************************
Date:	Saturday March 28, 1998 @ 0:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7726

Modified Files:
	Makefile 
Log Message:

added -DFAST_SHAREMODES to the Makefile for the HPUX 10.x entry.  share modes
actually failed to initialise (slow mode) without this define on a
HP K560.



****************************************
Date:	Saturday March 28, 1998 @ 6:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8697

Modified Files:
	chgpasswd.c includes.h ipc.c loadparm.c namequery.c proto.h 
Log Message:
chgpasswd.c, ipc.c, loadparm.c: Added boolean "unix password sync"
parameter which allows the new change password code to change the
unix password also. Defaults to OFF.
includes.h: Added termios.h to FreeBSD to allow password changing.
namequery.c: Fixed missing name parameters to debug statements.
Jeremy.



****************************************
Date:	Saturday March 28, 1998 @ 7:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22470

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile chgpasswd.c includes.h ipc.c loadparm.c proto.h 
Log Message:
Makefile: Split HPUX 10.x and 9.x into separate entries - to allow FAST_SHARE_MODES
to be turned on in HPUX10.x
chgpasswd.c, ipc.c loadparm.c: Added 'unix password sync' parameter and code
to allow smb password changing to sync with UNIX.
includes.h: Added termios.h to FreeBSD to allow password changing.
Jeremy.



****************************************
Date:	Saturday March 28, 1998 @ 7:46
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv19550

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated docs & WHATSNEW.txt with 'unix password sync' info.
Jeremy.



****************************************
Date:	Saturday March 28, 1998 @ 7:46
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19550/docs

Modified Files:
      Tag: BRANCH_1_9_18
	ENCRYPTION.txt smb.conf.5 
Log Message:
Updated docs & WHATSNEW.txt with 'unix password sync' info.
Jeremy.



****************************************
Date:	Saturday March 28, 1998 @ 10:26
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26890

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Fixed type cast only



****************************************
Date:	Saturday March 28, 1998 @ 12:08
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18p4


****************************************
Date:	Saturday March 28, 1998 @ 12:09
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DHCP-Server-Configuration.txt DIAGNOSIS.txt DNIX.txt 
	DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt Faxing.txt 
	GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt PRINTER_DRIVER.txt Passwords.txt 
	Printing.txt SCO.txt Speed.txt Support.txt Tracing.txt 
	UNIX-SMB.txt UNIX_INSTALL.txt Win95.txt WinNT.txt 
	cifsntdomain.txt make_smbcodepage.1 nmbd.8 samba.7 
	security_level.txt smb.conf.5 smbclient.1 smbd.8 smbmnt.8 
	smbmount.8 smbpasswd.8 smbrun.1 smbstatus.1 smbtar.1 
	smbumount.8 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18p4


****************************************
Date:	Saturday March 28, 1998 @ 12:09
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p4


****************************************
Date:	Sunday March 29, 1998 @ 15:30
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13093

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
Added debug extension to include originating machine details.
Contributor: Arthur Olson <ado@flower.nci.nih.gov>



****************************************
Date:	Sunday March 29, 1998 @ 15:34
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10882

Modified Files:
	server.c 
Log Message:
Added remote machine and address to debug message in make_connection() function.
contributor: <ado@flower.nci.nih.gov>



****************************************
Date:	Tuesday March 31, 1998 @ 6:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1094

Modified Files:
      Tag: BRANCH_1_9_18
	smbpasswd.c 
Log Message:
Added extra remote password changing error codes from lmerr.h on NT.
Jeremy.



****************************************
Date:	Tuesday March 31, 1998 @ 6:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18755

Modified Files:
	smbpasswd.c 
Log Message:
Added extra remote password changing error codes from lmerr.h on NT.
Jeremy.



****************************************
Date:	Tuesday March 31, 1998 @ 8:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3616

Modified Files:
	server.c 
Log Message:
Fixed compile-time error introduced by log message change.
Added support for 32bit error messages needed for NTDOM code (was
in NTDOM branch, somehow missed during the merge).
Jeremy.



****************************************
Date:	Tuesday March 31, 1998 @ 11:39
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8155

Modified Files:
	smbpass.c 
Log Message:

the default for old style accounts should be workstation trust
account, not server trust account.



****************************************
Date:	Wednesday April 1, 1998 @ 3:16
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6911

Modified Files:
	Makefile 
Log Message:
Changed SCO OpenServer entry to use FAST_SHARE_MODES in place of MMAP



****************************************
Date:	Wednesday April 1, 1998 @ 5:28
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3337

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h server.c trans2.c 
Log Message:
includes.h: Fix for HPUX10.x bug taking all available semaphores.
server.c:
trans2.c: Fix for obscure oplock deadlock with NT. Moves trans2
oplock queuing code into trans2.c to only queue for trans2open
calls.
Jeremy.



****************************************
Date:	Wednesday April 1, 1998 @ 6:55
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22310

Modified Files:
	includes.h server.c trans2.c 
Log Message:
includes.h: Added semaphore fix for HPUX10.x
server.c trans2.c: Added oplock deadlock bug fix.
lib/rpc/server/srv_netlog.c: Made code that changes machine account password the default.
Jeremy.



****************************************
Date:	Wednesday April 1, 1998 @ 6:55
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv22310/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
includes.h: Added semaphore fix for HPUX10.x
server.c trans2.c: Added oplock deadlock bug fix.
lib/rpc/server/srv_netlog.c: Made code that changes machine account password the default.
Jeremy.



****************************************
Date:	Thursday April 2, 1998 @ 5:12
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv4072/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Rolling back machine password change code - this doesn't work (yet).
Jeremy.



****************************************
Date:	Thursday April 2, 1998 @ 7:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv1552/lib/rpc/client

Modified Files:
	cli_login.c 
Log Message:

cli_login.c :

	start to create the calls needed for client-side of "network" logins,
	which will be used for domain version of pass-through authentication.
	unfortunately, none of this code is called in the main branch, because
	smbclient BRANCH_NTDOM code isn't in use, yet!

srv_netlog.c :

	fixed a problem with static net_login_network() which was being
	stubborn: the if() statement looked horrendous, so i split it into
	two if() statements, one to deal with the lm password; the other to
	deal with the nt password.

	the smb_password_check() functions should _not_ be called here, in
	case we decide to disable lm hashes for security reasons, just like
	nt does.

	so, we now get a response to the SAM_LOGON "network" call, but the
	connection is still dropped.  a trace is needed from an nt server,
	which is why i started on the client-side code.  see above, which
	is why i'm calling it a day :-)



****************************************
Date:	Thursday April 2, 1998 @ 7:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv1552/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:

cli_login.c :

	start to create the calls needed for client-side of "network" logins,
	which will be used for domain version of pass-through authentication.
	unfortunately, none of this code is called in the main branch, because
	smbclient BRANCH_NTDOM code isn't in use, yet!

srv_netlog.c :

	fixed a problem with static net_login_network() which was being
	stubborn: the if() statement looked horrendous, so i split it into
	two if() statements, one to deal with the lm password; the other to
	deal with the nt password.

	the smb_password_check() functions should _not_ be called here, in
	case we decide to disable lm hashes for security reasons, just like
	nt does.

	so, we now get a response to the SAM_LOGON "network" call, but the
	connection is still dropped.  a trace is needed from an nt server,
	which is why i started on the client-side code.  see above, which
	is why i'm calling it a day :-)



****************************************
Date:	Thursday April 2, 1998 @ 10:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10630

Modified Files:
      Tag: BRANCH_1_9_18
	charcnv.c 
Log Message:
Updated Eastern European translation table from dan@feld.cvut.cz.
Jeremy.



****************************************
Date:	Thursday April 2, 1998 @ 10:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27559

Modified Files:
	charcnv.c 
Log Message:
Updated Eastern European translation table from dan@feld.cvut.cz.
Jeremy.



****************************************
Date:	Thursday April 2, 1998 @ 11:01
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17815

Modified Files:
      Tag: BRANCH_1_9_18
	clitar.c loadparm.c printing.c smb.h time.c 
Log Message:
Patch from Chris Maltby <chris@softway.com.au>. His comments follow:

  + improvement to smbtar to allow exclusion/inclusion of system and
    hidden files, and to generate a listing of what has been archived
    in a format useful for automated backup systems.

  + add the "Softq" spooling system to samba's printing capabilities.

  + I have "fixed" the intrusion of US style dates into samba reporting
    as well. The format yyyy/mm/dd is not only uunambiguous, but also
    has the benefit of making lexicographic sorts work correctly.

Jeremy.




****************************************
Date:	Thursday April 2, 1998 @ 11:01
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15984

Modified Files:
	clitar.c loadparm.c printing.c smb.h time.c 
Log Message:
Patch from Chris Maltby <chris@softway.com.au>. His comments follow:

  + improvement to smbtar to allow exclusion/inclusion of system and          
    hidden files, and to generate a listing of what has been archived
    in a format useful for automated backup systems.

  + add the "Softq" spooling system to samba's printing capabilities.
    
  + I have "fixed" the intrusion of US style dates into samba reporting  
    as well. The format yyyy/mm/dd is not only uunambiguous, but also
    has the benefit of making lexicographic sorts work correctly.

Jeremy.



****************************************
Date:	Thursday April 2, 1998 @ 11:07
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv9053/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Changed code to check NT password *first* - if it exists.
The NT password is a higher quality password, and should
always be looked at before the LM password, if available
(sorry, Luke, just a minor change, the other changes you
made were fine :-).
Jeremy.



****************************************
Date:	Friday April 3, 1998 @ 5:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12229

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd_packets.c 
Log Message:
We were missing a case switch in announcement processing - we
were loggin a become backup request with debug log level of 0
- thus producing lots of annoying error messages.

Now handle this explicitly.
Jeremy.



****************************************
Date:	Friday April 3, 1998 @ 5:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv58

Modified Files:
	nmbd_packets.c 
Log Message:
We were missing a case switch in announcement processing - we
were loggin a become backup request with debug log level of 0
- thus producing lots of annoying error messages.

Now handle this explicitly.
Jeremy.



****************************************
Date:	Friday April 3, 1998 @ 11:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15474

Modified Files:
	kanji.c loadparm.c 
Log Message:
Fix from Josef Hinteregger <joehtg@joehtg.co.at> for using
character set = iso8859-1 with the new multibyte char code.
Was always using sj_to_sj conversion in error.
Jeremy.



****************************************
Date:	Friday April 3, 1998 @ 11:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18140

Modified Files:
      Tag: BRANCH_1_9_18
	kanji.c loadparm.c 
Log Message:
Fix from Josef Hinteregger <joehtg@joehtg.co.at> for using
character set = iso8859-1 with the new multibyte char code.
Was always using sj_to_sj conversion in error.
Jeremy.



****************************************
Date:	Monday April 6, 1998 @ 23:47
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv28316/RH40

Log Message:
Directory /data/cvs/samba/packaging/redhat/RH40 added to the repository



****************************************
Date:	Monday April 6, 1998 @ 23:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv26544/RH40

Added Files:
	Makefile makeldirs.sh makerpms.sh samba-axp.patch 
	samba-make.patch samba.log samba.pamd samba.spec smb.conf 
	smb.init smbadduser smbprint smbusers 
Log Message:
Adding RPM build files for Red Hat Linux 4.0 (Yes, Cinthia - there are Olde
versions of Red Hat Linux still in use! Oops.)



****************************************
Date:	Tuesday April 7, 1998 @ 4:14
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3340

Modified Files:
	loadparm.c server.c 
Log Message:
loadparm.c: Cause IPC$ comment to be evaluated at runtime, rather than
load time (patch from "Marty Leisner" <leisner@sdsp.mc.xerox.com>.
server.c: Patch from Josef Hinteregger <joehtg@joehtg.co.at> - string
could be overwritten when find_service() called recursively.
Jeremy.



****************************************
Date:	Tuesday April 7, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv19280/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

vaguely getting somewhere with the long dce/rpc responses.  for example,
you must open the \PIPE\srvsvc (or whatever) with an open mode of 0x0042
in the SMBopenX, which translates to "open for writing, deny none".

if you open for read, you can do an SMBtrans call but you can't follow
up with a SMBreadX: access permission is denied.

this is a little bit odd.



****************************************
Date:	Tuesday April 7, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/lib/smb
In directory samba:/tmp/cvs-serv19280/lib/smb

Modified Files:
      Tag: BRANCH_NTDOM
	client_file_system.c client_ipc.c 
Log Message:

vaguely getting somewhere with the long dce/rpc responses.  for example,
you must open the \PIPE\srvsvc (or whatever) with an open mode of 0x0042
in the SMBopenX, which translates to "open for writing, deny none".

if you open for read, you can do an SMBtrans call but you can't follow
up with a SMBreadX: access permission is denied.

this is a little bit odd.



****************************************
Date:	Tuesday April 7, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv19280/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	util.c 
Log Message:

vaguely getting somewhere with the long dce/rpc responses.  for example,
you must open the \PIPE\srvsvc (or whatever) with an open mode of 0x0042
in the SMBopenX, which translates to "open for writing, deny none".

if you open for read, you can do an SMBtrans call but you can't follow
up with a SMBreadX: access permission is denied.

this is a little bit odd.



****************************************
Date:	Tuesday April 7, 1998 @ 11:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28526

Modified Files:
      Tag: BRANCH_1_9_18
	loadparm.c nmblib.c server.c 
Log Message:
loadparm.c: Fix from "Marty Leisner" <leisner@sdsp.mc.xerox.com> to allow
server string to be expanded at run time, not load time.
nmblib.c: Integrated the fix to make us RFC1002 complient, as it works
in the main branch.
server.c: Fix from Josef Hinteregger <joehtg@joehtg.co.at> to stop
static string being overwritten in recursive call.
Jeremy.



****************************************
Date:	Wednesday April 8, 1998 @ 1:56
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv10892/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	util.c 
Log Message:

wanted to display complete message in show_message, at log levels > 50.



****************************************
Date:	Wednesday April 8, 1998 @ 1:59
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9148

Modified Files:
	util.c 
Log Message:

want all of data in show_msg at log levels > 50.



****************************************
Date:	Wednesday April 8, 1998 @ 2:00
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv13697/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	util.c 
Log Message:

compile _before_ committing.  *dur*



****************************************
Date:	Wednesday April 8, 1998 @ 3:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18059

Modified Files:
      Tag: BRANCH_1_9_18
	smbpasswd.c 
Log Message:
Added check for getpwnam returning null.
Jeremy.



****************************************
Date:	Wednesday April 8, 1998 @ 3:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17804

Modified Files:
	smbpasswd.c 
Log Message:
Added check for getpwnam returning NULL.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 1:26
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv16542

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

this works better at getting large dce/rpc SMBreadXs out of a server.



****************************************
Date:	Thursday April 9, 1998 @ 1:31
Author:	lkcl

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv21498/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_lib_proto.h smb.h util_proto.h 
Log Message:

oops!  realised that the dce/rpc hdr / response code was a bit mixed up.
created separate RPC_HDR_REQ and RPC_HDR_RESP structures instead of just
a single RPC_HDR_RR structure.



****************************************
Date:	Thursday April 9, 1998 @ 1:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv21498/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

oops!  realised that the dce/rpc hdr / response code was a bit mixed up.
created separate RPC_HDR_REQ and RPC_HDR_RESP structures instead of just
a single RPC_HDR_RR structure.



****************************************
Date:	Thursday April 9, 1998 @ 1:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv21498/lib/rpc/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_dce.h rpc_srvsvc.h 
Log Message:

oops!  realised that the dce/rpc hdr / response code was a bit mixed up.
created separate RPC_HDR_REQ and RPC_HDR_RESP structures instead of just
a single RPC_HDR_RR structure.



****************************************
Date:	Thursday April 9, 1998 @ 1:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv21498/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_prs.c parse_rpc.c 
Log Message:

oops!  realised that the dce/rpc hdr / response code was a bit mixed up.
created separate RPC_HDR_REQ and RPC_HDR_RESP structures instead of just
a single RPC_HDR_RR structure.



****************************************
Date:	Thursday April 9, 1998 @ 1:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv21498/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_pipe_hnd.c srv_util.c 
Log Message:

oops!  realised that the dce/rpc hdr / response code was a bit mixed up.
created separate RPC_HDR_REQ and RPC_HDR_RESP structures instead of just
a single RPC_HDR_RR structure.



****************************************
Date:	Thursday April 9, 1998 @ 1:31
Author:	lkcl

Update of /data/cvs/samba/source/lib/util
In directory samba:/tmp/cvs-serv21498/lib/util

Modified Files:
      Tag: BRANCH_NTDOM
	membuffer.c 
Log Message:

oops!  realised that the dce/rpc hdr / response code was a bit mixed up.
created separate RPC_HDR_REQ and RPC_HDR_RESP structures instead of just
a single RPC_HDR_RR structure.



****************************************
Date:	Thursday April 9, 1998 @ 3:16
Author:	lkcl

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv26400/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

well, the server-side of dce/rpc long responses seems to be getting along
a leetle bit better.  after the first SMBreadX call set, the second dce/rpc
header is placed in the right location (i.e at the start of the second
SMBreadX call).  however, i think the data contained in it (alloc_hint,
maybe?  packet fragment type - first/last?) may be wrong...



****************************************
Date:	Thursday April 9, 1998 @ 3:16
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv26400/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_pipe_hnd.c srv_util.c 
Log Message:

well, the server-side of dce/rpc long responses seems to be getting along
a leetle bit better.  after the first SMBreadX call set, the second dce/rpc
header is placed in the right location (i.e at the start of the second
SMBreadX call).  however, i think the data contained in it (alloc_hint,
maybe?  packet fragment type - first/last?) may be wrong...



****************************************
Date:	Thursday April 9, 1998 @ 4:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2936

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c 
Log Message:
Fix to stop Win95 looping when querying printer status.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 5:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4285

Modified Files:
	ipc.c 
Log Message:
Fix to stop Windows 95 spinning on print queue requests when it
gets an error message it doesn't understand.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 10:06
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5744

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile kanji.c kanji.h smb.h 
Added Files:
      Tag: BRANCH_1_9_18
	codepage_def.936 
Log Message:
Added codepage 936 (simplified Chineses).

In doing so I realized that much code was being
duplicated between Hangul, Big5 and Simplified
Chinese - so I re-arranged kanji.[ch] to go
through generic functions for all multibyte
characters that can be identified by a single
code range (not Kanji - but all the others).

Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 10:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7635

Modified Files:
	Makefile kanji.c kanji.h smb.h 
Added Files:
	codepage_def.936 
Log Message:
Added codepage 936 (simplified Chineses).

In doing so I realized that much code was being
duplicated between Hangul, Big5 and Simplified
Chinese - so I re-arranged kanji.[ch] to go
through generic functions for all multibyte
characters that can be identified by a single
code range (not Kanji - but all the others).

Jeremy.   



****************************************
Date:	Thursday April 9, 1998 @ 10:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4705

Modified Files:
	kanji.c 
Log Message:
Missed compile error when compiling with KANJI=true.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 10:31
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv829

Modified Files:
      Tag: BRANCH_1_9_18
	kanji.c 
Log Message:
Missed compilation error when compiling with KANJI=true.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 10:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5798

Modified Files:
      Tag: BRANCH_1_9_18
	mkproto.awk 
Log Message:
Removed unneeded proto symbol.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 10:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3452

Modified Files:
	mkproto.awk 
Log Message:
Removed unneeded proto symbol.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 11:25
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5463

Modified Files:
	Makefile 
Log Message:
Added the requirement that the BinTree, SplayTree, and Cache modules be
compiled from the ubiqx directory.  These are needed for the changes
I've made to mangle.c.

Testing of mangle.c is going well.  I'm getting equivalent behavior from
the old and new versions.  (Not that the behavior is necessarily correct,
mind you, but if there are bugs they are not new bugs!)

Chris -)-----



****************************************
Date:	Thursday April 9, 1998 @ 12:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12036

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile chgpasswd.c includes.h loadparm.c server.c smb.h 
	util.c 
Log Message:
Makefile includes.h loadparm.c server.c smb.h util.c: NIS+ patch
to get home directories from stn@techfak.uni-kiel.de (Stefan Nehlsen).
includes.h chgpasswd.c: Fix to allow -DALLOW_CHANGE_PASSWORDS on HPUX.
Jeremy.



****************************************
Date:	Thursday April 9, 1998 @ 23:27
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv21664/packaging/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba.spec 
Log Message:
Getting ready for 1.9.18p5 - if it ever ships!!!



****************************************
Date:	Thursday April 9, 1998 @ 23:27
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv21664/packaging/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba.spec 
Log Message:
Getting ready for 1.9.18p5 - if it ever ships!!!



****************************************
Date:	Thursday April 9, 1998 @ 23:52
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv20703/packaging/redhat/RH40

Modified Files:
	samba.spec 
Log Message:
Getting ready for pre-release-3 or alpha1



****************************************
Date:	Thursday April 9, 1998 @ 23:52
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv20703/packaging/redhat/RH42

Modified Files:
	makerpms.sh samba.pamd samba.spec 
Log Message:
Getting ready for pre-release-3 or alpha1



****************************************
Date:	Thursday April 9, 1998 @ 23:52
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv20703/packaging/redhat/RH50

Modified Files:
	Makefile makerpms.sh samba.pamd samba.spec 
Log Message:
Getting ready for pre-release-3 or alpha1



****************************************
Date:	Thursday April 9, 1998 @ 23:56
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv22649/RH40

Modified Files:
	Makefile 
Log Message:
Some more mods in preparation for pre-release-3 of alpha1



****************************************
Date:	Thursday April 9, 1998 @ 23:56
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv22649/RH42

Added Files:
	Makefile 
Log Message:
Some more mods in preparation for pre-release-3 of alpha1



****************************************
Date:	Friday April 10, 1998 @ 0:13
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24865

Modified Files:
	password.c 
Log Message:
Added const cast to struct args to get rid of compile time warning.



****************************************
Date:	Friday April 10, 1998 @ 0:30
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25663

Modified Files:
	Makefile 
Log Message:
Added an fgrep filter to the proto: rule so that mkproto would not process
the ubiqx files.  ubiqx headers already have prototypes in them.

Chris -)-----



****************************************
Date:	Friday April 10, 1998 @ 0:30
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv25669/RH42

Modified Files:
	Makefile 
Log Message:
An oops! Now fixed. Caused nmbd/smbd to die immediately!



****************************************
Date:	Friday April 10, 1998 @ 0:30
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv25669/RH50

Modified Files:
	Makefile 
Log Message:
An oops! Now fixed. Caused nmbd/smbd to die immediately!



****************************************
Date:	Friday April 10, 1998 @ 0:43
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv26588/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_pipe_hnd.c srv_util.c 
Log Message:

well, hooray.  first time _ever_ that a list of 129 shares appeared
off of a samba server, fron an NT workstation (each with a share
comment of "really long comment to get buffer overflow").

there are some odd interaction problems between smbclient and smbd
because i do two separate SMBreadXs - one for the header (24 bytes)
and then another for the data (length of which is specified in the
header just read).

so, currently we have an "amateur" setup.  now for the "professional"
one (more robust...)



****************************************
Date:	Friday April 10, 1998 @ 6:36
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv21254

Modified Files:
	ubi_Cache.c 
Log Message:
I removed a static string that was in there because I planned to do
something with it some day.  It was causing gcc to cough up warnings
(not serious ones, mind you).  Don't worry... It will be back!
Chris -)-----



****************************************
Date:	Friday April 10, 1998 @ 6:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23162

Modified Files:
	Makefile loadparm.c proto.h server.c smb.h smbpasswd.c util.c 
Log Message:
Makefile, loadparm.c, server.c, smb.h, util.c: Patch from
stn@techfak.uni-kiel.de (Stefan Nehlsen) to get homes from
the NIS+ map.
smbpasswd.c: Tidy up of cli_state structure.
Jeremy.



****************************************
Date:	Friday April 10, 1998 @ 11:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24614

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:
Fix for [homes] problem with security=share. We were still relying
on a valid vuid to get the connecting username - this is *never* true
(anymore) with security=share.
Jeremy.



****************************************
Date:	Friday April 10, 1998 @ 11:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26236

Modified Files:
	server.c 
Log Message:
Fix for [homes] problem with security=share. We were still relying
on a valid vuid to get the connecting username - this is *never* true
(anymore) with security=share.
Jeremy.



****************************************
Date:	Saturday April 11, 1998 @ 4:14
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10341

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h locking_slow.c smbpasswd.c 
Log Message:
includes.h: Moved undefine of SEMMSL for HPUX to where it actually has an effect !
locking_slow.c: Added FTRUNCATE_NEEDS_ROOT defined code for broken systems (not sure
which these are yet).
smbpasswd.c: Clear out the struct cli_state before use.
Jeremy.



****************************************
Date:	Saturday April 11, 1998 @ 4:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14161

Modified Files:
	includes.h ipc.c locking_slow.c membuffer.c ntdomain.h proto.h 
Log Message:
includes.h: Moved HPUX undefine of SEMMSL to where it actually does something.
ipc.c: Added Luke's debug statement.
locking_slow.c: Added FTRUNCATE_NEEDS_ROOT code for broken systems that
need it (not sure what these are yet).

membuffer.c ntdomain.h proto.h
lib/rpc/include/rpc_dce.h lib/rpc/include/rpc_srvsvc.h
lib/rpc/parse/parse_prs.c lib/rpc/parse/parse_rpc.c
lib/rpc/server/srv_pipe_hnd.c lib/rpc/server/srv_util.c:
   Re-merge of Luke's NTDOM changes 'cos he's a lazy git with
   carpel tunnel syndrome :-).

Jeremy.




****************************************
Date:	Saturday April 11, 1998 @ 4:21
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv14161/lib/rpc/include

Modified Files:
	rpc_dce.h rpc_srvsvc.h 
Log Message:
includes.h: Moved HPUX undefine of SEMMSL to where it actually does something.
ipc.c: Added Luke's debug statement.
locking_slow.c: Added FTRUNCATE_NEEDS_ROOT code for broken systems that
need it (not sure what these are yet).

membuffer.c ntdomain.h proto.h
lib/rpc/include/rpc_dce.h lib/rpc/include/rpc_srvsvc.h
lib/rpc/parse/parse_prs.c lib/rpc/parse/parse_rpc.c
lib/rpc/server/srv_pipe_hnd.c lib/rpc/server/srv_util.c:
   Re-merge of Luke's NTDOM changes 'cos he's a lazy git with
   carpel tunnel syndrome :-).

Jeremy.




****************************************
Date:	Saturday April 11, 1998 @ 4:21
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv14161/lib/rpc/parse

Modified Files:
	parse_prs.c parse_rpc.c 
Log Message:
includes.h: Moved HPUX undefine of SEMMSL to where it actually does something.
ipc.c: Added Luke's debug statement.
locking_slow.c: Added FTRUNCATE_NEEDS_ROOT code for broken systems that
need it (not sure what these are yet).

membuffer.c ntdomain.h proto.h
lib/rpc/include/rpc_dce.h lib/rpc/include/rpc_srvsvc.h
lib/rpc/parse/parse_prs.c lib/rpc/parse/parse_rpc.c
lib/rpc/server/srv_pipe_hnd.c lib/rpc/server/srv_util.c:
   Re-merge of Luke's NTDOM changes 'cos he's a lazy git with
   carpel tunnel syndrome :-).

Jeremy.




****************************************
Date:	Saturday April 11, 1998 @ 4:21
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv14161/lib/rpc/server

Modified Files:
	srv_pipe_hnd.c srv_util.c 
Log Message:
includes.h: Moved HPUX undefine of SEMMSL to where it actually does something.
ipc.c: Added Luke's debug statement.
locking_slow.c: Added FTRUNCATE_NEEDS_ROOT code for broken systems that
need it (not sure what these are yet).

membuffer.c ntdomain.h proto.h
lib/rpc/include/rpc_dce.h lib/rpc/include/rpc_srvsvc.h
lib/rpc/parse/parse_prs.c lib/rpc/parse/parse_rpc.c
lib/rpc/server/srv_pipe_hnd.c lib/rpc/server/srv_util.c:
   Re-merge of Luke's NTDOM changes 'cos he's a lazy git with
   carpel tunnel syndrome :-).

Jeremy.




****************************************
Date:	Saturday April 11, 1998 @ 10:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4179

Modified Files:
      Tag: BRANCH_1_9_18
	access.c asyncdns.c charcnv.c client.c clientutil.c clitar.c 
	fault.c getsmbpass.c includes.h interface.c ipc.c loadparm.c 
	make_printerdef.c message.c namequery.c nmbd.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_packets.c nmbd_sendannounce.c 
	nmbd_subnetdb.c password.c pcap.c predict.c print_svid.c 
	proto.h reply.c server.c smbpass.c system.c username.c util.c 
Log Message:
This looks like a massive change, but it isn't. It is, in fact,
the changes needed to compile Samba with gcc-2.8 with the 
-Wstrict-prototypes -Wshadow warning flags set and get
no errors. Now to do the same for the main branch.....

Jeremy.




****************************************
Date:	Saturday April 11, 1998 @ 17:52
Author:	sharpe

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15879

Modified Files:
	client.c clitar.c 
Log Message:
Changes to client.c support the need for directories to be processed by whatever 
action is passed to do_dir.

Changes to clitar.c as requested by Canon Information Systems Research Australia:

1. Support restoring long file names
2. Write directory entries to TAR files as first part of setting directory create 
   times
3. Ensure zero length files get correct mtime
4. Allow DOS and UNIX pathnames in command line parameters.




****************************************
Date:	Saturday April 11, 1998 @ 18:00
Author:	sharpe

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv20361/docs

Modified Files:
	smbclient.1 
Log Message:
smbclient.1 updated to reflect the new functionality and to document functionality 
that has been available for a long time. More updates needed ... people tend to forget
the man pages when adding functionality.




****************************************
Date:	Saturday April 11, 1998 @ 18:14
Author:	sharpe

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21811

Modified Files:
	proto.h 
Log Message:
Oops, fogot proto.h. It needs to be updated for changes to client.c



****************************************
Date:	Saturday April 11, 1998 @ 21:07
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26957/docs

Modified Files:
      Tag: BRANCH_1_9_18
	DIAGNOSIS.txt 
Log Message:
Updated to include possible cause of TESTS 3/6 failure is incorrect broadcast address.



****************************************
Date:	Saturday April 11, 1998 @ 21:09
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19832

Modified Files:
	DIAGNOSIS.txt 
Log Message:
Updated to include possible cause of failed TESTS 3/6 as bad broadcast address.



****************************************
Date:	Saturday April 11, 1998 @ 23:02
Author:	sharpe

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1103

Modified Files:
	includes.h 
Log Message:
Fix heaps of warnings when compiling with gcc under Digital UNIX. Include route.h
and mbuf.h at a strategic point ... Wierd stuff really, because the Digital 
compiler does not complain either way, but GCC does.



****************************************
Date:	Sunday April 12, 1998 @ 0:00
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv1317

Added Files:
	PROFILES.txt 
Log Message:

created from a really useful discussion about Win95 / NT profiles.

Contributors:	Bruce Cook <BC3-AU@bigfoot.com>
		Copyright (C) 1998 Bruce Cook

		John Terpestra <samba-bugs@samba.anu.edu.au>
		Copyright (C) 1998 John H. Terpestra

		Wolfgang Ratzka <ratzka@hrz.uni-marburg.de>
		Copyright (C) 1998 Wolfgang Ratzka



****************************************
Date:	Sunday April 12, 1998 @ 1:15
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv1172

Modified Files:
	PROFILES.txt 
Log Message:
Corrected the spelling of my Surname. Added several postscripts.
Extended info on Win95 logins to Windows NT.



****************************************
Date:	Sunday April 12, 1998 @ 1:16
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6498

Added Files:
      Tag: BRANCH_1_9_18
	PROFILES.txt 
Log Message:
This document should be in the 1.9.18p5 tree too.



****************************************
Date:	Sunday April 12, 1998 @ 4:09
Author:	lkcl

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv10065/include

Modified Files:
      Tag: BRANCH_NTDOM
	smb.h 
Log Message:

debugging client side dce/rpc long data streams.  increased UNISTR2
length from 256 to 384 uint16 chars.



****************************************
Date:	Sunday April 12, 1998 @ 4:09
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv10065/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

debugging client side dce/rpc long data streams.  increased UNISTR2
length from 256 to 384 uint16 chars.



****************************************
Date:	Sunday April 12, 1998 @ 4:09
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv10065/lib/rpc/include

Modified Files:
      Tag: BRANCH_NTDOM
	rpc_misc.h 
Log Message:

debugging client side dce/rpc long data streams.  increased UNISTR2
length from 256 to 384 uint16 chars.



****************************************
Date:	Sunday April 12, 1998 @ 4:09
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv10065/lib/rpc/parse

Modified Files:
      Tag: BRANCH_NTDOM
	parse_srv.c 
Log Message:

debugging client side dce/rpc long data streams.  increased UNISTR2
length from 256 to 384 uint16 chars.



****************************************
Date:	Sunday April 12, 1998 @ 4:09
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10065/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_pipe_hnd.c 
Log Message:

debugging client side dce/rpc long data streams.  increased UNISTR2
length from 256 to 384 uint16 chars.



****************************************
Date:	Sunday April 12, 1998 @ 12:47
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14962

Modified Files:
	Makefile 
Log Message:

don't need arcfour stuff in the Makefile any more



****************************************
Date:	Sunday April 12, 1998 @ 12:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18849

Modified Files:
	clientgen.c 
Log Message:

support O_SYNC in opens for smbtorture



****************************************
Date:	Sunday April 12, 1998 @ 12:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17655

Modified Files:
	namequery.c 
Log Message:

if the resolve order is blank then assume "host"



****************************************
Date:	Sunday April 12, 1998 @ 12:52
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8791

Modified Files:
	server.c 
Log Message:

support O_SYNC at open time in files (previously we only supported it
on individual writes)




****************************************
Date:	Sunday April 12, 1998 @ 12:53
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15714

Modified Files:
	torture.c 
Log Message:

some hacks to the torture code





****************************************
Date:	Sunday April 12, 1998 @ 12:54
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20583

Modified Files:
	util.c 
Log Message:

minor reformatting of debug messages (so people don't think there is a
. on the end of their host names)





****************************************
Date:	Sunday April 12, 1998 @ 16:24
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv6047

Modified Files:
	PROFILES.txt 
Log Message:
Added additional comments from Bruce Wood



****************************************
Date:	Sunday April 12, 1998 @ 16:25
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv5307

Modified Files:
      Tag: BRANCH_1_9_18
	PROFILES.txt 
Log Message:
Added additional comments from Bruce Woods



****************************************
Date:	Monday April 13, 1998 @ 20:30
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv7747

Added Files:
      Tag: BRANCH_1_9_18
	Speed2.txt 
Log Message:
As it says.



****************************************
Date:	Monday April 13, 1998 @ 20:30
Author:	jht

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11999

Added Files:
	Speed2.txt 
Log Message:
As it says.



****************************************
Date:	Monday April 13, 1998 @ 21:12
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14033

Modified Files:
	server.c 
Log Message:

fixed a memory leak in close_file(). Each time a file was opened 
we leaked memory equal to the length of the filename.



****************************************
Date:	Monday April 13, 1998 @ 21:20
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9526

Modified Files:
      Tag: BRANCH_1_9_18
	server.c 
Log Message:

fixed a memory leak in close_file(). Each time a file was opened 
we leaked memory equal to the length of the filename.



****************************************
Date:	Monday April 13, 1998 @ 22:29
Author:	jht

Update of /data/cvs/samba/examples/autofs
In directory samba:/tmp/cvs-serv10260/autofs

Log Message:
Directory /data/cvs/samba/examples/autofs added to the repository



****************************************
Date:	Monday April 13, 1998 @ 22:31
Author:	jht

Update of /data/cvs/samba/examples/autofs
In directory samba:/tmp/cvs-serv15616

Added Files:
	auto.a mount-smb.doc mount.smb 
Log Message:
Contributed software for Linux autofs support.



****************************************
Date:	Tuesday April 14, 1998 @ 5:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16161

Modified Files:
	access.c asyncdns.c charcnv.c client.c clientutil.c clitar.c 
	fault.c getsmbpass.c includes.h interface.c ipc.c loadparm.c 
	make_printerdef.c message.c namequery.c nmbd.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_packets.c nmbd_sendannounce.c 
	nmbd_subnetdb.c password.c pcap.c predict.c print_svid.c 
	proto.h reply.c server.c smb.h smbpass.c system.c username.c 
	util.c 
Log Message:
Changes to allow Samba to be compiled with -Wstrict-prototypes
with gcc. (Not a big change although it looks like it :-).

Jeremy.



****************************************
Date:	Tuesday April 14, 1998 @ 5:35
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16127

Modified Files:
      Tag: BRANCH_1_9_18
	reply.c server.c 
Log Message:
Changed back reply_unknown and reply_special prototypes as they are
not called from the reply_xxxx vector table.
Jeremy.



****************************************
Date:	Tuesday April 14, 1998 @ 5:36
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv19100

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt smbpasswd.8 
Log Message:
Added Florida consultant. Tidied up smbpasswd man page.
Jeremy.



****************************************
Date:	Tuesday April 14, 1998 @ 8:03
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2698

Modified Files:
      Tag: BRANCH_1_9_18
	proto.h 
Log Message:
Forgot to update proto.h after last change.
Jeremy.



****************************************
Date:	Tuesday April 14, 1998 @ 8:45
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23052

Modified Files:
	proto.h reply.c server.c mangle.c 
Log Message:
Changes include:

proto.h:  The unusual.  ;)
reply.c:  I changes some function names, and updated reply.c to match.
          See mangle.c below for more.
server.c: Changed function names and parameters in file mangle.c, so
          changed server.c calls to match.  See mangle.c below for more.

mangle.c:

  I replaced the caching mechanism used for caching reverse mangled name
  maps.  The old method was a large array of 256-byte strings.  Movement
  in the stack (including push and pop) was done by memcpy()ing whole
  chunks of memory around.

  The new system uses the ubi_Cache module which, in turn, uses a splay
  tree.  Entries are dynamically allocated using a minimum amount of
  memory.  Searches are non-linear, which should speed things up a bit,
  too.  Overall, this should save memory and be faster.

  Other changes:  I streamlined the is_mangled() test and made other
  speed enhancements including replacing some static functions with
  macros.  Added comments, etc.

Note:  Per an E'mail conversation with Andrew, the 'mangled stack'
       parameter in smb.conf doesn't do anything anymore.  The cache is
       now set for 16K bytes maximum memory usage.  The mangle stack
       parameter is silently ignored.  This can easily be changed, but
       I'd rather introduce a 'mangled cache memory' parameter and
       remove 'mangled stack'.

Remaining problems:
       While testing the module, I noticed that something is calling
       name_map_mangle() twice.  The result is that names which contain
       illegal characters are getting mangled twice.

       Also, the entire module works by overwriting the input string.
       This has a variety of nasty side effects.

Summary:

  There's a lot still to be done, but the changes I have in place *should*
  work in exactly the same way (except for the mangle stack parameter).
  The rest of the bugs and other issues are separate.

Chris -)-----




****************************************
Date:	Tuesday April 14, 1998 @ 9:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4544

Modified Files:
	mangle.c 
Log Message:
Fixed aggregate initializer problem for gcc.
Jeremy.



****************************************
Date:	Tuesday April 14, 1998 @ 9:31
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9781

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Updated info.
Jeremy.



****************************************
Date:	Tuesday April 14, 1998 @ 9:39
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv27629

Modified Files:
	makefile.pl 
Log Message:
make it look for only the proper lines to uncomment.



****************************************
Date:	Tuesday April 14, 1998 @ 10:41
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7078

Modified Files:
	chgpasswd.c nmbd_processlogon.c password.c proto.h reply.c 
	smbpass.c smbpasswd.c 
Log Message:
Modified interfaces to getting smb password entries from
get_smbpwd_entry (now an internal function to smbpass.c)
to a more UNIX-like :

getsmbpwnam() - get entry by name.
getsmbpwuid() - get entry by uid.

Changed the type returned by the smbpasswd enumeration
functions to be a void * so that people don't come to
depend on it being a FILE *.

These abstractions should make it much easier to
replace the smbpasswd file with a better backend
in future.

Other files changed are to match the above changes.

Jeremy.




****************************************
Date:	Tuesday April 14, 1998 @ 10:42
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv7078/lib/rpc/server

Modified Files:
	srv_netlog.c srv_samr.c srv_util.c 
Log Message:
Modified interfaces to getting smb password entries from
get_smbpwd_entry (now an internal function to smbpass.c)
to a more UNIX-like :

getsmbpwnam() - get entry by name.
getsmbpwuid() - get entry by uid.

Changed the type returned by the smbpasswd enumeration
functions to be a void * so that people don't come to
depend on it being a FILE *.

These abstractions should make it much easier to
replace the smbpasswd file with a better backend
in future.

Other files changed are to match the above changes.

Jeremy.




****************************************
Date:	Wednesday April 15, 1998 @ 0:43
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv7616

Modified Files:
	ubi_BinTree.c ubi_BinTree.h 
Log Message:
Fixed some typecast and function pointer problems pointed out by a
programmer in Finland.

Chris -)-----



****************************************
Date:	Wednesday April 15, 1998 @ 6:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8033

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c nmbd.c util.c 
Log Message:
ipc.c: Fix for large print queue spinning with Win95. Tested it 
here and it seems to work. Will await final confirmation from
clients.
Fix from Eloy Paris for nmbd append log problem.
nmbd.c: Call reopen_logs after optarg processing (as smbd does).
util.c: Fixed Debug1 to open log in append mode if append flag set.
Jeremy.



****************************************
Date:	Wednesday April 15, 1998 @ 10:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18888

Modified Files:
      Tag: BRANCH_1_9_18
	client.c clientgen.c clientutil.c clitar.c includes.h proto.h 
Log Message:
Back ported Richard Sharpe's smbtar changes back to 1.9.18 for the p5
release.
Jeremy.



****************************************
Date:	Thursday April 16, 1998 @ 6:00
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2546

Modified Files:
	ipc.c nmbd.c proto.h smb.h smbpass.c smbpasswd.c util.c 
Log Message:
ipc.c: Fix for printer queue spinning with Win95.
nmbd.c: Fix for always overwriting log despite append setting.
smb.h: Addition of last time password changed entry to account info.
smbpass.c: Changes to support last time changed field in smbpasswd file.
smbpasswd.c: Changes to support last time changed field in smbpasswd file.
util.c: Fix for always overwriting log despite append setting.
Jeremy.



****************************************
Date:	Friday April 17, 1998 @ 1:48
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv5303

Modified Files:
	README.UBI 
Log Message:
Minor change to the wording.  It used to say "files with the prefix 'ubi_'"
or some such.  Some future files won't have the ubi_ prefix.  -)----- Chris



****************************************
Date:	Friday April 17, 1998 @ 5:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv432

Modified Files:
      Tag: BRANCH_1_9_18
	reply.c charcnv.c 
Log Message:
reply.c: Fix bugs where debug statements were accessing the fd_ptr struct
internals after Andrews' code had memset it to zero (this was causing core
dumps).
charcnv.c: Fixes for ISO8859-2 from Petr Hubeny <psh@capitol.cz>.
Jeremy.



****************************************
Date:	Friday April 17, 1998 @ 5:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21134

Modified Files:
	reply.c charcnv.c 
Log Message:
reply.c: Fix bugs where debug statements were accessing the fd_ptr struct
internals after Andrews' code had memset it to zero (this was causing core
dumps).
charcnv.c: Fixes for ISO8859-2 from Petr Hubeny <psh@capitol.cz>.
Jeremy.



****************************************
Date:	Saturday April 18, 1998 @ 1:22
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv17386

Modified Files:
	README.UBI 
Log Message:
Just changed the date.



****************************************
Date:	Saturday April 18, 1998 @ 5:29
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2553

Modified Files:
	proto.h smbdes.c smbpasswd.c 
Log Message:
Changing of machine passwords now works !!!!!!
smbdes.c: Added cred_hash3.
smbpasswd.c: Fixes for adding a machine account (needs more work).
lib/rpc/server/srv_netlog.c: Turn on the machine password changing 
code by default (calls cred_hash3).
Jeremy.



****************************************
Date:	Saturday April 18, 1998 @ 5:29
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv2553/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Changing of machine passwords now works !!!!!!
smbdes.c: Added cred_hash3.
smbpasswd.c: Fixes for adding a machine account (needs more work).
lib/rpc/server/srv_netlog.c: Turn on the machine password changing 
code by default (calls cred_hash3).
Jeremy.



****************************************
Date:	Saturday April 18, 1998 @ 8:36
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20327

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h 
Log Message:
Fix Linux compile time warning.



****************************************
Date:	Saturday April 18, 1998 @ 8:44
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19545

Modified Files:
	clientgen.c proto.h torture.c 
Log Message:
clientgen.c: Changes 'cli_xxx_' calls to use the following
regularized parameter syntax:

   setup, setup_count, max_setup_count,
   params, params_count, max_params_count,
   data, data_count, max_data_count,

(and if a reply is needed)

   *reply_params, *reply_data_len
   *reply_data, *reply_data_len

This allows the pointers and the lengths
that relate to these pointers to be next
to each other in the parameter list. This
makes seeing what you are passing to these
functions much easier to see.

Getting ready for adding the lib/rpc/client
functions needed to do security=domain.

torture.c: Fixed it so it uses / rather than \\
internally for the //machine/share syntax.

Jeremy.



****************************************
Date:	Saturday April 18, 1998 @ 12:00
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4260

Modified Files:
	includes.h smbpass.c smbpasswd.c 
Log Message:
includes.h: Added John's redhat fix for QSORT_CAST.
smbpass.c: Added lock depth code so calls to pw_file_lock() can be nested.
           Fixed codedump problems in add_smbpwd_entry().
smbpasswd.c: Removed all the code that manipulated the password file
             directly. Now *all* smbpasswd file changes are done through
             the interfaces defined in smbpass.c This should make
             the life of people adding alternate backend databases
             *much* easier.
lib/rpc/server/srv_netlog.c: Removed debug messages used to debug
                             machine password changing.
Jeremy.



****************************************
Date:	Saturday April 18, 1998 @ 12:00
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv4260/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
includes.h: Added John's redhat fix for QSORT_CAST.
smbpass.c: Added lock depth code so calls to pw_file_lock() can be nested.
           Fixed codedump problems in add_smbpwd_entry().
smbpasswd.c: Removed all the code that manipulated the password file
             directly. Now *all* smbpasswd file changes are done through
             the interfaces defined in smbpass.c This should make
             the life of people adding alternate backend databases
             *much* easier.
lib/rpc/server/srv_netlog.c: Removed debug messages used to debug
                             machine password changing.
Jeremy.



****************************************
Date:	Sunday April 19, 1998 @ 4:32
Author:	lkcl

Update of /data/cvs/pam_ntdom/lib/smb
In directory samba:/tmp/cvs-serv7703

Added Files:
	Makefile clientgen.c 
Log Message:
adding pam_ntdom to samba source repository.  this version is known as 0.21

further work to be done is:

- to add the "change machine password" support so that the transmission
of the user's password is secure.

- the session key needs to be generated from a random number.

- the domain server needs to be automatically detected (using a UDP 138
  broadcast SAMQUERY packet to \\DOMAIN-NAME\MAILSLOT\NTLOGON)

- the code to be changed from LsaSamLogon immediately followed by LsaSamLogoff
  to LsaSamLogon when PAM user session starts followed by LsaSamLogoff (or
  drop SMB connection) when PAM user session ends.

  this will result in the user _really_ joining the domain from the
  workstation, will all the benefits thereof (including that of the
  administrator being able to disconnect them!)



****************************************
Date:	Sunday April 19, 1998 @ 4:40
Author:	lkcl

Update of /data/cvs/pam_ntdom/lib/util
In directory samba:/tmp/cvs-serv14388/util

Log Message:
Directory /data/cvs/pam_ntdom/lib/util added to the repository



****************************************
Date:	Sunday April 19, 1998 @ 4:43
Author:	lkcl

Update of /data/cvs/pam_ntdom/lib/util
In directory samba:/tmp/cvs-serv8688

Added Files:
	Makefile arcfour.c credentials.c md4.c membuffer.c nterr.c 
	pwd_cache.c smbdes.c smbencrypt.c smberr.c time.c util.c 
Log Message:
adding pam_ntdom to samba source repository.  this version is known as 0.21

further work to be done is:

- to add the "change machine password" support so that the transmission
of the user's password is secure.

- the session key needs to be generated from a random number.

- the domain server needs to be automatically detected (using a UDP 138
  broadcast SAMQUERY packet to \\DOMAIN-NAME\MAILSLOT\NTLOGON)

- the code to be changed from LsaSamLogon immediately followed by LsaSamLogoff
  to LsaSamLogon when PAM user session starts followed by LsaSamLogoff (or
  drop SMB connection) when PAM user session ends.

  this will result in the user _really_ joining the domain from the
  workstation, will all the benefits thereof (including that of the
  administrator being able to disconnect them!)



****************************************
Date:	Monday April 20, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/daemon/smbd
In directory samba:/tmp/cvs-serv9238/daemon/smbd

Modified Files:
      Tag: BRANCH_NTDOM
	ipc.c 
Log Message:

dce/rpc long responses (SMBtrans plus multiple SMBreadXs) working.
this requires _ignoring_ the file offset in the SMBreadX and constructing
a file offset from the lengths of the SMBreadX requests.



****************************************
Date:	Monday April 20, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/include
In directory samba:/tmp/cvs-serv9238/include

Modified Files:
      Tag: BRANCH_NTDOM
	smb.h 
Log Message:

dce/rpc long responses (SMBtrans plus multiple SMBreadXs) working.
this requires _ignoring_ the file offset in the SMBreadX and constructing
a file offset from the lengths of the SMBreadX requests.



****************************************
Date:	Monday April 20, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv9238/lib/rpc/client

Modified Files:
      Tag: BRANCH_NTDOM
	cli_pipe.c 
Log Message:

dce/rpc long responses (SMBtrans plus multiple SMBreadXs) working.
this requires _ignoring_ the file offset in the SMBreadX and constructing
a file offset from the lengths of the SMBreadX requests.



****************************************
Date:	Monday April 20, 1998 @ 5:49
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv9238/lib/rpc/server

Modified Files:
      Tag: BRANCH_NTDOM
	srv_pipe_hnd.c srv_util.c 
Log Message:

dce/rpc long responses (SMBtrans plus multiple SMBreadXs) working.
this requires _ignoring_ the file offset in the SMBreadX and constructing
a file offset from the lengths of the SMBreadX requests.



****************************************
Date:	Monday April 20, 1998 @ 6:45
Author:	lkcl

Update of /data/cvs/samba/source/client
In directory samba:/tmp/cvs-serv22319/client

Log Message:
Directory /data/cvs/samba/source/client added to the repository



****************************************
Date:	Monday April 20, 1998 @ 6:52
Author:	lkcl

Update of /data/cvs/samba/source/client
In directory samba:/tmp/cvs-serv25013

Added Files:
	client.c clitar.h cmd_info.c cmd_ipc.c cmd_lsarpc.c 
	cmd_mount.c cmd_netlogon.c cmd_print.c cmd_samr.c cmd_smb.c 
	cmd_srvsvc.c cmd_tar.c cmd_wkssvc.c display.c 
Log Message:

adding BRANCH_NTDOM smbclient files to main branch.  intend to add a
totally separate "compile" to Makefile for these files.  this is so that
work can carry on in the main branch on the correct versions of
smbd/smbclient for the dce/rpc development.

the alternative [to work on two totally separate branches, simultaneously:
one branch for smbclient; the other for smbd] runs too many risks.



****************************************
Date:	Monday April 20, 1998 @ 6:55
Author:	lkcl

Update of /data/cvs/samba/source/lib/smb
In directory samba:/tmp/cvs-serv16373

Added Files:
	client_file_system.c client_ipc.c client_mount.c 
	client_print.c client_setup.c 
Log Message:

adding BRANCH_NTDOM smbclient files to main branch.  intend to add a
totally separate "compile" to Makefile for these files.  this is so that
work can carry on in the main branch on the correct versions of
smbd/smbclient for the dce/rpc development.

the alternative [to work on two totally separate branches, simultaneously:
one branch for smbclient; the other for smbd] runs too many risks.



****************************************
Date:	Tuesday April 21, 1998 @ 6:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25650

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile nmbd_namequery.c nmbd_packets.c nmbd_winsserver.c 
	proto.h 
Log Message:
Fixed bug that John found in WINS server code. When nmbd as a WINS
server is sending out a name_query after a WACK, it needs to send
a packet with recursion_desired = 0 (yes Luke, you were right all
along :-). If it doesn't then if it's talking to itself then the
query packet ends up back in the WINS server instead of in the client
side code.
Makefile: Changed proto generation to stop including NMBDOBJ twice.
nmbd_namequery.c nmbd_packets.c nmbd_winsserver.c: Added extra
query_name_from_wins_server() code.

Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 6:32
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25398

Modified Files:
	Makefile nmbd_namequery.c nmbd_packets.c nmbd_winsserver.c 
	proto.h 
Log Message:
Fixed bug that John found in WINS server code. When nmbd as a WINS
server is sending out a name_query after a WACK, it needs to send
a packet with recursion_desired = 0 (yes Luke, you were right all
along :-). If it doesn't then if it's talking to itself then the
query packet ends up back in the WINS server instead of in the client
side code.
Makefile: Changed proto generation to stop including NMBDOBJ twice.
nmbd_namequery.c nmbd_packets.c nmbd_winsserver.c: Added extra
query_name_from_wins_server() code.

Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 8:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25092

Modified Files:
	Makefile clientgen.c password.c proto.h server.c version.h 
Added Files:
	genrand.c 
Log Message:
Makefile: Added genrand.o
clientgen.c: Changed to fill change password buffer with random stuff.
password.c: Changed to get challenge from genrand.c
server.c: Added #ifdef around O_SYNC.
version.h: Changed to 1.9.19prealpha.
genrand.c:

   New code to generate (hopefully) good random numbers for
use in crypto challenges/session keys etc.

PLEASE REVIEW THIS CODE AND SUGGEST IMPROVEMENTS !!!!!!

Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 8:57
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv27935/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
docs/smb.conf.5: Documented 'passwd chat debug'.
source/chgpasswd.c source/loadparm.c: Added 'passwd chat debug' parameter
(defaults to false) to allow admins to debug their passwd chat scripts.
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 8:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27935/source

Modified Files:
      Tag: BRANCH_1_9_18
	chgpasswd.c loadparm.c proto.h 
Log Message:
docs/smb.conf.5: Documented 'passwd chat debug'.
source/chgpasswd.c source/loadparm.c: Added 'passwd chat debug' parameter
(defaults to false) to allow admins to debug their passwd chat scripts.
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 9:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23954

Modified Files:
	chgpasswd.c loadparm.c proto.h 
Log Message:
Added 'passwd chat debug' parameter to allow admins to debug their
Samba passwd chat scripts.
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 9:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23217

Modified Files:
	genrand.c 
Log Message:
genrand.c: Improved filename based random seed generation.
lib/rpc/server/srv_netlog.c: Changed to use generate_random_buffer().
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 9:57
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv23217/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
genrand.c: Improved filename based random seed generation.
lib/rpc/server/srv_netlog.c: Changed to use generate_random_buffer().
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 10:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1695

Modified Files:
      Tag: BRANCH_1_9_18
	clientgen.c 
Log Message:
Wrapped the O_SYNC define just in case it isn't :-).
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 12:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18629

Modified Files:
	clientgen.c password.c proto.h 
Log Message:
clientgen.c: Added cli_ulogoff() call.
password.c: Added call to cli_ulogoff on successfull sessionsetup.
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 12:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4876

Modified Files:
	password.c 
Log Message:
Added cli_ulogoff() calls to all the exit code paths in security=server.
Jeremy.



****************************************
Date:	Tuesday April 21, 1998 @ 12:36
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7012

Modified Files:
	ipc.c ntdomain.h 
Log Message:

put server-side long dce/rpc code in main branch.



****************************************
Date:	Tuesday April 21, 1998 @ 12:36
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv7012/lib/rpc/client

Modified Files:
	cli_pipe.c 
Log Message:

put server-side long dce/rpc code in main branch.



****************************************
Date:	Tuesday April 21, 1998 @ 12:36
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv7012/lib/rpc/server

Modified Files:
	srv_pipe_hnd.c 
Log Message:

put server-side long dce/rpc code in main branch.



****************************************
Date:	Tuesday April 21, 1998 @ 17:17
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12653

Modified Files:
	genrand.c 
Log Message:

improved the secret buffer generation a bit. It now uses /etc/shadow
and smbpasswd if possible, and doesn't put it all through a 32 bit
bottleneck.




****************************************
Date:	Tuesday April 21, 1998 @ 17:26
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6559

Modified Files:
	genrand.c 
Log Message:

many systems don't have /etc/shadow but do have another system for
making encrypted passwords secret. For example, with secure NIS+ only
root can get the encrypted password. 

hash in the encrypted password of "root" to provide a nice source of
secret on such systems. On systems that don't have this (ie. any user
can get roots encrypted password) then the security is so slack that
it probably doesn't matter what we do to generate the secret.



****************************************
Date:	Wednesday April 22, 1998 @ 10:56
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25571

Modified Files:
	genrand.c loadparm.c password.c reply.c server.c smb.h 
Log Message:
genrand.c: Improved generation of random values, more secure.
loadparm.c: Started add of 'security=domain' code.
password.c: Fix for security=server NT bugs.
reply.c: Started add of 'security=domain' code.
server.c: Started add of 'security=domain' code.
smb.h: Started add of 'security=domain' code.
Jeremy.



****************************************
Date:	Wednesday April 22, 1998 @ 11:44
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv519

Modified Files:
      Tag: BRANCH_1_9_18
	smbclient.1 
Log Message:
Fixed documentation of debug level -dA, noticed by Eloy Paris.
Jeremy.



****************************************
Date:	Thursday April 23, 1998 @ 3:40
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24606

Modified Files:
      Tag: BRANCH_1_9_18
	clientgen.c password.c proto.h 
Log Message:
clientgen.c: Added cli_ulogoff().
password.c: Added new two-level security=server code.
Jeremy.



****************************************
Date:	Thursday April 23, 1998 @ 3:59
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv28374/lib/rpc/server

Modified Files:
	srv_netlog.c srv_srvsvc.c srv_wkssvc.c 
Log Message:
Fixed bug found by Gerald Carter <cartegw@Eng.Auburn.EDU> where
global myname was being overwritten incorrectly.
Jeremy.



****************************************
Date:	Thursday April 23, 1998 @ 23:28
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1818

Modified Files:
	Makefile 
Log Message:

added ctags as well as etags.



****************************************
Date:	Friday April 24, 1998 @ 4:54
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24751

Modified Files:
	genrand.c password.c proto.h reply.c smbpass.c 
Log Message:
genrand.c: Changed SMB_PASSWD_FILE to lp_smb_passwd_file().
password.c: Started the initial code for domain_client_validate(). All
            bracketed with #ifdef DOMAIN_CLIENT for now.
reply.c: Call to domain_client_validate(). All
            bracketed with #ifdef DOMAIN_CLIENT for now.
smbpass.c: New code to get/set machine passwords. Tidied up nesting
           of lock calls.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 6:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2762

Modified Files:
	clientgen.c password.c proto.h smbpasswd.c 
Log Message:
clientgen.c: Added rap error codes to cli_error, moved from smbpasswd.c
password.c: Changed global cli -> pw_cli, removed strtok (bad strtok, bad :-)
use in security=server, started to extend security=domain code.
smbpasswd.c: Removed rap error code functions.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 8:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16900

Modified Files:
	nterr.c 
Log Message:
We will need this new nterr.c for the DOMAIN_CLIENT code.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 8:45
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv25421

Modified Files:
	cli_login.c cli_netlogon.c cli_pipe.c 
Log Message:
These don't compile yet - but they are the core code in what
will be DOMAIN_CLIENT called code.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 8:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11983

Modified Files:
	Makefile clientgen.c password.c proto.h smb.h 
Log Message:
Makefile: Added nterr.c into the mix.
clientgen.c: Added nt_error as an entry in the struct client_state.
password.c: Open the netlogon pipe.
smb.h: Added nt_error as an entry in the struct client_state.
lib/rpc/parse/parse_net.c: Added comments on net logon.
lib/rpc/server/srv_netlog.c: Added comments on net logon.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 8:59
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv11983/lib/rpc/parse

Modified Files:
	parse_net.c 
Log Message:
Makefile: Added nterr.c into the mix.
clientgen.c: Added nt_error as an entry in the struct client_state.
password.c: Open the netlogon pipe.
smb.h: Added nt_error as an entry in the struct client_state.
lib/rpc/parse/parse_net.c: Added comments on net logon.
lib/rpc/server/srv_netlog.c: Added comments on net logon.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 8:59
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv11983/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Makefile: Added nterr.c into the mix.
clientgen.c: Added nt_error as an entry in the struct client_state.
password.c: Open the netlogon pipe.
smb.h: Added nt_error as an entry in the struct client_state.
lib/rpc/parse/parse_net.c: Added comments on net logon.
lib/rpc/server/srv_netlog.c: Added comments on net logon.
Jeremy.



****************************************
Date:	Friday April 24, 1998 @ 10:34
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv325

Modified Files:
	cli_pipe.c 
Log Message:
cli_pipe.c: Corrected cli_api_pipe() calls.
Jeremy.



****************************************
Date:	Saturday April 25, 1998 @ 5:01
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18804

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h password.c 
Log Message:
Fixes for SGI compile time warnings.
Jeremy.



****************************************
Date:	Saturday April 25, 1998 @ 7:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27412

Modified Files:
	proto.h 
Log Message:

ABOUT time.  dce/rpc long packet format now works, server-side.
turns out that [it can be deduced that] microsoft ignores the SMBreadX
offset, and goes by the SMBreadX length only.  this makes for a lot simpler
code, in both client and server.



****************************************
Date:	Saturday April 25, 1998 @ 7:01
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv27412/lib/rpc/server

Modified Files:
	srv_pipe_hnd.c srv_util.c 
Log Message:

ABOUT time.  dce/rpc long packet format now works, server-side.
turns out that [it can be deduced that] microsoft ignores the SMBreadX
offset, and goes by the SMBreadX length only.  this makes for a lot simpler
code, in both client and server.



****************************************
Date:	Saturday April 25, 1998 @ 11:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21779

Modified Files:
	client.c clientutil.c includes.h ipc.c loadparm.c nmbd.c 
	nmbd_become_dmb.c nmbd_become_lmb.c nmbd_browsesync.c 
	nmbd_elections.c nmbd_incomingdgrams.c nmbd_incomingrequests.c 
	nmbd_logonnames.c nmbd_mynames.c nmbd_nameregister.c 
	nmbd_processlogon.c nmbd_responserecordsdb.c 
	nmbd_sendannounce.c nmbd_serverlistdb.c nmbd_subnetdb.c 
	nmbd_workgroupdb.c nmblib.c password.c pipes.c reply.c 
	server.c smb.h smbmount.c smbpasswd.c util.c 
Log Message:
This looks like a big change but really isn't.
It is changing the global variables "myname" and "myworkgroup"
to "global_myname" and "global_myworkgroup" respectively.

This is to make it very explicit when we are messing
with a global (don't ask - it makes the domain client
code much clearer :-).

Jeremy.




****************************************
Date:	Saturday April 25, 1998 @ 11:12
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv21779/lib/rpc/client

Modified Files:
	cli_login.c cli_netlogon.c cli_pipe.c 
Log Message:
This looks like a big change but really isn't.
It is changing the global variables "myname" and "myworkgroup"
to "global_myname" and "global_myworkgroup" respectively.

This is to make it very explicit when we are messing
with a global (don't ask - it makes the domain client
code much clearer :-).

Jeremy.




****************************************
Date:	Saturday April 25, 1998 @ 11:12
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv21779/lib/rpc/server

Modified Files:
	srv_netlog.c srv_srvsvc.c srv_wkssvc.c 
Log Message:
This looks like a big change but really isn't.
It is changing the global variables "myname" and "myworkgroup"
to "global_myname" and "global_myworkgroup" respectively.

This is to make it very explicit when we are messing
with a global (don't ask - it makes the domain client
code much clearer :-).

Jeremy.




****************************************
Date:	Sunday April 26, 1998 @ 16:11
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv11746

Modified Files:
      Tag: BRANCH_1_9_18
	README 
Log Message:
Getting ready for 1.9.18p5 release.



****************************************
Date:	Sunday April 26, 1998 @ 16:11
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv11746/packaging/Caldera

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile samba.spec 
Log Message:
Getting ready for 1.9.18p5 release.



****************************************
Date:	Sunday April 26, 1998 @ 16:11
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv11746/packaging/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile samba.spec 
Log Message:
Getting ready for 1.9.18p5 release.



****************************************
Date:	Sunday April 26, 1998 @ 16:11
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv11746/packaging/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile samba.spec 
Log Message:
Getting ready for 1.9.18p5 release.



****************************************
Date:	Monday April 27, 1998 @ 18:43
Author:	vlendec

Update of /data/cvs/samba/packaging/SuSE
In directory samba:/tmp/cvs-serv18062/SuSE

Log Message:
Directory /data/cvs/samba/packaging/SuSE added to the repository
--> Using per-directory sticky tag `BRANCH_1_9_18'



****************************************
Date:	Monday April 27, 1998 @ 18:43
Author:	vlendec

Update of /data/cvs/samba/packaging/SuSE/5.2
In directory samba:/tmp/cvs-serv26522/5.2

Log Message:
Directory /data/cvs/samba/packaging/SuSE/5.2 added to the repository
--> Using per-directory sticky tag `BRANCH_1_9_18'



****************************************
Date:	Monday April 27, 1998 @ 18:48
Author:	vlendec

Update of /data/cvs/samba/packaging/SuSE/5.2
In directory samba:/tmp/cvs-serv25805/packaging/SuSE/5.2

Added Files:
      Tag: BRANCH_1_9_18
	samba-1.9.18p5.dif samba.spec 
Log Message:
Added SuSE packaging files.

Volker




****************************************
Date:	Monday April 27, 1998 @ 19:11
Author:	vlendec

Update of /data/cvs/samba/packaging/SuSE/5.2
In directory samba:/tmp/cvs-serv24692/packaging/SuSE/5.2

Added Files:
	samba-1.9.18p5.dif samba.spec 
Log Message:
Added SuSE packaging files.

Volker




****************************************
Date:	Tuesday April 28, 1998 @ 2:21
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv21422

Modified Files:
      Tag: BRANCH_1_9_18
	smbprint 
Log Message:
clean up instructions



****************************************
Date:	Tuesday April 28, 1998 @ 11:24
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv14148

Modified Files:
	cli_login.c cli_netlogon.c cli_pipe.c 
Log Message:
First version that compiles. Much more to do.....
Jeremy.



****************************************
Date:	Tuesday April 28, 1998 @ 19:53
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3481

Modified Files:
	clientgen.c 
Log Message:

added NetShareEnum from Bartlomej Czardybon <czar@silesia.pik-net.pl>



****************************************
Date:	Wednesday April 29, 1998 @ 2:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11684

Modified Files:
	clientgen.c 
Log Message:
Fixed checked in code that didn't compile.
Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 4:58
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv10136

Modified Files:
	idb.pl 
Log Message:
fix problem with output file not being properly sorted



****************************************
Date:	Wednesday April 29, 1998 @ 5:36
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv5580

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Canadian consultant. Changed Australian consultant.
Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 10:02
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20754

Modified Files:
	Makefile loadparm.c nterr.c password.c proto.h reply.c 
	server.c smb.h smbdes.c smbpass.c 
Log Message:
This is the checkin that adds the security=domain functionality.

WARNING - so far this has only been tested against a Samba PDC
(still waiting for IS to add me the machine accounts :-).

Still missing is the code in smbpasswd that will add a machine
account password and change it on the domain controller, but
this is not hard, and I will check it in soon.

Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 10:02
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv20754/lib/rpc/client

Modified Files:
	cli_login.c cli_netlogon.c 
Log Message:
This is the checkin that adds the security=domain functionality.

WARNING - so far this has only been tested against a Samba PDC
(still waiting for IS to add me the machine accounts :-).

Still missing is the code in smbpasswd that will add a machine
account password and change it on the domain controller, but
this is not hard, and I will check it in soon.

Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 10:02
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv20754/lib/rpc/include

Modified Files:
	rpc_netlogon.h 
Log Message:
This is the checkin that adds the security=domain functionality.

WARNING - so far this has only been tested against a Samba PDC
(still waiting for IS to add me the machine accounts :-).

Still missing is the code in smbpasswd that will add a machine
account password and change it on the domain controller, but
this is not hard, and I will check it in soon.

Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 10:02
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv20754/lib/rpc/parse

Modified Files:
	parse_net.c 
Log Message:
This is the checkin that adds the security=domain functionality.

WARNING - so far this has only been tested against a Samba PDC
(still waiting for IS to add me the machine accounts :-).

Still missing is the code in smbpasswd that will add a machine
account password and change it on the domain controller, but
this is not hard, and I will check it in soon.

Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 10:02
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv20754/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
This is the checkin that adds the security=domain functionality.

WARNING - so far this has only been tested against a Samba PDC
(still waiting for IS to add me the machine accounts :-).

Still missing is the code in smbpasswd that will add a machine
account password and change it on the domain controller, but
this is not hard, and I will check it in soon.

Jeremy.



****************************************
Date:	Wednesday April 29, 1998 @ 21:00
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3828

Modified Files:
	password.c smbpass.c 
Log Message:


password.c:

	added become_root / unbecome_root around the get machine account password.

smbpass.c:

	cleaning up code.

	- turning if (BOOL_expr == False) into if (BOOL_expr)
	  what if you test if (BOOL_expr == True) and someone defines
	  True to be -1 on one system and 1 on another?  or if you get
	  inconsistent return results between developers

	- removed if ((FILE*) == 0) and made this if ((FILE*) == NULL) -
	  cannot assume that NULL is zero integer.  plus there are typecast
	  issues to deal with

	- removed return (ret == 0) ? True : False and made this return ret == 0
	  rely on the compiler to return correct BOOL value: not all developers
	  will return True or False #defines: stick with BOOL test (non-zero).

	- removed if (ret == False) replaced with if (!ret)

	- bug where instead of if (sizeof(pstring)-len-len-6 < 0) it had a
	  boolean test if (pstring-len-len-6).

	- removed "." after debugging of filenames: the "." - a fullstop -
	  looked like it was part of the filename, making things difficult
	  to sort out.

still to be resolved: the global_myname isn't set up, such that the
machine account password file is named "TEST3..mac".



****************************************
Date:	Wednesday April 29, 1998 @ 23:45
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv3313

Modified Files:
	mkrelease.sh 
Log Message:
add clean option



****************************************
Date:	Wednesday April 29, 1998 @ 23:46
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv25089

Modified Files:
      Tag: BRANCH_1_9_18
	mkrelease.sh 
Log Message:
added clean option



****************************************
Date:	Thursday April 30, 1998 @ 5:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23803

Modified Files:
      Tag: BRANCH_1_9_18
	clientgen.c 
Log Message:
Fixed null session setup bug.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 5:21
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10238

Modified Files:
	clientgen.c password.c proto.h smb.h 
Log Message:
clientgen.c: Fixed null session setup bug.
password.c: Stopped cli_nt_logout call (we don't have it correct yet).
            Added Luke object-orientation fix :-).
smb.h: Added clnt_name_slash to cli_state.
lib/rpc/client/cli_login.c: Changed global_myname to clnt_name_slash where needed.
lib/rpc/client/cli_netlogon.c: Fixed debug messages, don't check creds on error.
lib/rpc/client/cli_pipe.c: Fixed debug messages, Added Luke object-orientation fix.
lib/rpc/parse/parse_misc.c: Fixed STRING2 linearization bug that was adding 1.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 5:22
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv10238/lib/rpc/client

Modified Files:
	cli_login.c cli_netlogon.c cli_pipe.c 
Log Message:
clientgen.c: Fixed null session setup bug.
password.c: Stopped cli_nt_logout call (we don't have it correct yet).
            Added Luke object-orientation fix :-).
smb.h: Added clnt_name_slash to cli_state.
lib/rpc/client/cli_login.c: Changed global_myname to clnt_name_slash where needed.
lib/rpc/client/cli_netlogon.c: Fixed debug messages, don't check creds on error.
lib/rpc/client/cli_pipe.c: Fixed debug messages, Added Luke object-orientation fix.
lib/rpc/parse/parse_misc.c: Fixed STRING2 linearization bug that was adding 1.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 5:22
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv10238/lib/rpc/parse

Modified Files:
	parse_misc.c 
Log Message:
clientgen.c: Fixed null session setup bug.
password.c: Stopped cli_nt_logout call (we don't have it correct yet).
            Added Luke object-orientation fix :-).
smb.h: Added clnt_name_slash to cli_state.
lib/rpc/client/cli_login.c: Changed global_myname to clnt_name_slash where needed.
lib/rpc/client/cli_netlogon.c: Fixed debug messages, don't check creds on error.
lib/rpc/client/cli_pipe.c: Fixed debug messages, Added Luke object-orientation fix.
lib/rpc/parse/parse_misc.c: Fixed STRING2 linearization bug that was adding 1.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 5:37
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23088

Modified Files:
      Tag: BRANCH_1_9_18
	loadparm.c 
Log Message:
Fixed auto services bug - patch from tim@quiknet.com.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 8:27
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13991

Modified Files:
	Makefile loadparm.c proto.h server.c smbpass.c smbpasswd.c 
Log Message:
Makefile: Added files to smbpasswd.c.
loadparm.c: Patch from tim@quiknet.com for static string problems.
server.c: Setup global_myname.
smbpass.c: Fix up locking. Add machine_password_delete() call.
smbpasswd.c: Added provisional code to add to a domain.
lib/rpc/client/cli_login.c: Fixed incorrect cred_hash3 call when setting machine password.
lib/rpc/server/srv_netlog.c: Fixed incorrect cred_hash3 call when setting machine password.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 8:27
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv13991/lib/rpc/client

Modified Files:
	cli_login.c 
Log Message:
Makefile: Added files to smbpasswd.c.
loadparm.c: Patch from tim@quiknet.com for static string problems.
server.c: Setup global_myname.
smbpass.c: Fix up locking. Add machine_password_delete() call.
smbpasswd.c: Added provisional code to add to a domain.
lib/rpc/client/cli_login.c: Fixed incorrect cred_hash3 call when setting machine password.
lib/rpc/server/srv_netlog.c: Fixed incorrect cred_hash3 call when setting machine password.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 8:27
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv13991/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Makefile: Added files to smbpasswd.c.
loadparm.c: Patch from tim@quiknet.com for static string problems.
server.c: Setup global_myname.
smbpass.c: Fix up locking. Add machine_password_delete() call.
smbpasswd.c: Added provisional code to add to a domain.
lib/rpc/client/cli_login.c: Fixed incorrect cred_hash3 call when setting machine password.
lib/rpc/server/srv_netlog.c: Fixed incorrect cred_hash3 call when setting machine password.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 10:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19102

Modified Files:
      Tag: BRANCH_1_9_18
	smbpass.c 
Log Message:
Fixed lockfile problems using both F_RDLCK and F_WRLCK at the same time.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 11:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv91

Modified Files:
	chgpasswd.c ipc.c loadparm.c password.c proto.h smbpass.c 
	smbpasswd.c 
Log Message:
Added patch from Bruce Tenison <btenison@dibbs.net> to allow encrypted
passwords to be stored over time, allowing a smbpasswd file migration.
Adds new parameter "update encrypted".
Will also add to 1.9.18 branch.
Docs update to follow.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 11:39
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv91/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Added patch from Bruce Tenison <btenison@dibbs.net> to allow encrypted
passwords to be stored over time, allowing a smbpasswd file migration.
Adds new parameter "update encrypted".
Will also add to 1.9.18 branch.
Docs update to follow.
Jeremy.



****************************************
Date:	Thursday April 30, 1998 @ 11:39
Author:	jra

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv91/web

Modified Files:
	swat.c 
Log Message:
Added patch from Bruce Tenison <btenison@dibbs.net> to allow encrypted
passwords to be stored over time, allowing a smbpasswd file migration.
Adds new parameter "update encrypted".
Will also add to 1.9.18 branch.
Docs update to follow.
Jeremy.



****************************************
Date:	Friday May 1, 1998 @ 2:00
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv9266

Modified Files:
	mkman idb.pl 
Log Message:
mkman - add argument for making html versions of man pages
idb.pl - minor fixups for sorting of output file.



****************************************
Date:	Saturday May 2, 1998 @ 5:02
Author:	herb

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv20409

Modified Files:
	parameters.html 
Log Message:
here is a first cut at a "fixed up" help file



****************************************
Date:	Tuesday May 5, 1998 @ 5:37
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv12952/docs

Modified Files:
      Tag: BRANCH_1_9_18
	ENCRYPTION.txt smb.conf.5 
Log Message:
docs/ENCRYPTION.txt: Added 'Migrating to encrypted passwords' section.
docs/smb.conf.5: Added "update encrypted" docs.
source/chgpasswd.c:
source/loadparm.c:
source/password.c:
source/smbpass.c: Added 'update encrypted' patch from Bruce Tenison <btenison@dibbs.net>.
source/ipc.c: Added fix for long printer driver name.
This should be the last code checkin before 1.9.18p5 (compile bugs permitting).
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 5:37
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12952/source

Modified Files:
      Tag: BRANCH_1_9_18
	chgpasswd.c ipc.c loadparm.c password.c proto.h smbpass.c 
Log Message:
docs/ENCRYPTION.txt: Added 'Migrating to encrypted passwords' section.
docs/smb.conf.5: Added "update encrypted" docs.
source/chgpasswd.c:
source/loadparm.c:
source/password.c:
source/smbpass.c: Added 'update encrypted' patch from Bruce Tenison <btenison@dibbs.net>.
source/ipc.c: Added fix for long printer driver name.
This should be the last code checkin before 1.9.18p5 (compile bugs permitting).
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 6:25
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv15230

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
source/*.c - fixes for DEBUG typos.
docs/ENCRYPTION.txt: Updated "update encrypted" section.
WHATSNEW.txt: Preparing for 1.9.18p5 release.
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 6:25
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv15230/docs

Modified Files:
      Tag: BRANCH_1_9_18
	ENCRYPTION.txt 
Log Message:
source/*.c - fixes for DEBUG typos.
docs/ENCRYPTION.txt: Updated "update encrypted" section.
WHATSNEW.txt: Preparing for 1.9.18p5 release.
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 6:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15230/source

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd_logonnames.c nmbd_namequery.c nmbd_namerelease.c server.c 
Log Message:
source/*.c - fixes for DEBUG typos.
docs/ENCRYPTION.txt: Updated "update encrypted" section.
WHATSNEW.txt: Preparing for 1.9.18p5 release.
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 8:43
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8540/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Added rider about net workstation user logon parameter.
Moved IPC$ tcon into parameter bracketed code.
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 8:43
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8540/source

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Added rider about net workstation user logon parameter.
Moved IPC$ tcon into parameter bracketed code.
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 9:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17983

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Moved cli_tdis() to correct place in security=server (got confused
by indentation).
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 10:45
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv28132

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Added mention of docs/PROFILES.txt.
Jeremy.



****************************************
Date:	Tuesday May 5, 1998 @ 10:51
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv27623/Caldera

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Updating version info for packages.



****************************************
Date:	Tuesday May 5, 1998 @ 10:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv27623/redhat/RH40

Modified Files:
	Makefile samba.spec 
Log Message:
Updating version info for packages.



****************************************
Date:	Tuesday May 5, 1998 @ 10:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv27623/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Updating version info for packages.



****************************************
Date:	Tuesday May 5, 1998 @ 10:51
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv27623/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Updating version info for packages.



****************************************
Date:	Tuesday May 5, 1998 @ 10:53
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv25440

Added Files:
      Tag: BRANCH_1_9_18
	findsmb 
Log Message:
Added findsmb from SGI packaging area.



****************************************
Date:	Tuesday May 5, 1998 @ 19:04
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv9900/lib/rpc/parse

Modified Files:
	parse_lsa.c 
Log Message:

patches from jean francois: couple of minor bugs



****************************************
Date:	Tuesday May 5, 1998 @ 19:04
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv9900/lib/rpc/server

Modified Files:
	srv_util.c 
Log Message:

patches from jean francois: couple of minor bugs



****************************************
Date:	Tuesday May 5, 1998 @ 23:03
Author:	sharpe

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23111

Modified Files:
	Makefile clitar.c 
Log Message:
Added bug fixes to clitar to ensure proper longfile name restores
occur.

Also getting ready for setting directory dates correctly



****************************************
Date:	Wednesday May 6, 1998 @ 1:05
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv5135

Modified Files:
      Tag: BRANCH_1_9_18
	mkman 
Log Message:
sync with head branch



****************************************
Date:	Wednesday May 6, 1998 @ 4:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10736

Modified Files:
	clitar.c 
Log Message:
Rolling clitar.c back to the previous rev 1.22 as the current one 
needs fixing (sorry).
Jeremy.



****************************************
Date:	Wednesday May 6, 1998 @ 5:23
Author:	herb

Update of /data/cvs/samba/swat/help
In directory samba:/tmp/cvs-serv17743

Modified Files:
	parameters.html 
Log Message:
added definitions for "password chat debug" and "unix password sync"
from the 1.9.18 tree



****************************************
Date:	Wednesday May 6, 1998 @ 5:24
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12154

Modified Files:
	genrand.c ipc.c loadparm.c nmbd_logonnames.c nmbd_namequery.c 
	nmbd_namerelease.c password.c proto.h reply.c server.c 
	smbpass.c 
Log Message:
genrand.c: SGI compile warning fix.
ipc.c: Fix for duplicate printer names being long.
loadparm.c: Set bNetWkstaUserLogon to false by default - new code in password.c
protects us.
nmbd_logonnames.c:
nmbd_namequery.c:
nmbd_namerelease.c: Debug messages fix.
password.c: SGI compile warning fix, fix for tcon() with bNetWkstaUserLogon call.
reply.c: SGI compile warning fix.
server.c Debug messages fix.
smbpass.c: Fix for incorrect pointer.
Jeremy.



****************************************
Date:	Wednesday May 6, 1998 @ 10:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27007

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c message.c password.c printing.c proto.h reply.c server.c 
	smb.h uid.c 
Log Message:
Fixes for the %U and %G problems people have reported.
Essentially, multiple session_setup_and_X's may be done
to an smbd. As there is only one global variable containing
the requested connection name (sessionsetup_user), then any
subsequent sessionsetups overwrite this name (causing %U
and %G to get the wrong name). This is particularly common
when an NT client does a null session setup to get a
browse list after the user has connected, but before
a share has been mounted.

These changes store the requested_name in the vuid structure
(so this only really works for user level and above security)
and copies this name back into the global variable before
the standard_sub call.

Jeremy.



****************************************
Date:	Wednesday May 6, 1998 @ 11:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28673

Modified Files:
	ipc.c message.c password.c printing.c proto.h reply.c server.c 
	smb.h uid.c 
Log Message:
Fixes for the %U and %G problems people have reported.
Essentially, multiple session_setup_and_X's may be done
to an smbd. As there is only one global variable containing
the requested connection name (sessionsetup_user), then any
subsequent sessionsetups overwrite this name (causing %U
and %G to get the wrong name). This is particularly common
when an NT client does a null session setup to get a
browse list after the user has connected, but before
a share has been mounted.

These changes store the requested_name in the vuid structure
(so this only really works for user level and above security)
and copies this name back into the global variable before
the standard_sub call.

Jeremy.



****************************************
Date:	Wednesday May 6, 1998 @ 12:30
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22850

Modified Files:
	util.c 
Log Message:

much faster pstrcpy() and fstrcpy()

also print out the first 50 chars of an overflowing string so we have
some chance of working out what is causng them.




****************************************
Date:	Wednesday May 6, 1998 @ 12:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4026

Modified Files:
	Makefile 
Log Message:
use REGEX_FLAGS instead of FLAGS2 for the regex compile flag.



****************************************
Date:	Wednesday May 6, 1998 @ 12:35
Author:	sharpe

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7805

Modified Files:
	clitar.c proto.h 
Log Message:
Real fix for clitar.c problems. Have now made all the right
things static, and have done a 'make proto; make clean; make'.

Still get 54 compiler warnings under Digital UNIX cc.

Honest. :-)



****************************************
Date:	Wednesday May 6, 1998 @ 13:06
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5856

Modified Files:
      Tag: BRANCH_1_9_18
	clitar.c 
Log Message:

don't #include <regex.h> in 1.9.18 clitar.c as it's not needed and
will cause compilation to fail on some systems.

generally system includes should go in includes.h anyway, with
appropriate #ifdefs




****************************************
Date:	Wednesday May 6, 1998 @ 13:08
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5547

Modified Files:
      Tag: BRANCH_1_9_18
	printing.c smb.h util.c 
Log Message:
use fstring instead of string as string may clash with some standard
headers on some systems.



****************************************
Date:	Wednesday May 6, 1998 @ 22:11
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv27120/lib/rpc/server

Modified Files:
	srv_pipe_hnd.c 
Log Message:

compiler warning for unimportant uninitialised variable



****************************************
Date:	Thursday May 7, 1998 @ 2:13
Author:	vlendec

Update of /data/cvs/samba/packaging/SuSE/5.2
In directory samba:/tmp/cvs-serv15098/packaging/SuSE/5.2

Modified Files:
	samba-1.9.18p5.dif samba.spec 
Log Message:
Added mksmbpasswd.sh to binary package



****************************************
Date:	Thursday May 7, 1998 @ 3:43
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27259

Modified Files:
	Makefile includes.h loadparm.c proto.h smbpass.c 
Added Files:
	ldap.c 
Log Message:

jean-francois micouleau's well-alpha code for ldap password database stuff!
he's going to hate me for checking this in so early, but...




****************************************
Date:	Thursday May 7, 1998 @ 3:43
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv27259/lib/rpc/server

Modified Files:
	srv_samr.c 
Added Files:
	srv_ldap_helpers.c 
Log Message:

jean-francois micouleau's well-alpha code for ldap password database stuff!
he's going to hate me for checking this in so early, but...




****************************************
Date:	Thursday May 7, 1998 @ 3:54
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22210

Modified Files:
	clitar.c 
Log Message:
Rolling back again to the equivalent of revision 1.22, as the current
CVS head branch will not compile.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 4:14
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19039

Modified Files:
	loadparm.c server.c smbpass.c util.c 
Log Message:
loadparm.c: Added #ifdef USE_LDAP around ldap code.
server.c: Moved %U, %G and %N into standard_sub() from standard_sub_basic()
          as only smbd knows about usernames. Also fixes problem with calling
          standard_sub_basic() from loadparm.c.
smbpass.c: Partial tidyup of machine_password_lock() code - not finished yet.
util.c: Moved %U, %G and %N into standard_sub() from standard_sub_basic()
          as only smbd knows about usernames. Also fixes problem with calling
          standard_sub_basic() from loadparm.c.
lib/rpc/server/srv_ldap_helpers.c: Added #ifdef USE_LDAP around ldap code.
lib/rpc/server/srv_samr.c: Added #ifdef USE_LDAP around ldap code.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 4:14
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv19039/lib/rpc/server

Modified Files:
	srv_ldap_helpers.c srv_samr.c 
Log Message:
loadparm.c: Added #ifdef USE_LDAP around ldap code.
server.c: Moved %U, %G and %N into standard_sub() from standard_sub_basic()
          as only smbd knows about usernames. Also fixes problem with calling
          standard_sub_basic() from loadparm.c.
smbpass.c: Partial tidyup of machine_password_lock() code - not finished yet.
util.c: Moved %U, %G and %N into standard_sub() from standard_sub_basic()
          as only smbd knows about usernames. Also fixes problem with calling
          standard_sub_basic() from loadparm.c.
lib/rpc/server/srv_ldap_helpers.c: Added #ifdef USE_LDAP around ldap code.
lib/rpc/server/srv_samr.c: Added #ifdef USE_LDAP around ldap code.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 4:19
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv6356

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
WHATSNEW.txt: Updated with %U bugfix note.
source/server.c source/util.c: Moved %U, %G and %N into standard_sub() from standard_sub_basic()
          as only smbd knows about usernames. Also fixes problem with calling
          standard_sub_basic() from loadparm.c.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 4:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6356/source

Modified Files:
      Tag: BRANCH_1_9_18
	server.c util.c 
Log Message:
WHATSNEW.txt: Updated with %U bugfix note.
source/server.c source/util.c: Moved %U, %G and %N into standard_sub() from standard_sub_basic()
          as only smbd knows about usernames. Also fixes problem with calling
          standard_sub_basic() from loadparm.c.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 4:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13436

Modified Files:
	password.c proto.h smbpass.c 
Log Message:
smbpass.c: Fixed machine_passwd_lock() problems.
password.c: Fixed machine_passwd_lock() problems.
lib/rpc/server/srv_ldap_helpers.c: Oops - broke proto.h with dummy function. Fixed now.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 4:45
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv13436/lib/rpc/server

Modified Files:
	srv_ldap_helpers.c 
Log Message:
smbpass.c: Fixed machine_passwd_lock() problems.
password.c: Fixed machine_passwd_lock() problems.
lib/rpc/server/srv_ldap_helpers.c: Oops - broke proto.h with dummy function. Fixed now.
Jeremy.



****************************************
Date:	Thursday May 7, 1998 @ 5:22
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv522

Modified Files:
	mangle.c 
Log Message:
Andrew redefines the free() function to do some memory management testing.
He also suggested that some systems may implement free() as a macro (but
I think he was looking for an excuse ;).  Anyway, I've added a function
to mangle.c that calls free().
Chris -)-----



****************************************
Date:	Thursday May 7, 1998 @ 12:06
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19250

Modified Files:
	smbpasswd.c 
Log Message:
Fixed changed calls to machine password locking code.
Jeremy.



****************************************
Date:	Friday May 8, 1998 @ 4:18
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19293

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c message.c printing.c proto.h server.c uid.c util.c 
Log Message:
This should (hopefully) be the final :-) fix for the %U and %G
substitution problems with standard_sub. 
Jeremy.



****************************************
Date:	Friday May 8, 1998 @ 4:19
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7039

Modified Files:
	Makefile chgpasswd.c ipc.c ldap.c nmbd_processlogon.c 
	password.c proto.h reply.c smbpass.c 
Added Files:
	passdb.c 
Log Message:

created "passdb.c" which is an interface point to (at present) either
smbpasswd or ldap passwd, at compile-time (-DUSE_LDAP).

_none_ of the functions in ldap.c or smbpass.c should be called directly:
only those in passdb.c should be used.

-DUSE_LDAP is unlikely to compile at the moment.



****************************************
Date:	Friday May 8, 1998 @ 4:19
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv7039/lib/rpc/server

Modified Files:
	srv_netlog.c srv_samr.c srv_util.c 
Log Message:

created "passdb.c" which is an interface point to (at present) either
smbpasswd or ldap passwd, at compile-time (-DUSE_LDAP).

_none_ of the functions in ldap.c or smbpass.c should be called directly:
only those in passdb.c should be used.

-DUSE_LDAP is unlikely to compile at the moment.



****************************************
Date:	Friday May 8, 1998 @ 5:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23411

Modified Files:
	ipc.c loadparm.c message.c printing.c proto.h server.c 
	smbpass.c uid.c util.c 
Log Message:
This should (hopefully :-) be the final fix for the %U %G substitution
problem....
smbpass.c: Removed Luke's dire warning - as some of the functions in here
*need* to be called externally :-).
Jeremy.



****************************************
Date:	Friday May 8, 1998 @ 5:59
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7317

Modified Files:
	ldap.c proto.h smbpass.c smbpasswd.c util.c 
Log Message:

moving gethexpwd into util.c, because it's used in both smbpass.c and ldap.c



****************************************
Date:	Friday May 8, 1998 @ 6:44
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15443

Modified Files:
	Makefile ldap.c smbpass.c 
Log Message:

remove unused ldap functions: add stub start/get/endldappwent routines.



****************************************
Date:	Friday May 8, 1998 @ 7:09
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27921

Modified Files:
	ldap.c 
Log Message:

added first pass at start/get/end-ldappwent functions.  unfortunately, lots
of information will be lost as these functions currently return
struct smb_passwd not SAM_USER_INFO_21 or any other type of structure...



****************************************
Date:	Friday May 8, 1998 @ 11:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8691

Added Files:
	nttrans.c 
Log Message:
Initial cut at the code that will do NT SMB calls. Not linked in, not
compiled yet, just checked in for safe keeping :-).
Jeremy.



****************************************
Date:	Friday May 8, 1998 @ 11:23
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13527

Modified Files:
	smb.h trans2.c 
Log Message:
smb.h: Supporting defines for NT trans calls.
trans2.c: Paranoia bugfixes added when studying nttrans.c.
Jeremy.



****************************************
Date:	Friday May 8, 1998 @ 11:41
Author:	herb

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10201

Modified Files:
	loadparm.c 
Log Message:
added FLAG_BASIC to some browse options for swat.



****************************************
Date:	Friday May 8, 1998 @ 11:45
Author:	herb

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv24059

Modified Files:
	statuspage.c swat.c 
Log Message:
The globals section now shows non-default variables (like the
view config section does) in the basic view. There is also a
reset button to undo all changes you have made (that haven't
been committed). In addition each field now has a "Set Default"
button. Multi-choice fields are now select fields instead of
a set of radio buttons.

On the status screen I added a "restart" option for stopping then 
starting smbd and nmbd.



****************************************
Date:	Friday May 8, 1998 @ 21:30
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13496

Modified Files:
	smb.h 
Log Message:

added extra fields to struct smb_passwd

the smbpw functions are expected to fill in the blanks by reading the
appropriate smb.conf parameters.

the ldappw functions are expected to fill in the fields from the ldap
database.  a separate utility can be written to fill in the ldap database
fields from the smb.conf parameters, at a later date.



****************************************
Date:	Friday May 8, 1998 @ 21:31
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28219

Modified Files:
	ldap.c smbpass.c 
Log Message:

renamed last_change_time to pass_must_change_time.  removed "if (bool==True)"
and "if (bool==False)" code from ldap.c - a boolean test may not necessarily
return exactly True or exactly False: True may be defined to be -1: you never
know...



****************************************
Date:	Friday May 8, 1998 @ 23:51
Author:	sharpe

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16738

Modified Files:
	clitar.c includes.h 
Log Message:
Se-submitting clitar.c/

I now only have one warning in my code which is the result of some code I have started
working on but am not yet using in the code, along with a warning that is caused
by one of the include files (a nested comment).

I used -Wall -Wshadow -Wstrict-prototypes



****************************************
Date:	Saturday May 9, 1998 @ 0:09
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23196

Modified Files:
	smb.h 
Log Message:

added smb_grpid to smb_passwd struct



****************************************
Date:	Saturday May 9, 1998 @ 0:14
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13378

Modified Files:
	.cvsignore 
Log Message:

added proto.h to .cvsignore



****************************************
Date:	Saturday May 9, 1998 @ 0:41
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24653

Removed Files:
	proto.h 
Log Message:

proto.h was being a pain.  use "make proto" instead.  check release and
release-alpha scripts operate correctly when it comes to generating
a release or alpha release.



****************************************
Date:	Saturday May 9, 1998 @ 1:46
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25177

Modified Files:
	Makefile 
Log Message:

make clean depends on make proto.  make clean; make will regenerate proto.h
and then rebuild.  for the "truly paranoid" :-)



****************************************
Date:	Saturday May 9, 1998 @ 2:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10857

Added Files:
	proto.h 
Log Message:
Ho hum, someone deleted proto.h from cvs... re-adding.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 2:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7908

Modified Files:
	clitar.c nttrans.c smb.h 
Log Message:
clitar.c: #ifdef'ed out all the bits that were giving 'defined but not used'
          messages.
nttrans.c: More updates.
smb.h: Removed stuff that didn't belong in the smb_passwd struct. Persuaded Luke
       to use a new structure.
web/swat.c: Fixed gcc complaints about shadowing global 'string'.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 2:59
Author:	jra

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv7908/web

Modified Files:
	swat.c 
Log Message:
clitar.c: #ifdef'ed out all the bits that were giving 'defined but not used'
          messages.
nttrans.c: More updates.
smb.h: Removed stuff that didn't belong in the smb_passwd struct. Persuaded Luke
       to use a new structure.
web/swat.c: Fixed gcc complaints about shadowing global 'string'.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 3:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4501

Modified Files:
	.cvsignore 
Log Message:

removed proto.h from cvsignore



****************************************
Date:	Saturday May 9, 1998 @ 3:30
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv19596

Modified Files:
	mkrelease.sh 
Log Message:
move things around to get rid of make clean warning messages



****************************************
Date:	Saturday May 9, 1998 @ 3:53
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4717

Modified Files:
	smb.h 
Log Message:

added sam_passwd structure: don't want smb_passwd to be "polluted".



****************************************
Date:	Saturday May 9, 1998 @ 8:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6397

Modified Files:
      Tag: BRANCH_1_9_18
	clitar.c reply.c 
Log Message:
clitar.c: New tar changes.
reply.c: Fixed overwriting of sesssetup_name with a NULL name when in
         security=share.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 8:54
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv9735

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Preparing for release.
WHATSNEW.txt: Updated date.
docs/smb.conf.5: Updated for security=server downgrade.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 8:54
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv9735/docs

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Preparing for release.
WHATSNEW.txt: Updated date.
docs/smb.conf.5: Updated for security=server downgrade.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 9:15
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv9538

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Fixed typo with 'changes since' line.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 9:37
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv20395

Modified Files:
      Tag: BRANCH_1_9_18
	idb.pl makefile.pl mkrelease.sh smb.conf 
Log Message:
sync with head branch



****************************************
Date:	Saturday May 9, 1998 @ 10:07
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv13820

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated WHATSNEW.txt with John's fix for Dec.
Jeremy.



****************************************
Date:	Saturday May 9, 1998 @ 10:11
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv4335/packaging/Caldera

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Final preps for release.



****************************************
Date:	Saturday May 9, 1998 @ 10:11
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv4335/packaging/redhat/RH40

Modified Files:
	samba.spec 
Log Message:
Final preps for release.



****************************************
Date:	Saturday May 9, 1998 @ 10:11
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv4335/packaging/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Final preps for release.



****************************************
Date:	Saturday May 9, 1998 @ 10:11
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv4335/packaging/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Final preps for release.



****************************************
Date:	Saturday May 9, 1998 @ 10:11
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4335/source

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Final preps for release.



****************************************
Date:	Saturday May 9, 1998 @ 10:19
Author:	jht

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv18004

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Small mod to OSF1 Security Mode note.



****************************************
Date:	Saturday May 9, 1998 @ 10:39
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DHCP-Server-Configuration.txt DIAGNOSIS.txt DNIX.txt 
	DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt Faxing.txt 
	GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt PRINTER_DRIVER.txt PROFILES.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Speed2.txt 
	Support.txt Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt 
	Win95.txt WinNT.txt cifsntdomain.txt make_smbcodepage.1 nmbd.8 
	samba.7 security_level.txt smb.conf.5 smbclient.1 smbd.8 
	smbmnt.8 smbmount.8 smbpasswd.8 smbrun.1 smbstatus.1 smbtar.1 
	smbumount.8 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18p5


****************************************
Date:	Saturday May 9, 1998 @ 10:39
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p5


****************************************
Date:	Sunday May 10, 1998 @ 16:20
Author:	jht

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv431

Modified Files:
	password.c 
Log Message:
Updated OSF1_ENH_SEC mode password handling.
This now tries Enhanced passwords first and if this fails trys Basic
mode (ie: Unix /etc/passwd) authentication. This only happens when
OSF1_ENH_SEC is defined at compilation.



****************************************
Date:	Monday May 11, 1998 @ 16:35
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8945

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile charset.c client.c clientgen.c includes.h loadparm.c 
	message.c nmbd.c nmbd_serverlistdb.c nmblib.c password.c 
	printing.c proto.h reply.c server.c shmem_sysv.c smbmount.c 
	system.c trans2.c uid.c util.c 
Added Files:
      Tag: BRANCH_1_9_18
	slprintf.c 
Log Message:

changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:35
Author:	tridge

Update of /data/cvs/samba/source/client
In directory samba:/tmp/cvs-serv5358

Modified Files:
	client.c cmd_mount.c cmd_smb.c 
Log Message:

changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:35
Author:	tridge

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv24795

Modified Files:
	swat.c 
Log Message:

changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:38
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/data/people/tridge/samba/source

Modified Files:
	Makefile charset.c client.c clientgen.c clitar.c includes.h 
	loadparm.c message.c nmbd.c nmbd_serverlistdb.c nmblib.c 
	password.c pidfile.c printing.c proto.h reply.c server.c 
	shmem_sysv.c smbmount.c smbpass.c smbpasswd.c system.c 
	trans2.c uid.c util.c 
Added Files:
	slprintf.c 
Log Message:
changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:38
Author:	tridge

Update of /data/cvs/samba/source/client
In directory samba:/data/people/tridge/samba/source/client

Modified Files:
	cmd_smb.c 
Log Message:
changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:38
Author:	tridge

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/data/people/tridge/samba/source/lib/rpc/client

Modified Files:
	cli_login.c cli_netlogon.c cli_pipe.c 
Log Message:
changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:38
Author:	tridge

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/data/people/tridge/samba/source/lib/rpc/parse

Modified Files:
	parse_net.c parse_prs.c 
Log Message:
changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 16:38
Author:	tridge

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/data/people/tridge/samba/source/lib/rpc/server

Modified Files:
	srv_lsa_hnd.c srv_netlog.c 
Log Message:
changed to use slprintf() instead of sprintf() just about
everywhere. I've implemented slprintf() as a bounds checked sprintf()
using mprotect() and a non-writeable page.

This should prevent any sprintf based security holes.



****************************************
Date:	Monday May 11, 1998 @ 17:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22535

Modified Files:
      Tag: BRANCH_1_9_18
	slprintf.c 
Log Message:
define PROT_READ as 1 if not defined



****************************************
Date:	Monday May 11, 1998 @ 18:32
Author:	tridge

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv27550

Modified Files:
	ubi_AVLtree.c ubi_BinTree.c ubi_Cache.c ubi_SplayTree.c 
	ubi_dLinkList.c 
Log Message:

include includes.h in all the ubiqx files. I know Chris won't like
this but it really is necessary (sorry Chris!)

ubiqx code didn't compile on SunOS4 otherwise as stdlib didn't define
NULL.






****************************************
Date:	Monday May 11, 1998 @ 18:41
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4385

Modified Files:
	client.c 
Log Message:

don't use system functions as arguments to qsort() as otherwise you
get stuck on systems with broken headers (like SunOS4). In this case
use StrCaseCmp instead of strcasecmp



****************************************
Date:	Monday May 11, 1998 @ 20:05
Author:	tridge

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv2881

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
updated for p6 release



****************************************
Date:	Monday May 11, 1998 @ 20:08
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18p6


****************************************
Date:	Monday May 11, 1998 @ 20:09
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DHCP-Server-Configuration.txt DIAGNOSIS.txt DNIX.txt 
	DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt Faxing.txt 
	GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt PRINTER_DRIVER.txt PROFILES.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Speed2.txt 
	Support.txt Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt 
	Win95.txt WinNT.txt cifsntdomain.txt make_smbcodepage.1 nmbd.8 
	samba.7 security_level.txt smb.conf.5 smbclient.1 smbd.8 
	smbmnt.8 smbmount.8 smbpasswd.8 smbrun.1 smbstatus.1 smbtar.1 
	smbumount.8 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18p6


****************************************
Date:	Monday May 11, 1998 @ 20:09
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p6


****************************************
Date:	Monday May 11, 1998 @ 21:22
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv20591/Caldera

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Updating for 1.9.18p6 release.



****************************************
Date:	Monday May 11, 1998 @ 21:22
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv20591/redhat/RH40

Modified Files:
	Makefile makerpms.sh samba.spec 
Log Message:
Updating for 1.9.18p6 release.



****************************************
Date:	Monday May 11, 1998 @ 21:23
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv20591/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba.spec 
Log Message:
Updating for 1.9.18p6 release.



****************************************
Date:	Monday May 11, 1998 @ 21:23
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv20591/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile makerpms.sh samba-make.patch samba.spec 
Log Message:
Updating for 1.9.18p6 release.



****************************************
Date:	Monday May 11, 1998 @ 21:24
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv10338

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile 
Log Message:
Updating for Caldera builds of 1.9.18p6.



****************************************
Date:	Monday May 11, 1998 @ 21:35
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18p6


****************************************
Date:	Monday May 11, 1998 @ 22:43
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18p6


****************************************
Date:	Tuesday May 12, 1998 @ 1:56
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9455

Modified Files:
	Makefile includes.h ldap.c mkproto.awk passdb.c password.c 
	proto.h smbpass.c smbpasswd.c util.c 
Log Message:


ldap back-end database development

Makefile:

	created PASSBD_OBJ group

includes.h:

	added #ifdef USE_LDAP to #include <ldap> headers

ldap.c:

	- renamed "_machine" to "_trust" everywhere.
	- added sam_passwd support routines
	- removed get_ldappwd_entry function: replaced with get_sampwd_entry
	- removed getldappwnam/uid: replaced with getsampwnam/uid
	- other messing about bits which are probably going to annoy the
	  hell out of jean-francois (sorry!)

mkproto.awk:

	- added stuff to wrap ldap.c protos with #ifdef USE_LDAP
	- added uid_t and gid_t return results to the prototype generation

passdb.c:

	- created getsam21pwent, add_sam21pwd_entry, mod_sam21pwd_entry.
	- modified getsampwnam/uid and created getsam21pwnam/rid functions
	  to replace the local get_smbpwd_entry() and get_ldappwd_entry()
	  functions, which jeremy didn't like anyway because they were
	  dual-purpose.
	- added utility routines which are or may be useful to all the
	  password database routines.
	
password.c:

	- renamed "machine_" to "trust_" everywhere.

smbpass.c:

	- removed get_smbpwd_entry function: replaced it with get_sampwd_entry
	  functions in passdb.c
	- moved code that decoded acct_ctrl into passdb.c
	- moved encode_acct_ctrl into passdb.c
	- removed getsmbpwnam/uid: replaced with getsampwnam/uid
	- renamed "machine_" to "trust_" everywhere.

smbpasswd.c:

	- renamed "machine_" to "trust_" everywhere.

util.c:

	- moved gethexpwd function into passdb.c

lib/rpc/server/srv_util.c:

	- moved user_rid_to_uid, group_rid_to_rid etc etc into passdb.c



****************************************
Date:	Tuesday May 12, 1998 @ 1:56
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv9455/lib/rpc/server

Modified Files:
	srv_util.c 
Log Message:


ldap back-end database development

Makefile:

	created PASSBD_OBJ group

includes.h:

	added #ifdef USE_LDAP to #include <ldap> headers

ldap.c:

	- renamed "_machine" to "_trust" everywhere.
	- added sam_passwd support routines
	- removed get_ldappwd_entry function: replaced with get_sampwd_entry
	- removed getldappwnam/uid: replaced with getsampwnam/uid
	- other messing about bits which are probably going to annoy the
	  hell out of jean-francois (sorry!)

mkproto.awk:

	- added stuff to wrap ldap.c protos with #ifdef USE_LDAP
	- added uid_t and gid_t return results to the prototype generation

passdb.c:

	- created getsam21pwent, add_sam21pwd_entry, mod_sam21pwd_entry.
	- modified getsampwnam/uid and created getsam21pwnam/rid functions
	  to replace the local get_smbpwd_entry() and get_ldappwd_entry()
	  functions, which jeremy didn't like anyway because they were
	  dual-purpose.
	- added utility routines which are or may be useful to all the
	  password database routines.
	
password.c:

	- renamed "machine_" to "trust_" everywhere.

smbpass.c:

	- removed get_smbpwd_entry function: replaced it with get_sampwd_entry
	  functions in passdb.c
	- moved code that decoded acct_ctrl into passdb.c
	- moved encode_acct_ctrl into passdb.c
	- removed getsmbpwnam/uid: replaced with getsampwnam/uid
	- renamed "machine_" to "trust_" everywhere.

smbpasswd.c:

	- renamed "machine_" to "trust_" everywhere.

util.c:

	- moved gethexpwd function into passdb.c

lib/rpc/server/srv_util.c:

	- moved user_rid_to_uid, group_rid_to_rid etc etc into passdb.c



****************************************
Date:	Tuesday May 12, 1998 @ 2:27
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24474

Modified Files:
	Makefile 
Log Message:

oops - missed out $(PASSDB_OBJ) from smbd



****************************************
Date:	Tuesday May 12, 1998 @ 3:34
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22544

Modified Files:
	loadparm.c proto.h 
Log Message:

add lp_domain_workstations() parameter.  this is a list of workstation names
from which an NT user can log in from.  empty (default) indicates no
restrictions.  exactly how this is enforced is unknown.  from past experience
it's likely that the enforcement is left to the client to carry out...



****************************************
Date:	Tuesday May 12, 1998 @ 3:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27758

Modified Files:
	reply.c smbpasswd.c 
Log Message:
reply.c: Added code to not overwrite sesssetup_user when in share level security
and null session setup done.
smbpasswd.c: Fix from Gerald Carter <cartegw@Eng.Auburn.EDU> to fix incorrect
             use of pointer.
Jeremy.



****************************************
Date:	Tuesday May 12, 1998 @ 4:03
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3045

Modified Files:
	ldap.c passdb.c smbpass.c 
Log Message:

password back-end database support

ldap.c :

	- added getldap21pwent() function

passdb.c :

	- getsam21pwent() no longer a stub: calls ldap21 or smb21

smbpass.c :

	- added getsmb21pwent() function (he he :-)

lib/rpc/server/srv_samr.c :

	- removed "specific" calls to ldap functions; replaced with 
	  call to get_sampwd_entries instead (which is unfinished).

	- rewrote get_user_info_21 function to call getsam21pwrid.




****************************************
Date:	Tuesday May 12, 1998 @ 4:03
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv3045/lib/rpc/server

Modified Files:
	srv_samr.c 
Log Message:

password back-end database support

ldap.c :

	- added getldap21pwent() function

passdb.c :

	- getsam21pwent() no longer a stub: calls ldap21 or smb21

smbpass.c :

	- added getsmb21pwent() function (he he :-)

lib/rpc/server/srv_samr.c :

	- removed "specific" calls to ldap functions; replaced with 
	  call to get_sampwd_entries instead (which is unfinished).

	- rewrote get_user_info_21 function to call getsam21pwrid.




****************************************
Date:	Tuesday May 12, 1998 @ 10:55
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3553

Modified Files:
	charset.c chgpasswd.c client.c clientgen.c clientutil.c 
	clitar.c connection.c credentials.c dir.c genrand.c includes.h 
	ipc.c kanji.c ldap.c loadparm.c locking_shm.c locking_slow.c 
	make_printerdef.c make_smbcodepage.c mangle.c namequery.c 
	nmbd.c nmbd_become_lmb.c nmbd_browsesync.c 
	nmbd_incomingrequests.c nmbd_namelistdb.c nmbd_packets.c 
	nmbd_processlogon.c nmbd_serverlistdb.c nmbd_winsserver.c 
	nmblib.c nmblookup.c ntclient.c nterr.c password.c pcap.c 
	pidfile.c printing.c proto.h quotas.c reply.c server.c shmem.c 
	slprintf.c smb.h smberr.c smbmount.c smbpass.c smbpasswd.c 
	smbumount.c status.c testparm.c time.c torture.c trans2.c 
	util.c vt_mode.c 
Log Message:
This is a security audit change of the main source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Once Andrew has fixed the slprintf implementation then
this code will be moved back to the 1.9.18 code stream.

Jeremy.



****************************************
Date:	Tuesday May 12, 1998 @ 10:55
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv3553/lib/rpc/client

Modified Files:
	cli_pipe.c ntclienttrust.c 
Log Message:
This is a security audit change of the main source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Once Andrew has fixed the slprintf implementation then
this code will be moved back to the 1.9.18 code stream.

Jeremy.



****************************************
Date:	Tuesday May 12, 1998 @ 10:55
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv3553/lib/rpc/parse

Modified Files:
	parse_lsa.c parse_misc.c parse_samr.c 
Log Message:
This is a security audit change of the main source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Once Andrew has fixed the slprintf implementation then
this code will be moved back to the 1.9.18 code stream.

Jeremy.



****************************************
Date:	Tuesday May 12, 1998 @ 10:55
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv3553/lib/rpc/server

Modified Files:
	srv_netlog.c srv_samr.c srv_util.c 
Log Message:
This is a security audit change of the main source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Once Andrew has fixed the slprintf implementation then
this code will be moved back to the 1.9.18 code stream.

Jeremy.



****************************************
Date:	Tuesday May 12, 1998 @ 10:55
Author:	jra

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv3553/web

Modified Files:
	cgi.c startstop.c statuspage.c 
Log Message:
This is a security audit change of the main source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Once Andrew has fixed the slprintf implementation then
this code will be moved back to the 1.9.18 code stream.

Jeremy.



****************************************
Date:	Tuesday May 12, 1998 @ 20:20
Author:	jht

Update of /data/cvs/samba/packaging/Caldera
In directory samba:/tmp/cvs-serv16888/Caldera

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Updating packaging file in preparation for 1.9.18p7.



****************************************
Date:	Tuesday May 12, 1998 @ 20:20
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv16888/redhat/RH40

Modified Files:
	makerpms.sh samba.spec 
Log Message:
Updating packaging file in preparation for 1.9.18p7.



****************************************
Date:	Tuesday May 12, 1998 @ 20:20
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv16888/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Updating packaging file in preparation for 1.9.18p7.



****************************************
Date:	Tuesday May 12, 1998 @ 20:20
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv16888/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Updating packaging file in preparation for 1.9.18p7.



****************************************
Date:	Tuesday May 12, 1998 @ 22:44
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27706

Modified Files:
      Tag: BRANCH_1_9_18
	slprintf.c 
Log Message:
a new slprintf() function. This one is totally portable but a bit of a
kludge. It is a safe kludge with our current code but I would like to
revisit it at some point in the future.

The problem with the one I committed yesterday is it used non-portable
functions. (it also had a bug in it, but that's another matter)

This one works by just using vsprintf() into a 8k buffer and a memcpy
from there. No memory protection tricks or other non-portable
stuff. This is safe because all calls to slprintf() in samba use
strings which have been through a pstrcpy and thus are less than 1024
bytes. No call uses more than 2 of these strings. See what I mean by
kludge? Note that the 8k is way overkill but I like overkill :)

Someday (after autoconf) we will replace this with something better,
but meanwhile this is simple, secure and portable.



****************************************
Date:	Tuesday May 12, 1998 @ 22:48
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3732

Modified Files:
	slprintf.c 
Log Message:
a new slprintf() function. This one is totally portable but a bit of a
kludge. It is a safe kludge with our current code but I would like to
revisit it at some point in the future.

The problem with the one I committed yesterday is it used non-portable
functions. (it also had a bug in it, but that's another matter)

This one works by just using vsprintf() into a 8k buffer and a memcpy
from there. No memory protection tricks or other non-portable
stuff. This is safe because all calls to slprintf() in samba use
strings which have been through a pstrcpy and thus are less than 1024
bytes. No call uses more than 2 of these strings. See what I mean by
kludge? Note that the 8k is way overkill but I like overkill :)

Someday (after autoconf) we will replace this with something better,
but meanwhile this is simple, secure and portable.



****************************************
Date:	Wednesday May 13, 1998 @ 0:01
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10215/lib/rpc/server

Modified Files:
	srv_ldap_helpers.c 
Log Message:

retired this file: it's not actually needed now that passdb.c provides
the interface point.



****************************************
Date:	Wednesday May 13, 1998 @ 0:04
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1094

Modified Files:
	Makefile loadparm.c proto.h smbpass.c 
Log Message:

removed lp_domain_workstation() parameter



****************************************
Date:	Wednesday May 13, 1998 @ 2:43
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv27945/lib/rpc/parse

Modified Files:
	parse_samr.c 
Log Message:

function comments wrong



****************************************
Date:	Wednesday May 13, 1998 @ 2:49
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7788

Modified Files:
	ldap.c 
Log Message:

- removed ldap_get_trust()

- #ifdef around putting 16 byte hashes instead of plaintext password.



****************************************
Date:	Wednesday May 13, 1998 @ 8:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26104

Modified Files:
	includes.h locking_slow.c make_smbcodepage.c nmbd_winsserver.c 
	proto.h smbmount.c util.c 
Log Message:
includes.h: SunOS doesn't have strcasecmp, solaris versions prior to 2.6 don't
            have vsnprintf.
locking_slow.c: slight tidy.
make_smbcodepage.c: Use safe_strcpy instead of pstrcpy.
nmbd_winsserver.c: Use pstrcpy instead of fstrcpy.
smbmount.c: Fixed reported bug.
util.c: Removed old fstrcpy/fstrcat functions.
Jeremy.



****************************************
Date:	Wednesday May 13, 1998 @ 8:53
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1245

Modified Files:
      Tag: BRANCH_1_9_18
	cgi.c charset.c chgpasswd.c client.c clientgen.c clientutil.c 
	clitar.c credentials.c dir.c includes.h ipc.c kanji.c 
	loadparm.c locking_shm.c locking_slow.c make_printerdef.c 
	make_smbcodepage.c mangle.c namequery.c nmbd.c 
	nmbd_become_lmb.c nmbd_browsesync.c nmbd_incomingrequests.c 
	nmbd_namelistdb.c nmbd_packets.c nmbd_processlogon.c 
	nmbd_serverlistdb.c nmbd_winsserver.c nmblib.c nmblookup.c 
	ntclient.c password.c pcap.c pipes.c printing.c proto.h 
	quotas.c reply.c server.c shmem.c smberr.c smbmount.c 
	smbpass.c smbpasswd.c smbumount.c status.c testparm.c time.c 
	torture.c trans2.c util.c vt_mode.c wsmbstatus.c 
Log Message:
This is a security audit change of the 1.9.18 source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Jeremy.



****************************************
Date:	Wednesday May 13, 1998 @ 8:53
Author:	jra

Update of /data/cvs/samba/source/rpc_pipes
In directory samba:/tmp/cvs-serv1245/rpc_pipes

Modified Files:
      Tag: BRANCH_1_9_18
	lsaparse.c ntclientpipe.c pipenetlog.c pipeutil.c smbparse.c 
Log Message:
This is a security audit change of the 1.9.18 source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Jeremy.



****************************************
Date:	Wednesday May 13, 1998 @ 8:53
Author:	jra

Update of /data/cvs/samba/source/web
In directory samba:/tmp/cvs-serv1245/web

Modified Files:
      Tag: BRANCH_1_9_18
	cgi.c 
Log Message:
This is a security audit change of the 1.9.18 source.
It removed all ocurrences of the following functions :

sprintf
strcpy
strcat

The replacements are slprintf, safe_strcpy and safe_strcat.

It should not be possible to use code in Samba that uses
sprintf, strcpy or strcat, only the safe_equivalents.

Jeremy.



****************************************
Date:	Wednesday May 13, 1998 @ 9:02
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv25813

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added USA consultant.
Jeremy.



****************************************
Date:	Wednesday May 13, 1998 @ 11:29
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv5040

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated for 1.9.18p7 release.
Jeremy.



****************************************
Date:	Wednesday May 13, 1998 @ 12:04
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4578

Modified Files:
      Tag: BRANCH_1_9_18
	proto.h slprintf.c smb.h smbpass.c 
Log Message:
- fixed prototypes for slprintf() for broken systems

- fixed a cast warning in smbpass.c



****************************************
Date:	Wednesday May 13, 1998 @ 12:10
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18719

Modified Files:
      Tag: BRANCH_1_9_18
	smbpass.c 
Log Message:
fixed another cast warning in smbpass.c



****************************************
Date:	Wednesday May 13, 1998 @ 12:32
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11810

Modified Files:
      Tag: BRANCH_1_9_18
	client.c 
Log Message:
use StrCaseCmp not strcasecmp in a qsort.

Otherwise it won't compile on some platforms



****************************************
Date:	Wednesday May 13, 1998 @ 12:46
Author:	samba-bu

Update of /data/cvs/samba
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
preparing for release of 1.9.18p7


****************************************
Date:	Wednesday May 13, 1998 @ 12:47
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DHCP-Server-Configuration.txt DIAGNOSIS.txt DNIX.txt 
	DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt Faxing.txt 
	GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt PRINTER_DRIVER.txt PROFILES.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Speed2.txt 
	Support.txt Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt 
	Win95.txt WinNT.txt cifsntdomain.txt make_smbcodepage.1 nmbd.8 
	samba.7 security_level.txt smb.conf.5 smbclient.1 smbd.8 
	smbmnt.8 smbmount.8 smbpasswd.8 smbrun.1 smbstatus.1 smbtar.1 
	smbumount.8 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18p7


****************************************
Date:	Wednesday May 13, 1998 @ 12:48
Author:	samba-bu

Update of /data/cvs/samba/source
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/source

Modified Files:
      Tag: BRANCH_1_9_18
	version.h 
Log Message:
preparing for release of 1.9.18p7


****************************************
Date:	Wednesday May 13, 1998 @ 15:01
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17550

Modified Files:
	smb.h 
Log Message:
we don't need a typedef for string



****************************************
Date:	Wednesday May 13, 1998 @ 15:02
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12337

Modified Files:
	smbpass.c 
Log Message:
initialise a variable




****************************************
Date:	Wednesday May 13, 1998 @ 15:03
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20045

Modified Files:
	nmblib.c 
Log Message:
test for overflow in nmb name parsing code






****************************************
Date:	Wednesday May 13, 1998 @ 15:07
Author:	tridge

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv25461

Modified Files:
	parse_samr.c 
Log Message:
initialise some variables (stops warning)







****************************************
Date:	Thursday May 14, 1998 @ 3:42
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11695

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h 
Log Message:
Fixed SUNOS5 QSORT_CAST missing problem (with gcc).
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 4:36
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17824

Modified Files:
	includes.h 
Log Message:
Fixed up HPUX entry.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 4:38
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18114

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h 
Log Message:
Fixed up HPUX.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 11:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28725

Modified Files:
	chgpasswd.c ipc.c proto.h util.c 
Log Message:
chgpasswd.c: Added comments to #ifdefs
ipc.c: Caused samba password changing not to be done if UNIX password
       changing requested and not successful.
util.c: Added string_to_sid() and sid_to_string() functions.
lib/rpc/client/cli_samr.c:
lib/rpc/include/rpc_misc.h:
lib/rpc/parse/parse_lsa.c:
lib/rpc/parse/parse_misc.c:
lib/rpc/parse/parse_net.c:
lib/rpc/parse/parse_samr.c:
lib/rpc/server/srv_lsa.c:
lib/rpc/server/srv_lsa_hnd.c:
lib/rpc/server/srv_netlog.c:
lib/rpc/server/srv_samr.c:
lib/rpc/server/srv_util.c: Changes so that instead of passing SIDs
around as char *, they are converted to DOM_SID at the earliest
opportunity, and passed around as that. Also added dynamic memory
allocation of group sids. Preparing to auto-generate machine sid.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 11:30
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv28725/lib/rpc/client

Modified Files:
	cli_samr.c 
Log Message:
chgpasswd.c: Added comments to #ifdefs
ipc.c: Caused samba password changing not to be done if UNIX password
       changing requested and not successful.
util.c: Added string_to_sid() and sid_to_string() functions.
lib/rpc/client/cli_samr.c:
lib/rpc/include/rpc_misc.h:
lib/rpc/parse/parse_lsa.c:
lib/rpc/parse/parse_misc.c:
lib/rpc/parse/parse_net.c:
lib/rpc/parse/parse_samr.c:
lib/rpc/server/srv_lsa.c:
lib/rpc/server/srv_lsa_hnd.c:
lib/rpc/server/srv_netlog.c:
lib/rpc/server/srv_samr.c:
lib/rpc/server/srv_util.c: Changes so that instead of passing SIDs
around as char *, they are converted to DOM_SID at the earliest
opportunity, and passed around as that. Also added dynamic memory
allocation of group sids. Preparing to auto-generate machine sid.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 11:30
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv28725/lib/rpc/include

Modified Files:
	rpc_misc.h 
Log Message:
chgpasswd.c: Added comments to #ifdefs
ipc.c: Caused samba password changing not to be done if UNIX password
       changing requested and not successful.
util.c: Added string_to_sid() and sid_to_string() functions.
lib/rpc/client/cli_samr.c:
lib/rpc/include/rpc_misc.h:
lib/rpc/parse/parse_lsa.c:
lib/rpc/parse/parse_misc.c:
lib/rpc/parse/parse_net.c:
lib/rpc/parse/parse_samr.c:
lib/rpc/server/srv_lsa.c:
lib/rpc/server/srv_lsa_hnd.c:
lib/rpc/server/srv_netlog.c:
lib/rpc/server/srv_samr.c:
lib/rpc/server/srv_util.c: Changes so that instead of passing SIDs
around as char *, they are converted to DOM_SID at the earliest
opportunity, and passed around as that. Also added dynamic memory
allocation of group sids. Preparing to auto-generate machine sid.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 11:30
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv28725/lib/rpc/parse

Modified Files:
	parse_lsa.c parse_misc.c parse_net.c parse_samr.c 
Log Message:
chgpasswd.c: Added comments to #ifdefs
ipc.c: Caused samba password changing not to be done if UNIX password
       changing requested and not successful.
util.c: Added string_to_sid() and sid_to_string() functions.
lib/rpc/client/cli_samr.c:
lib/rpc/include/rpc_misc.h:
lib/rpc/parse/parse_lsa.c:
lib/rpc/parse/parse_misc.c:
lib/rpc/parse/parse_net.c:
lib/rpc/parse/parse_samr.c:
lib/rpc/server/srv_lsa.c:
lib/rpc/server/srv_lsa_hnd.c:
lib/rpc/server/srv_netlog.c:
lib/rpc/server/srv_samr.c:
lib/rpc/server/srv_util.c: Changes so that instead of passing SIDs
around as char *, they are converted to DOM_SID at the earliest
opportunity, and passed around as that. Also added dynamic memory
allocation of group sids. Preparing to auto-generate machine sid.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 11:30
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv28725/lib/rpc/server

Modified Files:
	srv_lsa.c srv_lsa_hnd.c srv_netlog.c srv_samr.c srv_util.c 
Log Message:
chgpasswd.c: Added comments to #ifdefs
ipc.c: Caused samba password changing not to be done if UNIX password
       changing requested and not successful.
util.c: Added string_to_sid() and sid_to_string() functions.
lib/rpc/client/cli_samr.c:
lib/rpc/include/rpc_misc.h:
lib/rpc/parse/parse_lsa.c:
lib/rpc/parse/parse_misc.c:
lib/rpc/parse/parse_net.c:
lib/rpc/parse/parse_samr.c:
lib/rpc/server/srv_lsa.c:
lib/rpc/server/srv_lsa_hnd.c:
lib/rpc/server/srv_netlog.c:
lib/rpc/server/srv_samr.c:
lib/rpc/server/srv_util.c: Changes so that instead of passing SIDs
around as char *, they are converted to DOM_SID at the earliest
opportunity, and passed around as that. Also added dynamic memory
allocation of group sids. Preparing to auto-generate machine sid.
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 13:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14580

Modified Files:
	namequery.c proto.h server.c smbpass.c 
Log Message:
namequery.c: Fixed SGI IRIX 5.x compiler problem.
server.c: Added MACHINE.SID file generation - use lp_domain_sid() be default.
smbpass.c: Exposed do_file_lock() as I now use it in server.c
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 13:32
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv5385/lib/rpc/server

Modified Files:
	srv_lsa.c srv_netlog.c srv_samr.c 
Log Message:
Fixed dce/rpc to use global_machine_sid (auto generated in server.c if
not present in smb.conf).
Jeremy.



****************************************
Date:	Thursday May 14, 1998 @ 21:16
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13048

Modified Files:
	includes.h 
Log Message:

robert frank - some Next3 compilation errors detected.



****************************************
Date:	Friday May 15, 1998 @ 0:01
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26428

Modified Files:
	util.c 
Log Message:

some pretty horrible formatting in standard_sub_basic(): makes the function
unreadable and unmaintainable



****************************************
Date:	Friday May 15, 1998 @ 5:04
Author:	herb

Update of /data/cvs/samba/packaging/SGI
In directory samba:/tmp/cvs-serv3082

Modified Files:
	smbprint 
Log Message:
sync with 1.9.18 branch (clean up comments)



****************************************
Date:	Friday May 15, 1998 @ 7:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10417

Modified Files:
	passdb.c proto.h server.c 
Log Message:
passdb.c
server.c: Moved generate_machine_sid() into passdb.c for Jean-Francois 
          (who might want an LDAP version). Changed locking to free exclusive
          lock as soon as possible to prevent contention.
lib/rpc/parse/parse_samr.c
lib/rpc/server/srv_samr.c: Changed last SID-as-string manipulation
                           function to use DOM_SID structure.
Jeremy.



****************************************
Date:	Friday May 15, 1998 @ 7:10
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv10417/lib/rpc/parse

Modified Files:
	parse_samr.c 
Log Message:
passdb.c
server.c: Moved generate_machine_sid() into passdb.c for Jean-Francois 
          (who might want an LDAP version). Changed locking to free exclusive
          lock as soon as possible to prevent contention.
lib/rpc/parse/parse_samr.c
lib/rpc/server/srv_samr.c: Changed last SID-as-string manipulation
                           function to use DOM_SID structure.
Jeremy.



****************************************
Date:	Friday May 15, 1998 @ 7:10
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10417/lib/rpc/server

Modified Files:
	srv_samr.c 
Log Message:
passdb.c
server.c: Moved generate_machine_sid() into passdb.c for Jean-Francois 
          (who might want an LDAP version). Changed locking to free exclusive
          lock as soon as possible to prevent contention.
lib/rpc/parse/parse_samr.c
lib/rpc/server/srv_samr.c: Changed last SID-as-string manipulation
                           function to use DOM_SID structure.
Jeremy.



****************************************
Date:	Friday May 15, 1998 @ 10:39
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7692

Modified Files:
	util.c 
Log Message:
util.c: Re-seed the crypto random number generator after a fork, so all
        smbds started from the same parent won't use the same sequence.
Jeremy.



****************************************
Date:	Saturday May 16, 1998 @ 0:47
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv9302

Added Files:
	mknissmbpasswd.sh mknissmbpwdtbl.sh 
Log Message:

two scripts from benny holmgren which a) create NIS+ table b) populate it
from private/smbpasswd.



****************************************
Date:	Saturday May 16, 1998 @ 0:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17754

Modified Files:
	mknissmbpasswd.sh mknissmbpwdtbl.sh 
Log Message:

adding copyright messages for Benny Holmgren



****************************************
Date:	Saturday May 16, 1998 @ 0:49
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6856

Added Files:
	nisppass.c 
Log Message:

first non-compiling, unused, mostly stub version of NIS+ password database.
based on Benny Holmgren's samba patch (copyright acknowledged).



****************************************
Date:	Saturday May 16, 1998 @ 0:50
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv7740

Modified Files:
	passdb.c 
Log Message:

some databases have search capabilities.  acknowledging this in design
of passdb.c api.



****************************************
Date:	Saturday May 16, 1998 @ 8:29
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv25244/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
Fix from "Gerald W. Carter" <cartegw@eng.auburn.edu>, we were
copying from a parameter into an unitialized variable (doh !).
Jeremy.



****************************************
Date:	Saturday May 16, 1998 @ 9:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv18555

Modified Files:
	smbpasswd.c 
Log Message:
Change getpwnam to Get_Pwnam(xx , True) to allow lazy matching
in /etc/passwd. Fix from "Mike Black" <mblack@csihq.com>.
Jeremy.



****************************************
Date:	Saturday May 16, 1998 @ 10:50
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17505

Modified Files:
      Tag: BRANCH_1_9_18
	slprintf.c 
Log Message:

Jeremy is going to hate me :-)

A bug in slprintf() means that although p7 compiled fine under SunOS4
it won't actually run. The problem is that vsprintf returns a pointer
under SunOS not an integer (giving the number of chars printed). I
wonder how many other platforms this affects?

I've fixed it (trivial fix) but now we need to decide when a new
release is needed. Right now SunOS users will be wondering why it is
broken. 



****************************************
Date:	Saturday May 16, 1998 @ 17:53
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv5077

Modified Files:
	Makefile makerpms.sh samba-make.patch samba.spec 
Log Message:
Updating RPM production.



****************************************
Date:	Monday May 18, 1998 @ 21:54
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15637

Modified Files:
	Makefile includes.h ldap.c loadparm.c mkproto.awk nisppass.c 
	passdb.c proto.h smb.h smbpass.c util.c 
Log Message:

Makefile:

	- added nisppass.c and NISPLUS_FLAGS

includes.h:

	- renamed USE_LDAP to USE_LDAP_DB.  renamed NISPLUS to USE_NISPLUS_DB.
	added default define of USE_SMBPASS_DB.

	- removed ldap headers: they are local only to ldap.c

ldap.c :

	- made all ldap-specific functions static.

	- added dummy sam21 functions

loadparm.c :

	- renamed NISPLUS to NISPLUS_HOME


mkproto.awk

	- commented out ldap-specific #ifdef generation code: it's not
	  needed now that ldap-specific functions in ldap.c are static

nisppass.c :

	- first attempt at an add function from



****************************************
Date:	Monday May 18, 1998 @ 21:59
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5211

Modified Files:
	nisppass.c 
Log Message:

oops.  pressed ctrl-z while editing the previous cvs message: this was
taken to mean ":x".



****************************************
Date:	Monday May 18, 1998 @ 22:27
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10881

Modified Files:
	Makefile passdb.c smbpass.c 
Added Files:
	smbpassfile.c 
Log Message:

- renamed some of the passdb.c functions: they have a prefix pdb_ on them

- split smbpass.c "password file lock" routines into smbpassfile.c: moved
  trust account routines into smbpassfile.c as well



****************************************
Date:	Monday May 18, 1998 @ 22:27
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10881/lib/rpc/server

Modified Files:
	srv_lsa.c srv_netlog.c srv_util.c 
Log Message:

- renamed some of the passdb.c functions: they have a prefix pdb_ on them

- split smbpass.c "password file lock" routines into smbpassfile.c: moved
  trust account routines into smbpassfile.c as well



****************************************
Date:	Tuesday May 19, 1998 @ 0:06
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3485

Modified Files:
	ldap.c proto.h 
Log Message:

received update from jean francois for ldap.c: he is doing add / mod
functions



****************************************
Date:	Tuesday May 19, 1998 @ 0:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22727

Modified Files:
	ldap.c proto.h server.c smbpass.c smbpassfile.c 
Log Message:

resolving compilation errors



****************************************
Date:	Tuesday May 19, 1998 @ 0:43
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22024

Modified Files:
	ldap.c passdb.c 
Log Message:

no include headers in ldap.c.
passdb.c sam_passwd <-> smb_passwd conversion routines



****************************************
Date:	Tuesday May 19, 1998 @ 0:55
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19670

Modified Files:
	ldap.c passdb.c proto.h smbpass.c 
Log Message:

creating and using some pdb_init_(sam/smb) routines.  putting ldap headers
back in (they had been taken out of includes.h because they are only
local to ldap.c.



****************************************
Date:	Tuesday May 19, 1998 @ 1:50
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25502

Modified Files:
	nisppass.c passdb.c proto.h 
Log Message:

removed references to some of the smb_passwd routines from ldap and nis+
code, use pdb_sam_to_smb(...sam21...) calls instead.  this is a lot simpler.



****************************************
Date:	Tuesday May 19, 1998 @ 3:10
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10018

Modified Files:
	passdb.c 
Log Message:

sorting out removal of some smb_passwd functions by calling pdb_smb_to_sam()
instead, for use by nisppass.c



****************************************
Date:	Tuesday May 19, 1998 @ 3:15
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14799

Modified Files:
	nisppass.c passdb.c 
Log Message:

linker errors with -DUSE_NISPLUS_DB - difficult to spot when you're not
using nis+ on your system, so you get 100 linker errors...



****************************************
Date:	Tuesday May 19, 1998 @ 7:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6480

Modified Files:
	chgpasswd.c ldap.c loadparm.c nisppass.c nmbd_processlogon.c 
	nttrans.c passdb.c password.c proto.h reply.c slprintf.c smb.h 
	smbpass.c smbpasswd.c 
Log Message:
chgpasswd.c: Changed back to getsmb... from getsam...
ldap.c: Stoped dummy_function being prototyped.
loadparm.c: Fixed slprintf sizes.
nisppass.c: Fixed safe_strcpy sizes.
nmbd_processlogon.c: Changed back to getsmb... from getsam...
nttrans.c: Just a dump of new code.
passdb.c: Moved stuff around a lot - stopped any lookups by rid. This 
          needs to be indirected through a function table (soon).
password.c: Changed back to getsmb... from getsam...
reply.c: Changed back to getsmb... from getsam...
slprintf.c: Fixed prototype problems.
smb.h: Fixed prototype problems.
smbpass.c: Changed to getsmbfile.... 
smbpasswd.c: Changed back to getsmb... from getsam...
lib/rpc/server/srv_netlog.c: Changed back to getsmb... from getsam...
lib/rpc/server/srv_samr.c: Fixed rid lookup - use uid or gid lookup.
lib/rpc/server/srv_util.c: Changed back to getsmb... from getsam...
Jeremy.



****************************************
Date:	Tuesday May 19, 1998 @ 7:30
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv6480/lib/rpc/server

Modified Files:
	srv_netlog.c srv_samr.c srv_util.c 
Log Message:
chgpasswd.c: Changed back to getsmb... from getsam...
ldap.c: Stoped dummy_function being prototyped.
loadparm.c: Fixed slprintf sizes.
nisppass.c: Fixed safe_strcpy sizes.
nmbd_processlogon.c: Changed back to getsmb... from getsam...
nttrans.c: Just a dump of new code.
passdb.c: Moved stuff around a lot - stopped any lookups by rid. This 
          needs to be indirected through a function table (soon).
password.c: Changed back to getsmb... from getsam...
reply.c: Changed back to getsmb... from getsam...
slprintf.c: Fixed prototype problems.
smb.h: Fixed prototype problems.
smbpass.c: Changed to getsmbfile.... 
smbpasswd.c: Changed back to getsmb... from getsam...
lib/rpc/server/srv_netlog.c: Changed back to getsmb... from getsam...
lib/rpc/server/srv_samr.c: Fixed rid lookup - use uid or gid lookup.
lib/rpc/server/srv_util.c: Changed back to getsmb... from getsam...
Jeremy.



****************************************
Date:	Tuesday May 19, 1998 @ 9:57
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4044

Modified Files:
	ldap.c nisppass.c passdb.c proto.h server.c smb.h smbpass.c 
	smbpasswd.c 
Log Message:
Abstracted all the crappy password interfaces through an indirect
function table, selectable at compile time. This should make the
code that implements all the password functions much cleaner, as
it's now very clear exactly what a particular password database
needs to provide to Samba.
Jeremy.



****************************************
Date:	Tuesday May 19, 1998 @ 14:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/samba/samba/source

Modified Files:
	nmbd.c 
Log Message:
Forgot to add the initialize_password_db() call to nmbd also.
Jeremy.



****************************************
Date:	Tuesday May 19, 1998 @ 14:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/samba/samba/source

Modified Files:
	util.c 
Log Message:
Fixed signed/unsigned warning.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 3:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3583

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Fix potential crash bug with password checking code if
the user has "NO PASSWORD" or account disabled specified.
This is already fixed in the main branch so is not an
issue.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 3:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25411

Modified Files:
	ldap.c nisppass.c passdb.c proto.h smb.h smbpass.c 
Log Message:

ldap.c :

	- added support for some of the new passdb_ops functions.

	- removed functions that are supported "indirectly" through passdb.c

nisppass.c :

	- modified make_nisname_from_xxx() functions to take a "file" arg.

	- turned getnisp21pwuid() into getnisp21pwrid().  getnisp21pwuid()
	  functionality is available through "indirect" support in passdb.c

	- removed functions that are supported "indirectly" through passdb.c

	- added support for some of the new passdb_ops functions.

passdb.c :

	- created getsam21pwrid() function to go alongside getsam21pwuid.
	  it is not expected that getsam21pwuid ever be used, certainly
	  not from the lib/rpc code.

	- created getsamdisprid() and getsamdispent().  these are primarily
	  for support of SamrQueryDisplayInfo, however given that they
	  [struct sam_disp_info] return username, rid and fullname, there may
	  be further instances where these functions will be useful.

	- added support where either the get/add/mod-smb or get/add/mod-sam21
	  functions are optional.  this can be done very easily by checking
	  whether the struct passdb_ops table functions are NULL or not.

	  documented this capability in the notes at the top of the module.

	- where unix uid was referenced, use uid_t.

	- where unix gid was referenced, use gid_t.

smb.h :

	- added sam_disp_info functions to passdb_ops.

	- added getsam21pwrid() function.

smbpass.c :

	- added reference to iterate_getsam21pwrid().

lib/rpc/server/srv_samr.c :

	- removed group rid code added to get_user_info_21() code: this
	  had been added in the wrong place.  the client / server should
	  already know whether it wants to do a lookup by user rid or
	  by group rid.

	  the test of whether the rid is a user or group rid has been left
	  in because this may become useful consistency-check code.  

	- converted back to getsam21pwrid() not
	  getsam21pwuid(pdb_user_rid_to_uid()).  

	  this is because the unix uid to user rid mapping can be non-monotonic
	  in some password database systems, and monotonic in others.  imposing
	  the restriction by converting immediately from rid to uid at this
	  point is inadviseable, and will place this potential restriction on
	  _all_ password database systems, not just some which, for whatever
	  reason, do not support user rids.

	  it should be up to the individual password database writer to
	  convert from user rid to unix uid, should that module not support
	  rids.
	
lib/rpc/server/srv_util.c :

	- got lookup_user_name() to call getsamdisprid() not getsmbpwuid().
	  a bug was introduced (or at least the bug already there was not
	  fixed) whereby the nt user rid was converted to a unix uid, and
	  then not used.



****************************************
Date:	Wednesday May 20, 1998 @ 3:48
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv25411/lib/rpc/server

Modified Files:
	srv_samr.c srv_util.c 
Log Message:

ldap.c :

	- added support for some of the new passdb_ops functions.

	- removed functions that are supported "indirectly" through passdb.c

nisppass.c :

	- modified make_nisname_from_xxx() functions to take a "file" arg.

	- turned getnisp21pwuid() into getnisp21pwrid().  getnisp21pwuid()
	  functionality is available through "indirect" support in passdb.c

	- removed functions that are supported "indirectly" through passdb.c

	- added support for some of the new passdb_ops functions.

passdb.c :

	- created getsam21pwrid() function to go alongside getsam21pwuid.
	  it is not expected that getsam21pwuid ever be used, certainly
	  not from the lib/rpc code.

	- created getsamdisprid() and getsamdispent().  these are primarily
	  for support of SamrQueryDisplayInfo, however given that they
	  [struct sam_disp_info] return username, rid and fullname, there may
	  be further instances where these functions will be useful.

	- added support where either the get/add/mod-smb or get/add/mod-sam21
	  functions are optional.  this can be done very easily by checking
	  whether the struct passdb_ops table functions are NULL or not.

	  documented this capability in the notes at the top of the module.

	- where unix uid was referenced, use uid_t.

	- where unix gid was referenced, use gid_t.

smb.h :

	- added sam_disp_info functions to passdb_ops.

	- added getsam21pwrid() function.

smbpass.c :

	- added reference to iterate_getsam21pwrid().

lib/rpc/server/srv_samr.c :

	- removed group rid code added to get_user_info_21() code: this
	  had been added in the wrong place.  the client / server should
	  already know whether it wants to do a lookup by user rid or
	  by group rid.

	  the test of whether the rid is a user or group rid has been left
	  in because this may become useful consistency-check code.  

	- converted back to getsam21pwrid() not
	  getsam21pwuid(pdb_user_rid_to_uid()).  

	  this is because the unix uid to user rid mapping can be non-monotonic
	  in some password database systems, and monotonic in others.  imposing
	  the restriction by converting immediately from rid to uid at this
	  point is inadviseable, and will place this potential restriction on
	  _all_ password database systems, not just some which, for whatever
	  reason, do not support user rids.

	  it should be up to the individual password database writer to
	  convert from user rid to unix uid, should that module not support
	  rids.
	
lib/rpc/server/srv_util.c :

	- got lookup_user_name() to call getsamdisprid() not getsmbpwuid().
	  a bug was introduced (or at least the bug already there was not
	  fixed) whereby the nt user rid was converted to a unix uid, and
	  then not used.



****************************************
Date:	Wednesday May 20, 1998 @ 5:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12186

Modified Files:
	ldap.c nisppass.c passdb.c proto.h smb.h smbpass.c 
Log Message:

removed "default" system for password database api: all functions must
be supported.  there are some stub routines in passdb.c which can be
copied into a password database api which do conversion.  the module
writer can choose which of these to provide full support for instead
of using the conversion routines.



****************************************
Date:	Wednesday May 20, 1998 @ 5:41
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14647

Modified Files:
	proto.h smbpass.c 
Log Message:

oops - got some of the default (conversion) functions wrong.



****************************************
Date:	Wednesday May 20, 1998 @ 5:50
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14313

Modified Files:
	smbpass.c 
Log Message:

made mod_smbfilepwd_entry() and getsmbfilepwent() static.  they need not
be exposed.



****************************************
Date:	Wednesday May 20, 1998 @ 6:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16291

Modified Files:
	passdb.c smb.h smbpass.c util.c 
Log Message:
passdb.c: Fixed typo in coment.
smb.h: Removed comments no longer valid.
smbpass.c: Stopped dummy function from being prototyped.
util.c: Fix for multibyte char problems with strlower, strupper
and string_replace.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 6:12
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23995

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c time.c util.c 
Log Message:
ipc.c: Fix for unix passwords not being changed and smb passwords being changed.
time.c: Buffer length fix.
util.c: Fix for multibyte characters in strlower, strupper and string_replace.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 8:06
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23533

Modified Files:
	util.c 
Log Message:
Fix to do NT wildcard matching.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 8:11
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1737

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Fix to do NT wildcard matching.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 12:01
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1536

Modified Files:
	trans2.c 
Log Message:
Fixed Samba's wildcard algorithm to be *exactly* the same
as NT.
You do not want to know how this code works :-).
Jeremy



****************************************
Date:	Wednesday May 20, 1998 @ 12:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv11894

Modified Files:
	trans2.c 
Log Message:
Minor tweak for wcard compatibility paranoia.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 12:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16238

Modified Files:
      Tag: BRANCH_1_9_18
	trans2.c 
Log Message:
Fix so that Samba now does wildcard matching in *exactly* 
the same way as NT.
You don't want to know how this code works. Really. :-).
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 12:54
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16341

Modified Files:
	Makefile 
Log Message:
kuku@gil.physik.rwth-aachen.de reported that FreeBSD supports
ALLOW_CHANGE_PASSWORD.




****************************************
Date:	Wednesday May 20, 1998 @ 14:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/data/people/jra/samba/source

Modified Files:
	trans2.c 
Log Message:
Fixed incorrect last arg to safe_strcpy in new wildcard code.
Jeremy.



****************************************
Date:	Wednesday May 20, 1998 @ 14:22
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/data/people/jra/samba/source

Modified Files:
      Tag: BRANCH_1_9_18
	trans2.c 
Log Message:
Fixing incorrect last argument to safe_strcpy in new wildcard
code.
Jermey.



****************************************
Date:	Wednesday May 20, 1998 @ 23:17
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4183

Modified Files:
	proto.h 
Log Message:

dce/rpc net time command from jean-francois.  does not support timezones



****************************************
Date:	Wednesday May 20, 1998 @ 23:17
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv4183/lib/rpc/include

Modified Files:
	rpc_srvsvc.h 
Log Message:

dce/rpc net time command from jean-francois.  does not support timezones



****************************************
Date:	Wednesday May 20, 1998 @ 23:17
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv4183/lib/rpc/parse

Modified Files:
	parse_srv.c 
Log Message:

dce/rpc net time command from jean-francois.  does not support timezones



****************************************
Date:	Wednesday May 20, 1998 @ 23:17
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv4183/lib/rpc/server

Modified Files:
	srv_srvsvc.c 
Log Message:

dce/rpc net time command from jean-francois.  does not support timezones



****************************************
Date:	Thursday May 21, 1998 @ 7:29
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8051

Modified Files:
	slprintf.c 
Log Message:
fix slprintf for sunos4 in head branch



****************************************
Date:	Thursday May 21, 1998 @ 21:54
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv2322/lib/rpc/server

Modified Files:
	srv_srvsvc.c 
Log Message:

jean-francois calling the right function for the "net t.o.d" dce/rpc support
does gmtime() not LocalTime() now.



****************************************
Date:	Thursday May 21, 1998 @ 22:18
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv20077

Modified Files:
	passdb.c smbpass.c 
Log Message:

fixed signed / unsigned warnings spotted by tim winders.  also fixed
unnecessary "address of" warnings.



****************************************
Date:	Thursday May 21, 1998 @ 22:18
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv20077/lib/rpc/server

Modified Files:
	srv_samr.c 
Log Message:

fixed signed / unsigned warnings spotted by tim winders.  also fixed
unnecessary "address of" warnings.



****************************************
Date:	Friday May 22, 1998 @ 3:14
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv1369/ubiqx

Modified Files:
	ubi_AVLtree.c ubi_AVLtree.h ubi_BinTree.c ubi_BinTree.h 
	ubi_Cache.c ubi_Cache.h ubi_SplayTree.c ubi_SplayTree.h 
	ubi_dLinkList.c ubi_dLinkList.h ubi_sLinkList.c 
	ubi_sLinkList.h 
Added Files:
	ubi_null.h 
Log Message:
Along the lines that Andrew suggested, I added a header called ubi_null.h.
This header tries four different locations for a definition of NULL.  If
NULL still hasn't been found, it defaults to ((void *)0).  All of the
includes can be, essentially, overridden by defining NULL on the command
line, as in -DNULL=((void *)0).  I have faith that this will avoid the
problem of NULL being in different places on different systems.  If there
is a system out there that doesn't define NULL in any of the headers I've
included, then let me know *where* it's defined and I'll add another
header.  Chris -)-----



****************************************
Date:	Friday May 22, 1998 @ 9:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25299

Modified Files:
	printing.c reply.c 
Log Message:
printing.c: Fixed overflow by one problem in LPRng.
reply.c: Fixed password length modifiers to always be done
         is none-encrypted mode used. This fixes Samba for
         people who are using non-encrypted passwords with
         security=server.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 9:51
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28007

Modified Files:
      Tag: BRANCH_1_9_18
	printing.c reply.c 
Log Message:
printing.c: Fixed one byte overflow in LPRng.
reply.c: Fixed password length fix for people using security=server and non
encrypted passwords.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 9:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10

Modified Files:
	password.c 
Log Message:
Fixed 'revalidate' parameter so it's only considered in security=share
mode.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 9:59
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1812

Modified Files:
      Tag: BRANCH_1_9_18
	password.c 
Log Message:
Fixed 'revalidate' parameter so it's only considered in security=share
mode.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 10:32
Author:	tridge

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv12853

Modified Files:
	ubi_null.h 
Log Message:
added:

#ifdef HAVE_INCLUDES_H
#include "../includes.h"
#endif

we want _all_ code in Samba to include this file to ensure that we can
override definitions, typedefs and includes in one place.



****************************************
Date:	Friday May 22, 1998 @ 10:34
Author:	tridge

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12633

Modified Files:
	Makefile 
Log Message:
added -DHAVE_INCLUDES_H to CFLAGS




****************************************
Date:	Friday May 22, 1998 @ 11:40
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv28273

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Added revalidate docs change.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 11:51
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19506

Modified Files:
	testparm.c 
Log Message:
Put a do_global_tests() function that will be expanded to
test all the heuristics we know about for validating smb.conf
file.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 11:51
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv15274

Modified Files:
      Tag: BRANCH_1_9_18
	testparm.c 
Log Message:
Put a do_global_tests() function that will be expanded to
test all the heuristics we know about for validating smb.conf
file.
Jeremy.



****************************************
Date:	Friday May 22, 1998 @ 14:43
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv14553/ubiqx

Modified Files:
	README.UBI 
Log Message:
Added a disclaimer regarding the changes Andrew wants.



****************************************
Date:	Friday May 22, 1998 @ 15:16
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19994

Modified Files:
	dir.c includes.h 
Log Message:

Removed all ubiqx includes from includes.h.  So far, this was only a problem
for dir.h, which I've fixed.  Andrew did not add includes.h to the ubiqx
headers, which is good because it would cause internal conflicts within the
ubiqx tree modules.  It's also bad because the definitions and includes
that are part of includes.h are now in the ubiqx C files, but not in the
header files.  So, if includes.h were to redefine int, for example, the
new definition would be in the ubiqx C files, but not in the headers.

So, until Andrew and I can work something out that we both agree upon,
there are three basic rules:

1) Don't include includes.h in the ubiqx headers.  Problems may arise.
2) The ubiqx headers must follow includes.h in any Samba module that
   uses them.

This can and should all be worked out.  We just have to talk about it.

Chris -)-----




****************************************
Date:	Friday May 22, 1998 @ 16:32
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv27094/ubiqx

Removed Files:
	ubi_AVLtree.c ubi_AVLtree.h 
Log Message:

These two are not being used, and they would cause conflict under Andrew's
include scheme.  Removing them works around the problem.  If someone
does need them sometime (can't imagine why, since the splay tree is 
typically faster), let me know and we can work something else out.

Chris -)-----




****************************************
Date:	Friday May 22, 1998 @ 17:46
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22909

Modified Files:
	includes.h dir.c mangle.c 
Log Message:
I've put the ubiqx headers back into includes.h, and removed them from
dir.c & mangle.c.  This was possible after I checked the tree code to make
sure that the tree code did not reference functions by macro name.  Also,
note that the AVL module has been removed to prevent conflict with the
SplayTree macro defines.

Chris -)-----



****************************************
Date:	Friday May 22, 1998 @ 21:28
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22969

Modified Files:
	nisppass.c 
Log Message:

doesn't compile: don't care.  checking this in so people can see what's
going on.



****************************************
Date:	Friday May 22, 1998 @ 22:12
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1985

Modified Files:
	nisppass.c 
Log Message:

add_nisp21pwd_entry() finished but not tested.  module now compiles.



****************************************
Date:	Saturday May 23, 1998 @ 12:00
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22878

Modified Files:
	smb.h 
Log Message:
Added more NT definitions, getting ready for nttrans code.
Jeremy.



****************************************
Date:	Sunday May 24, 1998 @ 23:36
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv737

Modified Files:
	nisppass.c passdb.c proto.h smbpass.c 
Log Message:

- created pdb_sethexpwd(), to be called from all pwd apis that need to
  store passwords in ascii format

- dealt with lots of signed/unsigned char thingies spotted by Tim Winders.



****************************************
Date:	Sunday May 24, 1998 @ 23:36
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv737/lib/rpc/parse

Modified Files:
	parse_net.c parse_reg.c 
Log Message:

- created pdb_sethexpwd(), to be called from all pwd apis that need to
  store passwords in ascii format

- dealt with lots of signed/unsigned char thingies spotted by Tim Winders.



****************************************
Date:	Sunday May 24, 1998 @ 23:36
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv737/lib/rpc/server

Modified Files:
	srv_netlog.c srv_reg.c 
Log Message:

- created pdb_sethexpwd(), to be called from all pwd apis that need to
  store passwords in ascii format

- dealt with lots of signed/unsigned char thingies spotted by Tim Winders.



****************************************
Date:	Monday May 25, 1998 @ 3:47
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv9635/lib/rpc/server

Modified Files:
	srv_lsa.c 
Log Message:

more warnings, from Tim Winders



****************************************
Date:	Monday May 25, 1998 @ 23:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv23342

Modified Files:
	passdb.c 
Log Message:

i wondered why nisppass.c came up with a linker error "pdb_set_last_set_time"
not found.  this gave me a clue...

#if 0 /* commented out until someone uses them jra */

...

#endif



****************************************
Date:	Monday May 25, 1998 @ 23:39
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv26512

Modified Files:
	nisppass.c passdb.c proto.h 
Log Message:

added set logon, logoff, kickoff etc time functions.




****************************************
Date:	Wednesday May 27, 1998 @ 5:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4717

Modified Files:
      Tag: BRANCH_1_9_18
	trans2.c util.c 
Log Message:
util.c: Getting closer to MS wildcard semantics. A trailing '*' matches
        any trailing dot-separated components.
trasn2.c: Removed hacks that change multiple '?' -> '*' as this
          breaks things now.
Jeremy.



****************************************
Date:	Wednesday May 27, 1998 @ 5:37
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv4485

Modified Files:
	smb.h smbpass.c trans2.c trans2.h util.c 
Log Message:
smb.h: More NT SMB stuff (just defines).
smbpass.c: Do *NOT* make this function static. It breaks the compile on gcc
util.c: Getting closer to MS wildcard semantics. A trailing '*' matches
        any trailing dot-separated components.
trans2.c: Removed hacks that change multiple '?' -> '*' as this
          breaks things now.
trans2.h: Removed NT_FILE_ATTRIBUTE_NORMAL - now FILE_ATTRIBUTE_NORMAL is defined
          in smb.h.
Jeremy.



****************************************
Date:	Wednesday May 27, 1998 @ 5:50
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv11356

Modified Files:
      Tag: BRANCH_1_9_18
	Support.txt 
Log Message:
Added Canadian consultant.
Jeremy.



****************************************
Date:	Wednesday May 27, 1998 @ 10:30
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3689

Modified Files:
	loadparm.c passdb.c password.c proto.h server.c smbpassfile.c 
	smbpasswd.c 
Log Message:
loadparm.c: Added machine password timeout parameter - set to 7 days be default.
password.c: Added code to tell server.c when machine password needs changing.
server.c: Change machine password in idle cycles if it needs it.
smbpassfile.c: Fixed up length calculations for machine password file.
smbpasswd.c: Moved domain joining code/machine password changing code.
lib/rpc/client/cli_netlogon.c: And this is where it now lives.
Jeremy.



****************************************
Date:	Wednesday May 27, 1998 @ 10:30
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/client
In directory samba:/tmp/cvs-serv3689/lib/rpc/client

Modified Files:
	cli_netlogon.c 
Log Message:
loadparm.c: Added machine password timeout parameter - set to 7 days be default.
password.c: Added code to tell server.c when machine password needs changing.
server.c: Change machine password in idle cycles if it needs it.
smbpassfile.c: Fixed up length calculations for machine password file.
smbpasswd.c: Moved domain joining code/machine password changing code.
lib/rpc/client/cli_netlogon.c: And this is where it now lives.
Jeremy.



****************************************
Date:	Thursday May 28, 1998 @ 0:22
Author:	lkcl

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv13126

Modified Files:
	NTDOMAIN.txt 
Log Message:

removed "domain sid = " parameter instructions



****************************************
Date:	Thursday May 28, 1998 @ 8:48
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv27062

Modified Files:
	proto.h util.c 
Log Message:
Newly re-written do_match and mask_match functions, with the 
help of Ums Harald <Harald.Ums@pro-sieben.de>, who has been
testing our 8.3 wildcards with a test suite.
With his new code for 8.3 matching, this is the test done
(I'm quoting from his email)

"I tested it by generating a directory with about 7600 Files and run
automatc tests with about 4000 patterns. The result from Win95 -> WinNT
and Win95 -> Samba where identical according to diff."

I have also re-written the long filename wildcard code,
so that doing DIR a*z now matches files :

AAA.BBB.CCCC....ZZZZ

correctly, and other fixes besides.

I sincerely hope I can lay this (horrid) issue to rest
now :-).

Jeremy.



****************************************
Date:	Thursday May 28, 1998 @ 9:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6537

Modified Files:
	proto.h util.c 
Log Message:
Ooops - fixed Win95 crash bugs with earlier code.
Jeremy



****************************************
Date:	Thursday May 28, 1998 @ 10:14
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6916

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Adding wildcard files to old branch.
Jeremy.



****************************************
Date:	Friday May 29, 1998 @ 2:55
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16526

Modified Files:
	nisppass.c 
Log Message:

latest messing about: probably doesn't compile; doesn't matter.



****************************************
Date:	Friday May 29, 1998 @ 4:38
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10654

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Added multibyte char fixes that were already in the head branch
back to 1.9.18.
Jeremy.



****************************************
Date:	Saturday May 30, 1998 @ 4:10
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14188

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile 
Added Files:
      Tag: BRANCH_1_9_18
	codepage_def.737 
Log Message:
Adding greek codepage from Manousaridis Haris <genesis@the.forthnet.gr>
Jeremy.



****************************************
Date:	Saturday May 30, 1998 @ 4:19
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv28095

Modified Files:
      Tag: BRANCH_1_9_18
	Makefile 
Added Files:
      Tag: BRANCH_1_9_18
	codepage_def.861 
Log Message:
Adding Icelandic codepage from Magns Gslason <magnus@hi.is>
Jeremy.



****************************************
Date:	Saturday May 30, 1998 @ 4:25
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16122

Modified Files:
	Makefile 
Added Files:
	codepage_def.737 codepage_def.861 
Log Message:
Adding Greek and Icelandic codepages from :

Manousaridis Haris <genesis@the.forthnet.gr>
and Magns Gslason <magnus@hi.is>

respectively.

Jeremy.



****************************************
Date:	Saturday May 30, 1998 @ 5:16
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21475

Modified Files:
      Tag: BRANCH_1_9_18
	time.c 
Log Message:
Added Paul Eggerts LocalTime patch.
Jeremy



****************************************
Date:	Saturday May 30, 1998 @ 5:18
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10969

Modified Files:
	time.c 
Log Message:
Added Paul Eggerts LocalTime patch.
Jeremy.



****************************************
Date:	Saturday May 30, 1998 @ 12:25
Author:	ictinus

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22652/source

Modified Files:
	status.c 
Log Message:
This change ensures that only the processes/locked files that 
belong to -uUsername are printed when running 'smbstatus -uUsername'
PaulB




****************************************
Date:	Monday June 1, 1998 @ 16:28
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8626

Modified Files:
	MIRRORS.txt 
Log Message:
point people at the main web site for a up to date list of mirrors





****************************************
Date:	Monday June 1, 1998 @ 16:30
Author:	tridge

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv8834

Modified Files:
      Tag: BRANCH_1_9_18
	MIRRORS.txt 
Log Message:
point people at the main web site for a up to date list of mirrors



****************************************
Date:	Tuesday June 2, 1998 @ 4:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv2465

Modified Files:
	clientutil.c passdb.c proto.h smbpass.c 
Log Message:
clientutil.c: Don't core dump if no controlling terminal available for password.
passdb.c:
lib/rpc/include/rpc_misc.h: First cut at automatic uid/gid to rid mapping.
We can change this at a later date to make more bits available if neccessary.
Jeremy.



****************************************
Date:	Tuesday June 2, 1998 @ 4:50
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv2465/lib/rpc/include

Modified Files:
	rpc_misc.h 
Log Message:
clientutil.c: Don't core dump if no controlling terminal available for password.
passdb.c:
lib/rpc/include/rpc_misc.h: First cut at automatic uid/gid to rid mapping.
We can change this at a later date to make more bits available if neccessary.
Jeremy.



****************************************
Date:	Tuesday June 2, 1998 @ 13:27
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv21118/ubiqx

Modified Files:
	ubi_BinTree.c ubi_BinTree.h ubi_Cache.c ubi_Cache.h 
	ubi_SplayTree.c ubi_SplayTree.h ubi_dLinkList.c 
	ubi_dLinkList.h ubi_sLinkList.c ubi_sLinkList.h 
Added Files:
	sys_include.h 
Removed Files:
	ubi_null.h 
Log Message:
Changed the mechanism for including the Samba includes.h in the ubiqx code
to something less hurried, simpler, and (I believe) more acceptable to
all.  The ubi_*.c files all now #include sys_include.h which, for Samba,
contains only comments and the line

#include "../includes.h"

That will make sure that the Samba header is there, allows me to
distribute a different default header with the main ubiqx set, and allows
others to write their own sys_includes.h for their own purposes.

Thanks to Andrew and Jeremy for hammering this out with me.

Chris -)-----




****************************************
Date:	Wednesday June 3, 1998 @ 11:04
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv25300

Modified Files:
	ipc.c server.c smb.h 
Log Message:
ipc.c: Fix bug where we don't return the correct error code when client
       gives a too-small buffer for share info. Fix from Gil Kloepfer <gil@arlut.utexas.edu>
smb.h:
server.c: Fix for a nastly little security problem with multi-user Windows NT
          servers and Samba where the contents of the open-file cache can end
          up being served out to users who shouldn't have access. This is some
          *seriously* ugly code.
Jeremy.



****************************************
Date:	Wednesday June 3, 1998 @ 11:06
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv22630

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c server.c smb.h 
Log Message:
ipc.c: Fix bug where we don't return the correct error code when client
       gives a too-small buffer for share info. Fix from Gil Kloepfer <gil@arlut.utexas.edu>
smb.h: 
server.c: Fix for a nastly little security problem with multi-user Windows NT
          servers and Samba where the contents of the open-file cache can end
          up being served out to users who shouldn't have access. This is some
          *seriously* ugly code.
Jeremy.



****************************************
Date:	Thursday June 4, 1998 @ 7:38
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6822

Modified Files:
	includes.h 
Log Message:
It occurred to me that the samba includes.h file should be included in the
header files used by the ubiqx modules, instead of being hidden in the .c
files.  This would ensure that anything in includes.h would be "seen" by
the ubiqx headers.  I also had to put an #ifdef around the includes for
ubi_SplayTree.h and ubi_Cache.h in includes.h to prevent the header of the
descendant type from being included before its parent type.

Chris -)-----




****************************************
Date:	Thursday June 4, 1998 @ 7:38
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv6822/ubiqx

Modified Files:
	ubi_BinTree.c ubi_BinTree.h ubi_Cache.c ubi_Cache.h 
	ubi_SplayTree.c ubi_SplayTree.h ubi_dLinkList.c 
	ubi_dLinkList.h ubi_sLinkList.c ubi_sLinkList.h 
Log Message:
It occurred to me that the samba includes.h file should be included in the
header files used by the ubiqx modules, instead of being hidden in the .c
files.  This would ensure that anything in includes.h would be "seen" by
the ubiqx headers.  I also had to put an #ifdef around the includes for
ubi_SplayTree.h and ubi_Cache.h in includes.h to prevent the header of the
descendant type from being included before its parent type.

Chris -)-----




****************************************
Date:	Thursday June 4, 1998 @ 10:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv13564

Modified Files:
	includes.h smbpass.c 
Log Message:
includes.h: Fixes for NetBSD and BSDI.
smbpass.c: Fixed irix warnings.
Jeremy.



****************************************
Date:	Thursday June 4, 1998 @ 11:50
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16190

Modified Files:
	util.c 
Log Message:
Fixed file descriptor leak in open_socket_out - this could
cause nmbd to run out of fd's. Test case found by Eloy Paris.
Jeremy.



****************************************
Date:	Thursday June 4, 1998 @ 11:52
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6377

Modified Files:
      Tag: BRANCH_1_9_18
	util.c 
Log Message:
Fixed file descriptor leak in open_socket_out - this could
cause nmbd to run out of fd's. Test case found by Eloy Paris.
Jeremy.



****************************************
Date:	Friday June 5, 1998 @ 1:24
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10313

Modified Files:
	loadparm.c proto.h smb.h 
Log Message:

added "domain admin group" and "domain guest group" parameters.  this is
because "domain admin users" and "domain guest users" was overloaded.

incorrectly.



****************************************
Date:	Friday June 5, 1998 @ 1:24
Author:	lkcl

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv10313/lib/rpc/server

Modified Files:
	srv_util.c 
Log Message:

added "domain admin group" and "domain guest group" parameters.  this is
because "domain admin users" and "domain guest users" was overloaded.

incorrectly.



****************************************
Date:	Friday June 5, 1998 @ 3:48
Author:	lkcl

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14040

Modified Files:
	smb.h 
Log Message:

had what would be a compile error if it wasn't #if 0'd out in passdb_ops



****************************************
Date:	Friday June 5, 1998 @ 4:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19246

Modified Files:
	client.c ipc.c 
Log Message:
client.c: Allowed client to proceed even if it gets error 234 (more data
          available) when scanning server/workgroup/share lists.
ipc.c: Removed redundent definition of ERROR_MORE_DATA (234) we already have
       ERRmoredata in smb.h
Jeremy.



****************************************
Date:	Saturday June 6, 1998 @ 6:46
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv6654

Modified Files:
	loadparm.c shmem_sysv.c 
Log Message:
loadparm.c: Did it ! Changed defaults for 'case preserve' and 'short case preserve'.
            Also removed 'domain allow/deny' parameters.
shmem_sysv.c: Added strerror code so I can see why sysV calls are failing.
lib/rpc/server/srv_netlog.c: Removed code that used 'domain allow/deny' parameters -
                             replaced with a comment so I will remember to fix this later.
Jeremy.



****************************************
Date:	Saturday June 6, 1998 @ 6:46
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv6654/lib/rpc/server

Modified Files:
	srv_netlog.c 
Log Message:
loadparm.c: Did it ! Changed defaults for 'case preserve' and 'short case preserve'.
            Also removed 'domain allow/deny' parameters.
shmem_sysv.c: Added strerror code so I can see why sysV calls are failing.
lib/rpc/server/srv_netlog.c: Removed code that used 'domain allow/deny' parameters -
                             replaced with a comment so I will remember to fix this later.
Jeremy.



****************************************
Date:	Saturday June 6, 1998 @ 8:20
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv8861

Modified Files:
      Tag: BRANCH_1_9_18
	includes.h shmem_sysv.c 
Log Message:
includes.h: Added BSDI and NetBSD fixes.
shmem_sysv.c: Added strerror debug print code.
Jeremy.



****************************************
Date:	Monday June 8, 1998 @ 13:44
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1853

Modified Files:
	asyncdns.c 
Log Message:
Cosmetic.  Added a cast to (void) to a call to add_name_to_subnet() since
the return value was being ignored anyway.  SGI's lint said:

function returns value which is sometimes ignored
    add_name_to_subnet

Chris -)-----




****************************************
Date:	Tuesday June 9, 1998 @ 0:59
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv24359

Modified Files:
	mkproto.awk 
Log Message:
Added code to generate

#ifndef _PROTO_H_
#define _PROTO_H_
:
:
#endif /* _PROTO_H_ */

in the appropriate places.  This required that I add an END rule.
I generated a new proto.h and diff'ed it against the previous.  There were
no differences except for the added lines.

Chris -)-----




****************************************
Date:	Tuesday June 9, 1998 @ 5:07
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv59

Modified Files:
      Tag: BRANCH_1_9_18
	nmbd_mynames.c nmbd_namelistdb.c 
Log Message:
Added code to add the Samba names onto the remote_broadcast subnet,
as NT 4.x does directed broadcast node status requests for the *<0x0> name.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 5:09
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3769

Modified Files:
	nmbd_mynames.c nmbd_namelistdb.c 
Log Message:
Added code to add the Samba names onto the remote_broadcast subnet,
as NT 4.x does directed broadcast node status requests for the *<0x0> name.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 5:38
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv16137

Modified Files:
	proto.h 
Log Message:
proto.h
  *Not* the usual.  I did make proto to add the #ifndef..#endif block.
  Just to be safe, I did a cvs diff and found no prototype changes.

ubiqx/sys_includes.h
  More fudging.  I want to use binary tree typdefs in nameserv.h, but
  nameserv.h is included in includes.h which is included by all of the
  ubiqx modules.  The result is that the types are referenced before
  they are declared.  My solution is to prevent nameserv.h and proto.h
  from being included in the ubiqx modules (where they are not needed
  anyway).

Chris -)-----




****************************************
Date:	Tuesday June 9, 1998 @ 5:38
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv16137/ubiqx

Modified Files:
	sys_include.h 
Log Message:
proto.h
  *Not* the usual.  I did make proto to add the #ifndef..#endif block.
  Just to be safe, I did a cvs diff and found no prototype changes.

ubiqx/sys_includes.h
  More fudging.  I want to use binary tree typdefs in nameserv.h, but
  nameserv.h is included in includes.h which is included by all of the
  ubiqx modules.  The result is that the types are referenced before
  they are declared.  My solution is to prevent nameserv.h and proto.h
  from being included in the ubiqx modules (where they are not needed
  anyway).

Chris -)-----




****************************************
Date:	Tuesday June 9, 1998 @ 6:07
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1161

Modified Files:
	includes.h 
Log Message:
Moved the ubiqx stuff above nameserv.h so that ubiqx typedefs could be
seen by the nameserve.h header.



****************************************
Date:	Tuesday June 9, 1998 @ 11:56
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17265

Modified Files:
	nameserv.h nmbd_become_lmb.c nmbd_incomingrequests.c 
	nmbd_lmhosts.c nmbd_mynames.c nmbd_namelistdb.c 
	nmbd_namequery.c nmbd_nameregister.c nmbd_namerelease.c 
	nmbd_packets.c nmbd_winsproxy.c nmbd_winsserver.c 
Log Message:
This is a first step toward moving long namelists into a database.  I
split the name_record structure into pieces.  The goal is that the key
(the name) be separate from the data associated with the key.  Databases
such as gdbm store information in [key,content] pairs.

There is no functional change in with this update.  It's just a step in
the direction that Jeremy and I have been discussing.

Chris -)-----



****************************************
Date:	Tuesday June 9, 1998 @ 12:17
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv19619

Modified Files:
	nmbd_namelistdb.c proto.h 
Log Message:
Fixed compile problem after make proto.
Chris's reformating of the (rather long named function) find_name_for_remote_broadcast_subnet
(moving the function name onto a line on it's own) caused the proto
awk script to miss it.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 12:26
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1283

Modified Files:
	loadparm.c 
Log Message:
loadparm.c: Removed 'domain other sids' parameter.
lib/rpc/include/rpc_lsa.h: Changed #defines for RPC calls - moved some, made LSA_LOOKUPNAMES correct.
lib/rpc/include/rpc_misc.h: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
                            Changed bitmasks for uid to rid to be 1 bit.
lib/rpc/parse/parse_misc.c: Changed make_unistr2 to put length as given, max length as one more.
lib/rpc/server/srv_netlog.c: Removed 'domain other sids' parameter.
lib/rpc/server/srv_samr.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
lib/rpc/server/srv_util.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 12:26
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/include
In directory samba:/tmp/cvs-serv1283/lib/rpc/include

Modified Files:
	rpc_lsa.h rpc_misc.h 
Log Message:
loadparm.c: Removed 'domain other sids' parameter.
lib/rpc/include/rpc_lsa.h: Changed #defines for RPC calls - moved some, made LSA_LOOKUPNAMES correct.
lib/rpc/include/rpc_misc.h: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
                            Changed bitmasks for uid to rid to be 1 bit.
lib/rpc/parse/parse_misc.c: Changed make_unistr2 to put length as given, max length as one more.
lib/rpc/server/srv_netlog.c: Removed 'domain other sids' parameter.
lib/rpc/server/srv_samr.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
lib/rpc/server/srv_util.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 12:26
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv1283/lib/rpc/parse

Modified Files:
	parse_misc.c 
Log Message:
loadparm.c: Removed 'domain other sids' parameter.
lib/rpc/include/rpc_lsa.h: Changed #defines for RPC calls - moved some, made LSA_LOOKUPNAMES correct.
lib/rpc/include/rpc_misc.h: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
                            Changed bitmasks for uid to rid to be 1 bit.
lib/rpc/parse/parse_misc.c: Changed make_unistr2 to put length as given, max length as one more.
lib/rpc/server/srv_netlog.c: Removed 'domain other sids' parameter.
lib/rpc/server/srv_samr.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
lib/rpc/server/srv_util.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 12:26
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv1283/lib/rpc/server

Modified Files:
	srv_netlog.c srv_samr.c srv_util.c 
Log Message:
loadparm.c: Removed 'domain other sids' parameter.
lib/rpc/include/rpc_lsa.h: Changed #defines for RPC calls - moved some, made LSA_LOOKUPNAMES correct.
lib/rpc/include/rpc_misc.h: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
                            Changed bitmasks for uid to rid to be 1 bit.
lib/rpc/parse/parse_misc.c: Changed make_unistr2 to put length as given, max length as one more.
lib/rpc/server/srv_netlog.c: Removed 'domain other sids' parameter.
lib/rpc/server/srv_samr.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
lib/rpc/server/srv_util.c: Changed DOMAIN_ALIAS_xxx to BUILTIN_ALIAS_xxx.
Jeremy.



****************************************
Date:	Tuesday June 9, 1998 @ 12:33
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/parse
In directory samba:/tmp/cvs-serv14328/lib/rpc/parse

Modified Files:
	parse_misc.c 
Log Message:
I was wrong about the length and max_length values in make_unistr2.
Jeremy.



****************************************
Date:	Wednesday June 10, 1998 @ 11:30
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH40
In directory samba:/tmp/cvs-serv10004/redhat/RH40

Modified Files:
	makerpms.sh samba.spec 
Log Message:
Getting ready for 1.9.18p8 release.



****************************************
Date:	Wednesday June 10, 1998 @ 11:30
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH42
In directory samba:/tmp/cvs-serv10004/redhat/RH42

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Getting ready for 1.9.18p8 release.



****************************************
Date:	Wednesday June 10, 1998 @ 11:30
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv10004/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	makerpms.sh samba.spec 
Log Message:
Getting ready for 1.9.18p8 release.



****************************************
Date:	Thursday June 11, 1998 @ 5:45
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv17859

Modified Files:
	ipc.c reply.c username.c 
Log Message:
De-coupled the mapping of a Windows to UNIX username from the Get_Pwnam
username case conversion wrapper. It is now (very) explicit where we are
mapping between an incoming Windows username, and when we are doing a
UNIX password entry lookup, which may change the case of the given 
username.
This makes things *much* clearer (IMHO:-) and will ease the adding of
the 'groupname map' parameter, and the addition of the special 'jeremy'
mode for Samba where unix users will not be needed. (We must think of
a better name for it :-).
Jeremy.



****************************************
Date:	Thursday June 11, 1998 @ 5:45
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv17859/lib/rpc/server

Modified Files:
	srv_lsa.c srv_netlog.c 
Log Message:
De-coupled the mapping of a Windows to UNIX username from the Get_Pwnam
username case conversion wrapper. It is now (very) explicit where we are
mapping between an incoming Windows username, and when we are doing a
UNIX password entry lookup, which may change the case of the given 
username.
This makes things *much* clearer (IMHO:-) and will ease the adding of
the 'groupname map' parameter, and the addition of the special 'jeremy'
mode for Samba where unix users will not be needed. (We must think of
a better name for it :-).
Jeremy.



****************************************
Date:	Thursday June 11, 1998 @ 5:51
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv10008/source

Modified Files:
	Makefile nameserv.h nmbd_incomingrequests.c nmbd_mynames.c 
	nmbd_namelistdb.c nmbd_subnetdb.c nmbd_winsserver.c 
Log Message:
I've replaced the linked list used to manage the subnet namelists with a
splay tree.  For short lists, this will have no noticable effect.  As
lists (eg. the WINS database) grow longer, the speed improvements should
be quite dramatic.  This change is an incremental step toward replacing
the in-memory namelists with a back-end database.

This change is going into the 1.9.19pre-alpha code because...well...it's
pre-alpha.  Please let me know if there are any problems.

(Oh, as a side-effect, the wins.dat will be in sorted order.  :)

Chris -)-----




****************************************
Date:	Thursday June 11, 1998 @ 9:15
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv21780

Modified Files:
	kanji.c proto.h server.c 
Log Message:
Minor changes as I've now discovered gcc -pedantic-errors. This
does the signed/unsigned warnings I've been missing.
Jeremy



****************************************
Date:	Thursday June 11, 1998 @ 13:24
Author:	crh

Update of /data/cvs/samba/source/ubiqx
In directory samba:/tmp/cvs-serv18174

Modified Files:
	sys_include.h 
Log Message:
Removed the "../" from the #include statement.
David Mathod from Cal Tech is working on a new port to VMS and requested
that such relative references be removed.
Chris -)-----




****************************************
Date:	Thursday June 11, 1998 @ 14:40
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv5715

Modified Files:
	Makefile includes.h 
Log Message:
Removed directory-relative include references.  This required that I add
a -I$(srcdir)ubiqx to CFLAGS in the Makefile.  It might be better to
create a UBIDIR value.  What would people like to see?

Chris -)-----




****************************************
Date:	Friday June 12, 1998 @ 13:08
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv14147

Modified Files:
	ipc.c proto.h reply.c server.c username.c 
Log Message:
ipc.c: map_username is now a BOOL function.
reply.c: map_username is now a BOOL function.
server.c: Added capability to do map_username on service names
          when looking for a home directory. That's what the
          original code would do.
lib/rpc/server/srv_util.c: Changed domain_ to builtin_ for
                           BUILTIN aliases.
username.c: Work in progress on groupname map parameter.
Jeremy



****************************************
Date:	Friday June 12, 1998 @ 13:08
Author:	jra

Update of /data/cvs/samba/source/lib/rpc/server
In directory samba:/tmp/cvs-serv14147/lib/rpc/server

Modified Files:
	srv_util.c 
Log Message:
ipc.c: map_username is now a BOOL function.
reply.c: map_username is now a BOOL function.
server.c: Added capability to do map_username on service names
          when looking for a home directory. That's what the
          original code would do.
lib/rpc/server/srv_util.c: Changed domain_ to builtin_ for
                           BUILTIN aliases.
username.c: Work in progress on groupname map parameter.
Jeremy



****************************************
Date:	Friday June 12, 1998 @ 13:11
Author:	crh

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv12121

Modified Files:
	smb.h 
Log Message:
This is the first, small step toward some tweaks that Jeremy and I have
been discussing regarding the debug mechanism.  With this, I've added a
macro that allows syntax like:

  if( DEBUGLVL( 3 ) )
    {
    Debug1( "message" );
    Debug2( "message" );
    }

The next step is to incorporate timestamps.

Chris -)-----




****************************************
Date:	Saturday June 13, 1998 @ 2:12
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv14212/packaging/redhat/RH50

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Just a little fix. Left out codepage sources for 737  861.



****************************************
Date:	Saturday June 13, 1998 @ 2:32
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv14385

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
More fixes to samba.spec. Added auto-generation of /var/lock/samba/STATUS..LOCK file
and auto-generation of /etc/lmhosts if not pre-existing.



****************************************
Date:	Saturday June 13, 1998 @ 2:47
Author:	jht

Update of /data/cvs/samba/packaging/redhat/RH50
In directory samba:/tmp/cvs-serv10840

Modified Files:
      Tag: BRANCH_1_9_18
	samba.spec 
Log Message:
Fixed typo.



****************************************
Date:	Saturday June 13, 1998 @ 9:34
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv1966

Modified Files:
      Tag: BRANCH_1_9_18
	ipc.c kanji.c password.c proto.h reply.c server.c username.c 
	version.h 
Log Message:
ipc.c: Make the map_username call explicit.
kanji.c: Fix warning found by gcc -pedantic-errors.
password.c: Fix HPUX10 bigcrypt call.
reply.c: Make the map_username call explicit. 
server.c: Fix warning found by gcc -pedantic-errors.
username.c: Cache last call to map_username().
            Made calls to netgroup and /etc/group explicit.
Jeremy.



****************************************
Date:	Saturday June 13, 1998 @ 9:34
Author:	jra

Update of /data/cvs/samba/docs
In directory samba:/tmp/cvs-serv26916

Modified Files:
      Tag: BRANCH_1_9_18
	smb.conf.5 
Log Message:
Added + and & entries for group mapping.
Jeremy.



****************************************
Date:	Saturday June 13, 1998 @ 10:27
Author:	jra

Update of /data/cvs/samba
In directory samba:/tmp/cvs-serv2274

Modified Files:
      Tag: BRANCH_1_9_18
	WHATSNEW.txt 
Log Message:
Updated WHATSNEW.txt for 1.9.18p8.
Jeremy.



****************************************
Date:	Saturday June 13, 1998 @ 10:49
Author:	jra

Update of /data/cvs/samba/source
In directory samba:/tmp/cvs-serv3809

Modified Files:
      Tag: BRANCH_1_9_18
	print_svid.c 
Log Message:
Fixed warning message from gcc when compiling on Solaris 2.6.
Jeremy.



****************************************
Date:	Saturday June 13, 1998 @ 12:21
Author:	samba-bu

Update of /data/cvs/samba/docs
In directory samba:/data/people/samba-bugs/samba-BRANCH_1_9_18/docs

Modified Files:
      Tag: BRANCH_1_9_18
	Application_Serving.txt BROWSING.txt BUGS.txt CVS_ACCESS.txt 
	DHCP-Server-Configuration.txt DIAGNOSIS.txt DNIX.txt 
	DOMAIN.txt DOMAIN_CONTROL.txt ENCRYPTION.txt Faxing.txt 
	GOTCHAS.txt HINTS.txt MIRRORS.txt NTDOMAIN.txt NetBIOS.txt 
	OS2-Client-HOWTO.txt PRINTER_DRIVER.txt PROFILES.txt 
	Passwords.txt Printing.txt SCO.txt Speed.txt Speed2.txt 
	Support.txt Tracing.txt UNIX-SMB.txt UNIX_INSTALL.txt 
	Win95.txt WinNT.txt cifsntdomain.txt make_smbcodepage.1 nmbd.8 
	samba.7 security_level.txt smb.conf.5 smbclient.1 smbd.8 
	smbmnt.8 smbmount.8 smbpasswd.8 smbrun.1 smbstatus.1 smbtar.1 
	smbumount.8 testparm.1 testprns.1 
Log Message:
preparing for release of 1.9.18p8

